"use strict";(()=>{var rD=Object.create;var bg=Object.defineProperty;var aD=Object.getOwnPropertyDescriptor;var oD=Object.getOwnPropertyNames;var nD=Object.getPrototypeOf,sD=Object.prototype.hasOwnProperty;var iD=(e,t,r)=>t in e?bg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var At=(e,t)=>()=>(e&&(t=e(e=0)),t);var Ae=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Uv=(e,t)=>{for(var r in t)bg(e,r,{get:t[r],enumerable:!0})},lD=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oD(t))!sD.call(e,o)&&o!==r&&bg(e,o,{get:()=>t[o],enumerable:!(a=aD(t,o))||a.enumerable});return e};var H=(e,t,r)=>(r=e!=null?rD(nD(e)):{},lD(t||!e||!e.__esModule?bg(r,"default",{value:e,enumerable:!0}):r,e));var ta=(e,t,r)=>(iD(e,typeof t!="symbol"?t+"":t,r),r);var xN=Ae(Zt=>{"use strict";var lf=Symbol.for("react.element"),cD=Symbol.for("react.portal"),dD=Symbol.for("react.fragment"),uD=Symbol.for("react.strict_mode"),fD=Symbol.for("react.profiler"),mD=Symbol.for("react.provider"),pD=Symbol.for("react.context"),gD=Symbol.for("react.forward_ref"),hD=Symbol.for("react.suspense"),vD=Symbol.for("react.memo"),yD=Symbol.for("react.lazy"),lN=Symbol.iterator;function xD(e){return e===null||typeof e!="object"?null:(e=lN&&e[lN]||e["@@iterator"],typeof e=="function"?e:null)}var uN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fN=Object.assign,mN={};function Vc(e,t,r){this.props=e,this.context=t,this.refs=mN,this.updater=r||uN}Vc.prototype.isReactComponent={};Vc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pN(){}pN.prototype=Vc.prototype;function $v(e,t,r){this.props=e,this.context=t,this.refs=mN,this.updater=r||uN}var Hv=$v.prototype=new pN;Hv.constructor=$v;fN(Hv,Vc.prototype);Hv.isPureReactComponent=!0;var cN=Array.isArray,gN=Object.prototype.hasOwnProperty,Vv={current:null},hN={key:!0,ref:!0,__self:!0,__source:!0};function vN(e,t,r){var a,o={},n=null,s=null;if(t!=null)for(a in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(n=""+t.key),t)gN.call(t,a)&&!hN.hasOwnProperty(a)&&(o[a]=t[a]);var i=arguments.length-2;if(i===1)o.children=r;else if(1<i){for(var c=Array(i),l=0;l<i;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(a in i=e.defaultProps,i)o[a]===void 0&&(o[a]=i[a]);return{$$typeof:lf,type:e,key:n,ref:s,props:o,_owner:Vv.current}}function bD(e,t){return{$$typeof:lf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wv(e){return typeof e=="object"&&e!==null&&e.$$typeof===lf}function wD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dN=/\/+/g;function zv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wD(""+e.key):t.toString(36)}function kg(e,t,r,a,o){var n=typeof e;(n==="undefined"||n==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(n){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case lf:case cD:s=!0}}if(s)return s=e,o=o(s),e=a===""?"."+zv(s,0):a,cN(o)?(r="",e!=null&&(r=e.replace(dN,"$&/")+"/"),kg(o,t,r,"",function(l){return l})):o!=null&&(Wv(o)&&(o=bD(o,r+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(dN,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=a===""?".":a+":",cN(e))for(var i=0;i<e.length;i++){n=e[i];var c=a+zv(n,i);s+=kg(n,t,r,c,o)}else if(c=xD(e),typeof c=="function")for(e=c.call(e),i=0;!(n=e.next()).done;)n=n.value,c=a+zv(n,i++),s+=kg(n,t,r,c,o);else if(n==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function wg(e,t,r){if(e==null)return e;var a=[],o=0;return kg(e,a,"","",function(n){return t.call(r,n,o++)}),a}function kD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ro={current:null},Ng={transition:null},ND={ReactCurrentDispatcher:ro,ReactCurrentBatchConfig:Ng,ReactCurrentOwner:Vv};function yN(){throw Error("act(...) is not supported in production builds of React.")}Zt.Children={map:wg,forEach:function(e,t,r){wg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return wg(e,function(){t++}),t},toArray:function(e){return wg(e,function(t){return t})||[]},only:function(e){if(!Wv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Zt.Component=Vc;Zt.Fragment=dD;Zt.Profiler=fD;Zt.PureComponent=$v;Zt.StrictMode=uD;Zt.Suspense=hD;Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ND;Zt.act=yN;Zt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=fN({},e.props),o=e.key,n=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(n=t.ref,s=Vv.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)gN.call(t,c)&&!hN.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){i=Array(c);for(var l=0;l<c;l++)i[l]=arguments[l+2];a.children=i}return{$$typeof:lf,type:e.type,key:o,ref:n,props:a,_owner:s}};Zt.createContext=function(e){return e={$$typeof:pD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mD,_context:e},e.Consumer=e};Zt.createElement=vN;Zt.createFactory=function(e){var t=vN.bind(null,e);return t.type=e,t};Zt.createRef=function(){return{current:null}};Zt.forwardRef=function(e){return{$$typeof:gD,render:e}};Zt.isValidElement=Wv;Zt.lazy=function(e){return{$$typeof:yD,_payload:{_status:-1,_result:e},_init:kD}};Zt.memo=function(e,t){return{$$typeof:vD,type:e,compare:t===void 0?null:t}};Zt.startTransition=function(e){var t=Ng.transition;Ng.transition={};try{e()}finally{Ng.transition=t}};Zt.unstable_act=yN;Zt.useCallback=function(e,t){return ro.current.useCallback(e,t)};Zt.useContext=function(e){return ro.current.useContext(e)};Zt.useDebugValue=function(){};Zt.useDeferredValue=function(e){return ro.current.useDeferredValue(e)};Zt.useEffect=function(e,t){return ro.current.useEffect(e,t)};Zt.useId=function(){return ro.current.useId()};Zt.useImperativeHandle=function(e,t,r){return ro.current.useImperativeHandle(e,t,r)};Zt.useInsertionEffect=function(e,t){return ro.current.useInsertionEffect(e,t)};Zt.useLayoutEffect=function(e,t){return ro.current.useLayoutEffect(e,t)};Zt.useMemo=function(e,t){return ro.current.useMemo(e,t)};Zt.useReducer=function(e,t,r){return ro.current.useReducer(e,t,r)};Zt.useRef=function(e){return ro.current.useRef(e)};Zt.useState=function(e){return ro.current.useState(e)};Zt.useSyncExternalStore=function(e,t,r){return ro.current.useSyncExternalStore(e,t,r)};Zt.useTransition=function(){return ro.current.useTransition()};Zt.version="18.3.1"});var he=Ae((rY,bN)=>{"use strict";bN.exports=xN()});var AN=Ae(wr=>{"use strict";function Yv(e,t){var r=e.length;e.push(t);e:for(;0<r;){var a=r-1>>>1,o=e[a];if(0<Cg(o,t))e[a]=t,e[r]=o,r=a;else break e}}function Mn(e){return e.length===0?null:e[0]}function Eg(e){if(e.length===0)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var a=0,o=e.length,n=o>>>1;a<n;){var s=2*(a+1)-1,i=e[s],c=s+1,l=e[c];if(0>Cg(i,r))c<o&&0>Cg(l,i)?(e[a]=l,e[c]=r,a=c):(e[a]=i,e[s]=r,a=s);else if(c<o&&0>Cg(l,r))e[a]=l,e[c]=r,a=c;else break e}}return t}function Cg(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(wN=performance,wr.unstable_now=function(){return wN.now()}):(Gv=Date,kN=Gv.now(),wr.unstable_now=function(){return Gv.now()-kN});var wN,Gv,kN,hs=[],Ai=[],CD=1,nn=null,za=3,Lg=!1,Il=!1,df=!1,SN=typeof setTimeout=="function"?setTimeout:null,EN=typeof clearTimeout=="function"?clearTimeout:null,NN=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Xv(e){for(var t=Mn(Ai);t!==null;){if(t.callback===null)Eg(Ai);else if(t.startTime<=e)Eg(Ai),t.sortIndex=t.expirationTime,Yv(hs,t);else break;t=Mn(Ai)}}function Jv(e){if(df=!1,Xv(e),!Il)if(Mn(hs)!==null)Il=!0,ey(Zv);else{var t=Mn(Ai);t!==null&&ty(Jv,t.startTime-e)}}function Zv(e,t){Il=!1,df&&(df=!1,EN(uf),uf=-1),Lg=!0;var r=za;try{for(Xv(t),nn=Mn(hs);nn!==null&&(!(nn.expirationTime>t)||e&&!RN());){var a=nn.callback;if(typeof a=="function"){nn.callback=null,za=nn.priorityLevel;var o=a(nn.expirationTime<=t);t=wr.unstable_now(),typeof o=="function"?nn.callback=o:nn===Mn(hs)&&Eg(hs),Xv(t)}else Eg(hs);nn=Mn(hs)}if(nn!==null)var n=!0;else{var s=Mn(Ai);s!==null&&ty(Jv,s.startTime-t),n=!1}return n}finally{nn=null,za=r,Lg=!1}}var Ig=!1,Sg=null,uf=-1,LN=5,IN=-1;function RN(){return!(wr.unstable_now()-IN<LN)}function Kv(){if(Sg!==null){var e=wr.unstable_now();IN=e;var t=!0;try{t=Sg(!0,e)}finally{t?cf():(Ig=!1,Sg=null)}}else Ig=!1}var cf;typeof NN=="function"?cf=function(){NN(Kv)}:typeof MessageChannel<"u"?(Qv=new MessageChannel,CN=Qv.port2,Qv.port1.onmessage=Kv,cf=function(){CN.postMessage(null)}):cf=function(){SN(Kv,0)};var Qv,CN;function ey(e){Sg=e,Ig||(Ig=!0,cf())}function ty(e,t){uf=SN(function(){e(wr.unstable_now())},t)}wr.unstable_IdlePriority=5;wr.unstable_ImmediatePriority=1;wr.unstable_LowPriority=4;wr.unstable_NormalPriority=3;wr.unstable_Profiling=null;wr.unstable_UserBlockingPriority=2;wr.unstable_cancelCallback=function(e){e.callback=null};wr.unstable_continueExecution=function(){Il||Lg||(Il=!0,ey(Zv))};wr.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):LN=0<e?Math.floor(1e3/e):5};wr.unstable_getCurrentPriorityLevel=function(){return za};wr.unstable_getFirstCallbackNode=function(){return Mn(hs)};wr.unstable_next=function(e){switch(za){case 1:case 2:case 3:var t=3;break;default:t=za}var r=za;za=t;try{return e()}finally{za=r}};wr.unstable_pauseExecution=function(){};wr.unstable_requestPaint=function(){};wr.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=za;za=e;try{return t()}finally{za=r}};wr.unstable_scheduleCallback=function(e,t,r){var a=wr.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?a+r:a):r=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=r+o,e={id:CD++,callback:t,priorityLevel:e,startTime:r,expirationTime:o,sortIndex:-1},r>a?(e.sortIndex=r,Yv(Ai,e),Mn(hs)===null&&e===Mn(Ai)&&(df?(EN(uf),uf=-1):df=!0,ty(Jv,r-a))):(e.sortIndex=o,Yv(hs,e),Il||Lg||(Il=!0,ey(Zv))),e};wr.unstable_shouldYield=RN;wr.unstable_wrapCallback=function(e){var t=za;return function(){var r=za;za=t;try{return e.apply(this,arguments)}finally{za=r}}}});var TN=Ae((oY,PN)=>{"use strict";PN.exports=AN()});var MS=Ae(Uo=>{"use strict";var SD=he(),qo=TN();function $e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q2=new Set,Df={};function Ul(e,t){fd(e,t),fd(e+"Capture",t)}function fd(e,t){for(Df[e]=t,e=0;e<t.length;e++)q2.add(t[e])}var Qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cy=Object.prototype.hasOwnProperty,ED=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DN={},FN={};function LD(e){return Cy.call(FN,e)?!0:Cy.call(DN,e)?!1:ED.test(e)?FN[e]=!0:(DN[e]=!0,!1)}function ID(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function RD(e,t,r,a){if(t===null||typeof t>"u"||ID(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function no(e,t,r,a,o,n,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=n,this.removeEmptyString=s}var Ma={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ma[e]=new no(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ma[t]=new no(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ma[e]=new no(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ma[e]=new no(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ma[e]=new no(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ma[e]=new no(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ma[e]=new no(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ma[e]=new no(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ma[e]=new no(e,5,!1,e.toLowerCase(),null,!1,!1)});var hx=/[\-:]([a-z])/g;function vx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hx,vx);Ma[t]=new no(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hx,vx);Ma[t]=new no(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hx,vx);Ma[t]=new no(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ma[e]=new no(e,1,!1,e.toLowerCase(),null,!1,!1)});Ma.xlinkHref=new no("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ma[e]=new no(e,1,!1,e.toLowerCase(),null,!0,!0)});function yx(e,t,r,a){var o=Ma.hasOwnProperty(t)?Ma[t]:null;(o!==null?o.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(RD(t,r,o,a)&&(r=null),a||o===null?LD(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,a=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var Zs=SD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rg=Symbol.for("react.element"),Kc=Symbol.for("react.portal"),Qc=Symbol.for("react.fragment"),xx=Symbol.for("react.strict_mode"),Sy=Symbol.for("react.profiler"),j2=Symbol.for("react.provider"),U2=Symbol.for("react.context"),bx=Symbol.for("react.forward_ref"),Ey=Symbol.for("react.suspense"),Ly=Symbol.for("react.suspense_list"),wx=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var z2=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var ON=Symbol.iterator;function ff(e){return e===null||typeof e!="object"?null:(e=ON&&e[ON]||e["@@iterator"],typeof e=="function"?e:null)}var zr=Object.assign,ry;function bf(e){if(ry===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ry=t&&t[1]||""}return`
`+ry+e}var ay=!1;function oy(e,t){if(!e||ay)return"";ay=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var a=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){a=l}e.call(t.prototype)}else{try{throw Error()}catch(l){a=l}e()}}catch(l){if(l&&a&&typeof l.stack=="string"){for(var o=l.stack.split(`
`),n=a.stack.split(`
`),s=o.length-1,i=n.length-1;1<=s&&0<=i&&o[s]!==n[i];)i--;for(;1<=s&&0<=i;s--,i--)if(o[s]!==n[i]){if(s!==1||i!==1)do if(s--,i--,0>i||o[s]!==n[i]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=i);break}}}finally{ay=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bf(e):""}function AD(e){switch(e.tag){case 5:return bf(e.type);case 16:return bf("Lazy");case 13:return bf("Suspense");case 19:return bf("SuspenseList");case 0:case 2:case 15:return e=oy(e.type,!1),e;case 11:return e=oy(e.type.render,!1),e;case 1:return e=oy(e.type,!0),e;default:return""}}function Iy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qc:return"Fragment";case Kc:return"Portal";case Sy:return"Profiler";case xx:return"StrictMode";case Ey:return"Suspense";case Ly:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case U2:return(e.displayName||"Context")+".Consumer";case j2:return(e._context.displayName||"Context")+".Provider";case bx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wx:return t=e.displayName||null,t!==null?t:Iy(e.type)||"Memo";case Ti:t=e._payload,e=e._init;try{return Iy(e(t))}catch{}}return null}function PD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Iy(t);case 8:return t===xx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TD(e){var t=$2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,n=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){a=""+s,n.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(s){a=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ag(e){e._valueTracker||(e._valueTracker=TD(e))}function H2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=$2(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function oh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ry(e,t){var r=t.checked;return zr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function MN(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=Wi(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function V2(e,t){t=t.checked,t!=null&&yx(e,"checked",t,!1)}function Ay(e,t){V2(e,t);var r=Wi(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Py(e,t.type,r):t.hasOwnProperty("defaultValue")&&Py(e,t.type,Wi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _N(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Py(e,t,r){(t!=="number"||oh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wf=Array.isArray;function sd(e,t,r,a){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&a&&(e[r].defaultSelected=!0)}else{for(r=""+Wi(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ty(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($e(91));return zr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function BN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($e(92));if(wf(r)){if(1<r.length)throw Error($e(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Wi(r)}}function W2(e,t){var r=Wi(t.value),a=Wi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function qN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function G2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?G2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pg,K2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pg=Pg||document.createElement("div"),Pg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ff(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DD=["Webkit","ms","Moz","O"];Object.keys(Cf).forEach(function(e){DD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cf[t]=Cf[e]})});function Q2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cf.hasOwnProperty(e)&&Cf[e]?(""+t).trim():t+"px"}function Y2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,o=Q2(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,o):e[r]=o}}var FD=zr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fy(e,t){if(t){if(FD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($e(61))}if(t.style!=null&&typeof t.style!="object")throw Error($e(62))}}function Oy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var My=null;function kx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _y=null,id=null,ld=null;function jN(e){if(e=Jf(e)){if(typeof _y!="function")throw Error($e(280));var t=e.stateNode;t&&(t=Th(t),_y(e.stateNode,e.type,t))}}function X2(e){id?ld?ld.push(e):ld=[e]:id=e}function J2(){if(id){var e=id,t=ld;if(ld=id=null,jN(e),t)for(e=0;e<t.length;e++)jN(t[e])}}function Z2(e,t){return e(t)}function eC(){}var ny=!1;function tC(e,t,r){if(ny)return e(t,r);ny=!0;try{return Z2(e,t,r)}finally{ny=!1,(id!==null||ld!==null)&&(eC(),J2())}}function Of(e,t){var r=e.stateNode;if(r===null)return null;var a=Th(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($e(231,t,typeof r));return r}var By=!1;if(Qs)try{Wc={},Object.defineProperty(Wc,"passive",{get:function(){By=!0}}),window.addEventListener("test",Wc,Wc),window.removeEventListener("test",Wc,Wc)}catch{By=!1}var Wc;function OD(e,t,r,a,o,n,s,i,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(d){this.onError(d)}}var Sf=!1,nh=null,sh=!1,qy=null,MD={onError:function(e){Sf=!0,nh=e}};function _D(e,t,r,a,o,n,s,i,c){Sf=!1,nh=null,OD.apply(MD,arguments)}function BD(e,t,r,a,o,n,s,i,c){if(_D.apply(this,arguments),Sf){if(Sf){var l=nh;Sf=!1,nh=null}else throw Error($e(198));sh||(sh=!0,qy=l)}}function zl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function rC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function UN(e){if(zl(e)!==e)throw Error($e(188))}function qD(e){var t=e.alternate;if(!t){if(t=zl(e),t===null)throw Error($e(188));return t!==e?null:e}for(var r=e,a=t;;){var o=r.return;if(o===null)break;var n=o.alternate;if(n===null){if(a=o.return,a!==null){r=a;continue}break}if(o.child===n.child){for(n=o.child;n;){if(n===r)return UN(o),e;if(n===a)return UN(o),t;n=n.sibling}throw Error($e(188))}if(r.return!==a.return)r=o,a=n;else{for(var s=!1,i=o.child;i;){if(i===r){s=!0,r=o,a=n;break}if(i===a){s=!0,a=o,r=n;break}i=i.sibling}if(!s){for(i=n.child;i;){if(i===r){s=!0,r=n,a=o;break}if(i===a){s=!0,a=n,r=o;break}i=i.sibling}if(!s)throw Error($e(189))}}if(r.alternate!==a)throw Error($e(190))}if(r.tag!==3)throw Error($e(188));return r.stateNode.current===r?e:t}function aC(e){return e=qD(e),e!==null?oC(e):null}function oC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oC(e);if(t!==null)return t;e=e.sibling}return null}var nC=qo.unstable_scheduleCallback,zN=qo.unstable_cancelCallback,jD=qo.unstable_shouldYield,UD=qo.unstable_requestPaint,ra=qo.unstable_now,zD=qo.unstable_getCurrentPriorityLevel,Nx=qo.unstable_ImmediatePriority,sC=qo.unstable_UserBlockingPriority,ih=qo.unstable_NormalPriority,$D=qo.unstable_LowPriority,iC=qo.unstable_IdlePriority,Ih=null,bs=null;function HD(e){if(bs&&typeof bs.onCommitFiberRoot=="function")try{bs.onCommitFiberRoot(Ih,e,void 0,(e.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:GD,VD=Math.log,WD=Math.LN2;function GD(e){return e>>>=0,e===0?32:31-(VD(e)/WD|0)|0}var Tg=64,Dg=4194304;function kf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lh(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,o=e.suspendedLanes,n=e.pingedLanes,s=r&268435455;if(s!==0){var i=s&~o;i!==0?a=kf(i):(n&=s,n!==0&&(a=kf(n)))}else s=r&~o,s!==0?a=kf(s):n!==0&&(a=kf(n));if(a===0)return 0;if(t!==0&&t!==a&&!(t&o)&&(o=a&-a,n=t&-t,o>=n||o===16&&(n&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-Un(t),o=1<<r,a|=e[r],t&=~o;return a}function KD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QD(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,n=e.pendingLanes;0<n;){var s=31-Un(n),i=1<<s,c=o[s];c===-1?(!(i&r)||i&a)&&(o[s]=KD(i,t)):c<=t&&(e.expiredLanes|=i),n&=~i}}function jy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lC(){var e=Tg;return Tg<<=1,!(Tg&4194240)&&(Tg=64),e}function sy(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Yf(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Un(t),e[t]=r}function YD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Un(r),n=1<<o;t[o]=0,a[o]=-1,e[o]=-1,r&=~n}}function Cx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-Un(r),o=1<<a;o&t|e[a]&t&&(e[a]|=t),r&=~o}}var vr=0;function cC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dC,Sx,uC,fC,mC,Uy=!1,Fg=[],Bi=null,qi=null,ji=null,Mf=new Map,_f=new Map,Fi=[],XD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $N(e,t){switch(e){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Mf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_f.delete(t.pointerId)}}function mf(e,t,r,a,o,n){return e===null||e.nativeEvent!==n?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:n,targetContainers:[o]},t!==null&&(t=Jf(t),t!==null&&Sx(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function JD(e,t,r,a,o){switch(t){case"focusin":return Bi=mf(Bi,e,t,r,a,o),!0;case"dragenter":return qi=mf(qi,e,t,r,a,o),!0;case"mouseover":return ji=mf(ji,e,t,r,a,o),!0;case"pointerover":var n=o.pointerId;return Mf.set(n,mf(Mf.get(n)||null,e,t,r,a,o)),!0;case"gotpointercapture":return n=o.pointerId,_f.set(n,mf(_f.get(n)||null,e,t,r,a,o)),!0}return!1}function pC(e){var t=Pl(e.target);if(t!==null){var r=zl(t);if(r!==null){if(t=r.tag,t===13){if(t=rC(r),t!==null){e.blockedOn=t,mC(e.priority,function(){uC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=zy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);My=a,r.target.dispatchEvent(a),My=null}else return t=Jf(r),t!==null&&Sx(t),e.blockedOn=r,!1;t.shift()}return!0}function HN(e,t,r){Kg(e)&&r.delete(t)}function ZD(){Uy=!1,Bi!==null&&Kg(Bi)&&(Bi=null),qi!==null&&Kg(qi)&&(qi=null),ji!==null&&Kg(ji)&&(ji=null),Mf.forEach(HN),_f.forEach(HN)}function pf(e,t){e.blockedOn===t&&(e.blockedOn=null,Uy||(Uy=!0,qo.unstable_scheduleCallback(qo.unstable_NormalPriority,ZD)))}function Bf(e){function t(o){return pf(o,e)}if(0<Fg.length){pf(Fg[0],e);for(var r=1;r<Fg.length;r++){var a=Fg[r];a.blockedOn===e&&(a.blockedOn=null)}}for(Bi!==null&&pf(Bi,e),qi!==null&&pf(qi,e),ji!==null&&pf(ji,e),Mf.forEach(t),_f.forEach(t),r=0;r<Fi.length;r++)a=Fi[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<Fi.length&&(r=Fi[0],r.blockedOn===null);)pC(r),r.blockedOn===null&&Fi.shift()}var cd=Zs.ReactCurrentBatchConfig,ch=!0;function eF(e,t,r,a){var o=vr,n=cd.transition;cd.transition=null;try{vr=1,Ex(e,t,r,a)}finally{vr=o,cd.transition=n}}function tF(e,t,r,a){var o=vr,n=cd.transition;cd.transition=null;try{vr=4,Ex(e,t,r,a)}finally{vr=o,cd.transition=n}}function Ex(e,t,r,a){if(ch){var o=zy(e,t,r,a);if(o===null)my(e,t,a,dh,r),$N(e,a);else if(JD(o,e,t,r,a))a.stopPropagation();else if($N(e,a),t&4&&-1<XD.indexOf(e)){for(;o!==null;){var n=Jf(o);if(n!==null&&dC(n),n=zy(e,t,r,a),n===null&&my(e,t,a,dh,r),n===o)break;o=n}o!==null&&a.stopPropagation()}else my(e,t,a,null,r)}}var dh=null;function zy(e,t,r,a){if(dh=null,e=kx(a),e=Pl(e),e!==null)if(t=zl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=rC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dh=e,null}function gC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zD()){case Nx:return 1;case sC:return 4;case ih:case $D:return 16;case iC:return 536870912;default:return 16}default:return 16}}var Mi=null,Lx=null,Qg=null;function hC(){if(Qg)return Qg;var e,t=Lx,r=t.length,a,o="value"in Mi?Mi.value:Mi.textContent,n=o.length;for(e=0;e<r&&t[e]===o[e];e++);var s=r-e;for(a=1;a<=s&&t[r-a]===o[n-a];a++);return Qg=o.slice(e,1<a?1-a:void 0)}function Yg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Og(){return!0}function VN(){return!1}function jo(e){function t(r,a,o,n,s){this._reactName=r,this._targetInst=o,this.type=a,this.nativeEvent=n,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(n):n[i]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?Og:VN,this.isPropagationStopped=VN,this}return zr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Og)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Og)},persist:function(){},isPersistent:Og}),t}var xd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ix=jo(xd),Xf=zr({},xd,{view:0,detail:0}),rF=jo(Xf),iy,ly,gf,Rh=zr({},Xf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gf&&(gf&&e.type==="mousemove"?(iy=e.screenX-gf.screenX,ly=e.screenY-gf.screenY):ly=iy=0,gf=e),iy)},movementY:function(e){return"movementY"in e?e.movementY:ly}}),WN=jo(Rh),aF=zr({},Rh,{dataTransfer:0}),oF=jo(aF),nF=zr({},Xf,{relatedTarget:0}),cy=jo(nF),sF=zr({},xd,{animationName:0,elapsedTime:0,pseudoElement:0}),iF=jo(sF),lF=zr({},xd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cF=jo(lF),dF=zr({},xd,{data:0}),GN=jo(dF),uF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pF(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mF[e])?!!t[e]:!1}function Rx(){return pF}var gF=zr({},Xf,{key:function(e){if(e.key){var t=uF[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fF[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rx,charCode:function(e){return e.type==="keypress"?Yg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hF=jo(gF),vF=zr({},Rh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KN=jo(vF),yF=zr({},Xf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rx}),xF=jo(yF),bF=zr({},xd,{propertyName:0,elapsedTime:0,pseudoElement:0}),wF=jo(bF),kF=zr({},Rh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NF=jo(kF),CF=[9,13,27,32],Ax=Qs&&"CompositionEvent"in window,Ef=null;Qs&&"documentMode"in document&&(Ef=document.documentMode);var SF=Qs&&"TextEvent"in window&&!Ef,vC=Qs&&(!Ax||Ef&&8<Ef&&11>=Ef),QN=" ",YN=!1;function yC(e,t){switch(e){case"keyup":return CF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yc=!1;function EF(e,t){switch(e){case"compositionend":return xC(t);case"keypress":return t.which!==32?null:(YN=!0,QN);case"textInput":return e=t.data,e===QN&&YN?null:e;default:return null}}function LF(e,t){if(Yc)return e==="compositionend"||!Ax&&yC(e,t)?(e=hC(),Qg=Lx=Mi=null,Yc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vC&&t.locale!=="ko"?null:t.data;default:return null}}var IF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!IF[e.type]:t==="textarea"}function bC(e,t,r,a){X2(a),t=uh(t,"onChange"),0<t.length&&(r=new Ix("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var Lf=null,qf=null;function RF(e){PC(e,0)}function Ah(e){var t=Zc(e);if(H2(t))return e}function AF(e,t){if(e==="change")return t}var wC=!1;Qs&&(Qs?(_g="oninput"in document,_g||(dy=document.createElement("div"),dy.setAttribute("oninput","return;"),_g=typeof dy.oninput=="function"),Mg=_g):Mg=!1,wC=Mg&&(!document.documentMode||9<document.documentMode));var Mg,_g,dy;function JN(){Lf&&(Lf.detachEvent("onpropertychange",kC),qf=Lf=null)}function kC(e){if(e.propertyName==="value"&&Ah(qf)){var t=[];bC(t,qf,e,kx(e)),tC(RF,t)}}function PF(e,t,r){e==="focusin"?(JN(),Lf=t,qf=r,Lf.attachEvent("onpropertychange",kC)):e==="focusout"&&JN()}function TF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ah(qf)}function DF(e,t){if(e==="click")return Ah(t)}function FF(e,t){if(e==="input"||e==="change")return Ah(t)}function OF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $n=typeof Object.is=="function"?Object.is:OF;function jf(e,t){if($n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var o=r[a];if(!Cy.call(t,o)||!$n(e[o],t[o]))return!1}return!0}function ZN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function e2(e,t){var r=ZN(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ZN(r)}}function NC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?NC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function CC(){for(var e=window,t=oh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=oh(e.document)}return t}function Px(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function MF(e){var t=CC(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&NC(r.ownerDocument.documentElement,r)){if(a!==null&&Px(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,n=Math.min(a.start,o);a=a.end===void 0?n:Math.min(a.end,o),!e.extend&&n>a&&(o=a,a=n,n=o),o=e2(r,n);var s=e2(r,a);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),n>a?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _F=Qs&&"documentMode"in document&&11>=document.documentMode,Xc=null,$y=null,If=null,Hy=!1;function t2(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hy||Xc==null||Xc!==oh(a)||(a=Xc,"selectionStart"in a&&Px(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),If&&jf(If,a)||(If=a,a=uh($y,"onSelect"),0<a.length&&(t=new Ix("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=Xc)))}function Bg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Jc={animationend:Bg("Animation","AnimationEnd"),animationiteration:Bg("Animation","AnimationIteration"),animationstart:Bg("Animation","AnimationStart"),transitionend:Bg("Transition","TransitionEnd")},uy={},SC={};Qs&&(SC=document.createElement("div").style,"AnimationEvent"in window||(delete Jc.animationend.animation,delete Jc.animationiteration.animation,delete Jc.animationstart.animation),"TransitionEvent"in window||delete Jc.transitionend.transition);function Ph(e){if(uy[e])return uy[e];if(!Jc[e])return e;var t=Jc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in SC)return uy[e]=t[r];return e}var EC=Ph("animationend"),LC=Ph("animationiteration"),IC=Ph("animationstart"),RC=Ph("transitionend"),AC=new Map,r2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(e,t){AC.set(e,t),Ul(t,[e])}for(qg=0;qg<r2.length;qg++)jg=r2[qg],a2=jg.toLowerCase(),o2=jg[0].toUpperCase()+jg.slice(1),Ki(a2,"on"+o2);var jg,a2,o2,qg;Ki(EC,"onAnimationEnd");Ki(LC,"onAnimationIteration");Ki(IC,"onAnimationStart");Ki("dblclick","onDoubleClick");Ki("focusin","onFocus");Ki("focusout","onBlur");Ki(RC,"onTransitionEnd");fd("onMouseEnter",["mouseout","mouseover"]);fd("onMouseLeave",["mouseout","mouseover"]);fd("onPointerEnter",["pointerout","pointerover"]);fd("onPointerLeave",["pointerout","pointerover"]);Ul("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ul("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ul("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ul("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ul("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ul("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nf));function n2(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,BD(a,t,void 0,e),e.currentTarget=null}function PC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],o=a.event;a=a.listeners;e:{var n=void 0;if(t)for(var s=a.length-1;0<=s;s--){var i=a[s],c=i.instance,l=i.currentTarget;if(i=i.listener,c!==n&&o.isPropagationStopped())break e;n2(o,i,l),n=c}else for(s=0;s<a.length;s++){if(i=a[s],c=i.instance,l=i.currentTarget,i=i.listener,c!==n&&o.isPropagationStopped())break e;n2(o,i,l),n=c}}}if(sh)throw e=qy,sh=!1,qy=null,e}function Ir(e,t){var r=t[Qy];r===void 0&&(r=t[Qy]=new Set);var a=e+"__bubble";r.has(a)||(TC(t,e,2,!1),r.add(a))}function fy(e,t,r){var a=0;t&&(a|=4),TC(r,e,a,t)}var Ug="_reactListening"+Math.random().toString(36).slice(2);function Uf(e){if(!e[Ug]){e[Ug]=!0,q2.forEach(function(r){r!=="selectionchange"&&(BF.has(r)||fy(r,!1,e),fy(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ug]||(t[Ug]=!0,fy("selectionchange",!1,t))}}function TC(e,t,r,a){switch(gC(t)){case 1:var o=eF;break;case 4:o=tF;break;default:o=Ex}r=o.bind(null,t,r,e),o=void 0,!By||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function my(e,t,r,a,o){var n=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var s=a.tag;if(s===3||s===4){var i=a.stateNode.containerInfo;if(i===o||i.nodeType===8&&i.parentNode===o)break;if(s===4)for(s=a.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;i!==null;){if(s=Pl(i),s===null)return;if(c=s.tag,c===5||c===6){a=n=s;continue e}i=i.parentNode}}a=a.return}tC(function(){var l=n,d=kx(r),u=[];e:{var g=AC.get(e);if(g!==void 0){var h=Ix,v=e;switch(e){case"keypress":if(Yg(r)===0)break e;case"keydown":case"keyup":h=hF;break;case"focusin":v="focus",h=cy;break;case"focusout":v="blur",h=cy;break;case"beforeblur":case"afterblur":h=cy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=WN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=oF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=xF;break;case EC:case LC:case IC:h=iF;break;case RC:h=wF;break;case"scroll":h=rF;break;case"wheel":h=NF;break;case"copy":case"cut":case"paste":h=cF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=KN}var m=(t&4)!==0,y=!m&&e==="scroll",p=m?g!==null?g+"Capture":null:g;m=[];for(var f=l,x;f!==null;){x=f;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,p!==null&&(b=Of(f,p),b!=null&&m.push(zf(f,b,x)))),y)break;f=f.return}0<m.length&&(g=new h(g,v,null,r,d),u.push({event:g,listeners:m}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",g&&r!==My&&(v=r.relatedTarget||r.fromElement)&&(Pl(v)||v[Ys]))break e;if((h||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,h?(v=r.relatedTarget||r.toElement,h=l,v=v?Pl(v):null,v!==null&&(y=zl(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=l),h!==v)){if(m=WN,b="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(m=KN,b="onPointerLeave",p="onPointerEnter",f="pointer"),y=h==null?g:Zc(h),x=v==null?g:Zc(v),g=new m(b,f+"leave",h,r,d),g.target=y,g.relatedTarget=x,b=null,Pl(d)===l&&(m=new m(p,f+"enter",v,r,d),m.target=x,m.relatedTarget=y,b=m),y=b,h&&v)t:{for(m=h,p=v,f=0,x=m;x;x=Gc(x))f++;for(x=0,b=p;b;b=Gc(b))x++;for(;0<f-x;)m=Gc(m),f--;for(;0<x-f;)p=Gc(p),x--;for(;f--;){if(m===p||p!==null&&m===p.alternate)break t;m=Gc(m),p=Gc(p)}m=null}else m=null;h!==null&&s2(u,g,h,m,!1),v!==null&&y!==null&&s2(u,y,v,m,!0)}}e:{if(g=l?Zc(l):window,h=g.nodeName&&g.nodeName.toLowerCase(),h==="select"||h==="input"&&g.type==="file")var w=AF;else if(XN(g))if(wC)w=FF;else{w=TF;var N=PF}else(h=g.nodeName)&&h.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(w=DF);if(w&&(w=w(e,l))){bC(u,w,r,d);break e}N&&N(e,g,l),e==="focusout"&&(N=g._wrapperState)&&N.controlled&&g.type==="number"&&Py(g,"number",g.value)}switch(N=l?Zc(l):window,e){case"focusin":(XN(N)||N.contentEditable==="true")&&(Xc=N,$y=l,If=null);break;case"focusout":If=$y=Xc=null;break;case"mousedown":Hy=!0;break;case"contextmenu":case"mouseup":case"dragend":Hy=!1,t2(u,r,d);break;case"selectionchange":if(_F)break;case"keydown":case"keyup":t2(u,r,d)}var I;if(Ax)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Yc?yC(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(vC&&r.locale!=="ko"&&(Yc||C!=="onCompositionStart"?C==="onCompositionEnd"&&Yc&&(I=hC()):(Mi=d,Lx="value"in Mi?Mi.value:Mi.textContent,Yc=!0)),N=uh(l,C),0<N.length&&(C=new GN(C,e,null,r,d),u.push({event:C,listeners:N}),I?C.data=I:(I=xC(r),I!==null&&(C.data=I)))),(I=SF?EF(e,r):LF(e,r))&&(l=uh(l,"onBeforeInput"),0<l.length&&(d=new GN("onBeforeInput","beforeinput",null,r,d),u.push({event:d,listeners:l}),d.data=I))}PC(u,t)})}function zf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function uh(e,t){for(var r=t+"Capture",a=[];e!==null;){var o=e,n=o.stateNode;o.tag===5&&n!==null&&(o=n,n=Of(e,r),n!=null&&a.unshift(zf(e,n,o)),n=Of(e,t),n!=null&&a.push(zf(e,n,o))),e=e.return}return a}function Gc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function s2(e,t,r,a,o){for(var n=t._reactName,s=[];r!==null&&r!==a;){var i=r,c=i.alternate,l=i.stateNode;if(c!==null&&c===a)break;i.tag===5&&l!==null&&(i=l,o?(c=Of(r,n),c!=null&&s.unshift(zf(r,c,i))):o||(c=Of(r,n),c!=null&&s.push(zf(r,c,i)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var qF=/\r\n?/g,jF=/\u0000|\uFFFD/g;function i2(e){return(typeof e=="string"?e:""+e).replace(qF,`
`).replace(jF,"")}function zg(e,t,r){if(t=i2(t),i2(e)!==t&&r)throw Error($e(425))}function fh(){}var Vy=null,Wy=null;function Gy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ky=typeof setTimeout=="function"?setTimeout:void 0,UF=typeof clearTimeout=="function"?clearTimeout:void 0,l2=typeof Promise=="function"?Promise:void 0,zF=typeof queueMicrotask=="function"?queueMicrotask:typeof l2<"u"?function(e){return l2.resolve(null).then(e).catch($F)}:Ky;function $F(e){setTimeout(function(){throw e})}function py(e,t){var r=t,a=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(a===0){e.removeChild(o),Bf(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=o}while(r);Bf(t)}function Ui(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function c2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var bd=Math.random().toString(36).slice(2),xs="__reactFiber$"+bd,$f="__reactProps$"+bd,Ys="__reactContainer$"+bd,Qy="__reactEvents$"+bd,HF="__reactListeners$"+bd,VF="__reactHandles$"+bd;function Pl(e){var t=e[xs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ys]||r[xs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=c2(e);e!==null;){if(r=e[xs])return r;e=c2(e)}return t}e=r,r=e.parentNode}return null}function Jf(e){return e=e[xs]||e[Ys],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($e(33))}function Th(e){return e[$f]||null}var Yy=[],ed=-1;function Qi(e){return{current:e}}function Rr(e){0>ed||(e.current=Yy[ed],Yy[ed]=null,ed--)}function kr(e,t){ed++,Yy[ed]=e.current,e.current=t}var Gi={},Wa=Qi(Gi),xo=Qi(!1),Ml=Gi;function md(e,t){var r=e.type.contextTypes;if(!r)return Gi;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var o={},n;for(n in r)o[n]=t[n];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function bo(e){return e=e.childContextTypes,e!=null}function mh(){Rr(xo),Rr(Wa)}function d2(e,t,r){if(Wa.current!==Gi)throw Error($e(168));kr(Wa,t),kr(xo,r)}function DC(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var o in a)if(!(o in t))throw Error($e(108,PD(e)||"Unknown",o));return zr({},r,a)}function ph(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gi,Ml=Wa.current,kr(Wa,e),kr(xo,xo.current),!0}function u2(e,t,r){var a=e.stateNode;if(!a)throw Error($e(169));r?(e=DC(e,t,Ml),a.__reactInternalMemoizedMergedChildContext=e,Rr(xo),Rr(Wa),kr(Wa,e)):Rr(xo),kr(xo,r)}var Vs=null,Dh=!1,gy=!1;function FC(e){Vs===null?Vs=[e]:Vs.push(e)}function WF(e){Dh=!0,FC(e)}function Yi(){if(!gy&&Vs!==null){gy=!0;var e=0,t=vr;try{var r=Vs;for(vr=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}Vs=null,Dh=!1}catch(o){throw Vs!==null&&(Vs=Vs.slice(e+1)),nC(Nx,Yi),o}finally{vr=t,gy=!1}}return null}var td=[],rd=0,gh=null,hh=0,sn=[],ln=0,_l=null,Ws=1,Gs="";function Rl(e,t){td[rd++]=hh,td[rd++]=gh,gh=e,hh=t}function OC(e,t,r){sn[ln++]=Ws,sn[ln++]=Gs,sn[ln++]=_l,_l=e;var a=Ws;e=Gs;var o=32-Un(a)-1;a&=~(1<<o),r+=1;var n=32-Un(t)+o;if(30<n){var s=o-o%5;n=(a&(1<<s)-1).toString(32),a>>=s,o-=s,Ws=1<<32-Un(t)+o|r<<o|a,Gs=n+e}else Ws=1<<n|r<<o|a,Gs=e}function Tx(e){e.return!==null&&(Rl(e,1),OC(e,1,0))}function Dx(e){for(;e===gh;)gh=td[--rd],td[rd]=null,hh=td[--rd],td[rd]=null;for(;e===_l;)_l=sn[--ln],sn[ln]=null,Gs=sn[--ln],sn[ln]=null,Ws=sn[--ln],sn[ln]=null}var Bo=null,_o=null,Or=!1,jn=null;function MC(e,t){var r=cn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function f2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bo=e,_o=Ui(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bo=e,_o=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_l!==null?{id:Ws,overflow:Gs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=cn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Bo=e,_o=null,!0):!1;default:return!1}}function Xy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jy(e){if(Or){var t=_o;if(t){var r=t;if(!f2(e,t)){if(Xy(e))throw Error($e(418));t=Ui(r.nextSibling);var a=Bo;t&&f2(e,t)?MC(a,r):(e.flags=e.flags&-4097|2,Or=!1,Bo=e)}}else{if(Xy(e))throw Error($e(418));e.flags=e.flags&-4097|2,Or=!1,Bo=e}}}function m2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bo=e}function $g(e){if(e!==Bo)return!1;if(!Or)return m2(e),Or=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gy(e.type,e.memoizedProps)),t&&(t=_o)){if(Xy(e))throw _C(),Error($e(418));for(;t;)MC(e,t),t=Ui(t.nextSibling)}if(m2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){_o=Ui(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}_o=null}}else _o=Bo?Ui(e.stateNode.nextSibling):null;return!0}function _C(){for(var e=_o;e;)e=Ui(e.nextSibling)}function pd(){_o=Bo=null,Or=!1}function Fx(e){jn===null?jn=[e]:jn.push(e)}var GF=Zs.ReactCurrentBatchConfig;function hf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($e(309));var a=r.stateNode}if(!a)throw Error($e(147,e));var o=a,n=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===n?t.ref:(t=function(s){var i=o.refs;s===null?delete i[n]:i[n]=s},t._stringRef=n,t)}if(typeof e!="string")throw Error($e(284));if(!r._owner)throw Error($e(290,e))}return e}function Hg(e,t){throw e=Object.prototype.toString.call(t),Error($e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function p2(e){var t=e._init;return t(e._payload)}function BC(e){function t(p,f){if(e){var x=p.deletions;x===null?(p.deletions=[f],p.flags|=16):x.push(f)}}function r(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function a(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function o(p,f){return p=Vi(p,f),p.index=0,p.sibling=null,p}function n(p,f,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<f?(p.flags|=2,f):x):(p.flags|=2,f)):(p.flags|=1048576,f)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function i(p,f,x,b){return f===null||f.tag!==6?(f=ky(x,p.mode,b),f.return=p,f):(f=o(f,x),f.return=p,f)}function c(p,f,x,b){var w=x.type;return w===Qc?d(p,f,x.props.children,b,x.key):f!==null&&(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ti&&p2(w)===f.type)?(b=o(f,x.props),b.ref=hf(p,f,x),b.return=p,b):(b=ah(x.type,x.key,x.props,null,p.mode,b),b.ref=hf(p,f,x),b.return=p,b)}function l(p,f,x,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=Ny(x,p.mode,b),f.return=p,f):(f=o(f,x.children||[]),f.return=p,f)}function d(p,f,x,b,w){return f===null||f.tag!==7?(f=Ol(x,p.mode,b,w),f.return=p,f):(f=o(f,x),f.return=p,f)}function u(p,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ky(""+f,p.mode,x),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Rg:return x=ah(f.type,f.key,f.props,null,p.mode,x),x.ref=hf(p,null,f),x.return=p,x;case Kc:return f=Ny(f,p.mode,x),f.return=p,f;case Ti:var b=f._init;return u(p,b(f._payload),x)}if(wf(f)||ff(f))return f=Ol(f,p.mode,x,null),f.return=p,f;Hg(p,f)}return null}function g(p,f,x,b){var w=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:i(p,f,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rg:return x.key===w?c(p,f,x,b):null;case Kc:return x.key===w?l(p,f,x,b):null;case Ti:return w=x._init,g(p,f,w(x._payload),b)}if(wf(x)||ff(x))return w!==null?null:d(p,f,x,b,null);Hg(p,x)}return null}function h(p,f,x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(x)||null,i(f,p,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Rg:return p=p.get(b.key===null?x:b.key)||null,c(f,p,b,w);case Kc:return p=p.get(b.key===null?x:b.key)||null,l(f,p,b,w);case Ti:var N=b._init;return h(p,f,x,N(b._payload),w)}if(wf(b)||ff(b))return p=p.get(x)||null,d(f,p,b,w,null);Hg(f,b)}return null}function v(p,f,x,b){for(var w=null,N=null,I=f,C=f=0,S=null;I!==null&&C<x.length;C++){I.index>C?(S=I,I=null):S=I.sibling;var k=g(p,I,x[C],b);if(k===null){I===null&&(I=S);break}e&&I&&k.alternate===null&&t(p,I),f=n(k,f,C),N===null?w=k:N.sibling=k,N=k,I=S}if(C===x.length)return r(p,I),Or&&Rl(p,C),w;if(I===null){for(;C<x.length;C++)I=u(p,x[C],b),I!==null&&(f=n(I,f,C),N===null?w=I:N.sibling=I,N=I);return Or&&Rl(p,C),w}for(I=a(p,I);C<x.length;C++)S=h(I,p,C,x[C],b),S!==null&&(e&&S.alternate!==null&&I.delete(S.key===null?C:S.key),f=n(S,f,C),N===null?w=S:N.sibling=S,N=S);return e&&I.forEach(function(E){return t(p,E)}),Or&&Rl(p,C),w}function m(p,f,x,b){var w=ff(x);if(typeof w!="function")throw Error($e(150));if(x=w.call(x),x==null)throw Error($e(151));for(var N=w=null,I=f,C=f=0,S=null,k=x.next();I!==null&&!k.done;C++,k=x.next()){I.index>C?(S=I,I=null):S=I.sibling;var E=g(p,I,k.value,b);if(E===null){I===null&&(I=S);break}e&&I&&E.alternate===null&&t(p,I),f=n(E,f,C),N===null?w=E:N.sibling=E,N=E,I=S}if(k.done)return r(p,I),Or&&Rl(p,C),w;if(I===null){for(;!k.done;C++,k=x.next())k=u(p,k.value,b),k!==null&&(f=n(k,f,C),N===null?w=k:N.sibling=k,N=k);return Or&&Rl(p,C),w}for(I=a(p,I);!k.done;C++,k=x.next())k=h(I,p,C,k.value,b),k!==null&&(e&&k.alternate!==null&&I.delete(k.key===null?C:k.key),f=n(k,f,C),N===null?w=k:N.sibling=k,N=k);return e&&I.forEach(function(L){return t(p,L)}),Or&&Rl(p,C),w}function y(p,f,x,b){if(typeof x=="object"&&x!==null&&x.type===Qc&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Rg:e:{for(var w=x.key,N=f;N!==null;){if(N.key===w){if(w=x.type,w===Qc){if(N.tag===7){r(p,N.sibling),f=o(N,x.props.children),f.return=p,p=f;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ti&&p2(w)===N.type){r(p,N.sibling),f=o(N,x.props),f.ref=hf(p,N,x),f.return=p,p=f;break e}r(p,N);break}else t(p,N);N=N.sibling}x.type===Qc?(f=Ol(x.props.children,p.mode,b,x.key),f.return=p,p=f):(b=ah(x.type,x.key,x.props,null,p.mode,b),b.ref=hf(p,f,x),b.return=p,p=b)}return s(p);case Kc:e:{for(N=x.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){r(p,f.sibling),f=o(f,x.children||[]),f.return=p,p=f;break e}else{r(p,f);break}else t(p,f);f=f.sibling}f=Ny(x,p.mode,b),f.return=p,p=f}return s(p);case Ti:return N=x._init,y(p,f,N(x._payload),b)}if(wf(x))return v(p,f,x,b);if(ff(x))return m(p,f,x,b);Hg(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(r(p,f.sibling),f=o(f,x),f.return=p,p=f):(r(p,f),f=ky(x,p.mode,b),f.return=p,p=f),s(p)):r(p,f)}return y}var gd=BC(!0),qC=BC(!1),vh=Qi(null),yh=null,ad=null,Ox=null;function Mx(){Ox=ad=yh=null}function _x(e){var t=vh.current;Rr(vh),e._currentValue=t}function Zy(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function dd(e,t){yh=e,Ox=ad=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yo=!0),e.firstContext=null)}function un(e){var t=e._currentValue;if(Ox!==e)if(e={context:e,memoizedValue:t,next:null},ad===null){if(yh===null)throw Error($e(308));ad=e,yh.dependencies={lanes:0,firstContext:e}}else ad=ad.next=e;return t}var Tl=null;function Bx(e){Tl===null?Tl=[e]:Tl.push(e)}function jC(e,t,r,a){var o=t.interleaved;return o===null?(r.next=r,Bx(t)):(r.next=o.next,o.next=r),t.interleaved=r,Xs(e,a)}function Xs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Di=!1;function qx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ks(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zi(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ur&2){var o=a.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),a.pending=t,Xs(e,r)}return o=a.interleaved,o===null?(t.next=t,Bx(a)):(t.next=o.next,o.next=t),a.interleaved=t,Xs(e,r)}function Xg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Cx(e,r)}}function g2(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var o=null,n=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};n===null?o=n=s:n=n.next=s,r=r.next}while(r!==null);n===null?o=n=t:n=n.next=t}else o=n=t;r={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:n,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xh(e,t,r,a){var o=e.updateQueue;Di=!1;var n=o.firstBaseUpdate,s=o.lastBaseUpdate,i=o.shared.pending;if(i!==null){o.shared.pending=null;var c=i,l=c.next;c.next=null,s===null?n=l:s.next=l,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==s&&(i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=c))}if(n!==null){var u=o.baseState;s=0,d=l=c=null,i=n;do{var g=i.lane,h=i.eventTime;if((a&g)===g){d!==null&&(d=d.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var v=e,m=i;switch(g=t,h=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){u=v.call(h,u,g);break e}u=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,g=typeof v=="function"?v.call(h,u,g):v,g==null)break e;u=zr({},u,g);break e;case 2:Di=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,g=o.effects,g===null?o.effects=[i]:g.push(i))}else h={eventTime:h,lane:g,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(l=d=h,c=u):d=d.next=h,s|=g;if(i=i.next,i===null){if(i=o.shared.pending,i===null)break;g=i,i=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(d===null&&(c=u),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else n===null&&(o.shared.lanes=0);ql|=s,e.lanes=s,e.memoizedState=u}}function h2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],o=a.callback;if(o!==null){if(a.callback=null,a=r,typeof o!="function")throw Error($e(191,o));o.call(a)}}}var Zf={},ws=Qi(Zf),Hf=Qi(Zf),Vf=Qi(Zf);function Dl(e){if(e===Zf)throw Error($e(174));return e}function jx(e,t){switch(kr(Vf,t),kr(Hf,e),kr(ws,Zf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dy(t,e)}Rr(ws),kr(ws,t)}function hd(){Rr(ws),Rr(Hf),Rr(Vf)}function zC(e){Dl(Vf.current);var t=Dl(ws.current),r=Dy(t,e.type);t!==r&&(kr(Hf,e),kr(ws,r))}function Ux(e){Hf.current===e&&(Rr(ws),Rr(Hf))}var jr=Qi(0);function bh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hy=[];function zx(){for(var e=0;e<hy.length;e++)hy[e]._workInProgressVersionPrimary=null;hy.length=0}var Jg=Zs.ReactCurrentDispatcher,vy=Zs.ReactCurrentBatchConfig,Bl=0,Ur=null,ha=null,La=null,wh=!1,Rf=!1,Wf=0,KF=0;function $a(){throw Error($e(321))}function $x(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$n(e[r],t[r]))return!1;return!0}function Hx(e,t,r,a,o,n){if(Bl=n,Ur=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jg.current=e===null||e.memoizedState===null?JF:ZF,e=r(a,o),Rf){n=0;do{if(Rf=!1,Wf=0,25<=n)throw Error($e(301));n+=1,La=ha=null,t.updateQueue=null,Jg.current=eO,e=r(a,o)}while(Rf)}if(Jg.current=kh,t=ha!==null&&ha.next!==null,Bl=0,La=ha=Ur=null,wh=!1,t)throw Error($e(300));return e}function Vx(){var e=Wf!==0;return Wf=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return La===null?Ur.memoizedState=La=e:La=La.next=e,La}function fn(){if(ha===null){var e=Ur.alternate;e=e!==null?e.memoizedState:null}else e=ha.next;var t=La===null?Ur.memoizedState:La.next;if(t!==null)La=t,ha=e;else{if(e===null)throw Error($e(310));ha=e,e={memoizedState:ha.memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},La===null?Ur.memoizedState=La=e:La=La.next=e}return La}function Gf(e,t){return typeof t=="function"?t(e):t}function yy(e){var t=fn(),r=t.queue;if(r===null)throw Error($e(311));r.lastRenderedReducer=e;var a=ha,o=a.baseQueue,n=r.pending;if(n!==null){if(o!==null){var s=o.next;o.next=n.next,n.next=s}a.baseQueue=o=n,r.pending=null}if(o!==null){n=o.next,a=a.baseState;var i=s=null,c=null,l=n;do{var d=l.lane;if((Bl&d)===d)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),a=l.hasEagerState?l.eagerState:e(a,l.action);else{var u={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(i=c=u,s=a):c=c.next=u,Ur.lanes|=d,ql|=d}l=l.next}while(l!==null&&l!==n);c===null?s=a:c.next=i,$n(a,t.memoizedState)||(yo=!0),t.memoizedState=a,t.baseState=s,t.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){o=e;do n=o.lane,Ur.lanes|=n,ql|=n,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xy(e){var t=fn(),r=t.queue;if(r===null)throw Error($e(311));r.lastRenderedReducer=e;var a=r.dispatch,o=r.pending,n=t.memoizedState;if(o!==null){r.pending=null;var s=o=o.next;do n=e(n,s.action),s=s.next;while(s!==o);$n(n,t.memoizedState)||(yo=!0),t.memoizedState=n,t.baseQueue===null&&(t.baseState=n),r.lastRenderedState=n}return[n,a]}function $C(){}function HC(e,t){var r=Ur,a=fn(),o=t(),n=!$n(a.memoizedState,o);if(n&&(a.memoizedState=o,yo=!0),a=a.queue,Wx(GC.bind(null,r,a,e),[e]),a.getSnapshot!==t||n||La!==null&&La.memoizedState.tag&1){if(r.flags|=2048,Kf(9,WC.bind(null,r,a,o,t),void 0,null),Ia===null)throw Error($e(349));Bl&30||VC(r,t,o)}return o}function VC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ur.updateQueue,t===null?(t={lastEffect:null,stores:null},Ur.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function WC(e,t,r,a){t.value=r,t.getSnapshot=a,KC(t)&&QC(e)}function GC(e,t,r){return r(function(){KC(t)&&QC(e)})}function KC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$n(e,r)}catch{return!0}}function QC(e){var t=Xs(e,1);t!==null&&zn(t,e,1,-1)}function v2(e){var t=ys();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gf,lastRenderedState:e},t.queue=e,e=e.dispatch=XF.bind(null,Ur,e),[t.memoizedState,e]}function Kf(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=Ur.updateQueue,t===null?(t={lastEffect:null,stores:null},Ur.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function YC(){return fn().memoizedState}function Zg(e,t,r,a){var o=ys();Ur.flags|=e,o.memoizedState=Kf(1|t,r,void 0,a===void 0?null:a)}function Fh(e,t,r,a){var o=fn();a=a===void 0?null:a;var n=void 0;if(ha!==null){var s=ha.memoizedState;if(n=s.destroy,a!==null&&$x(a,s.deps)){o.memoizedState=Kf(t,r,n,a);return}}Ur.flags|=e,o.memoizedState=Kf(1|t,r,n,a)}function y2(e,t){return Zg(8390656,8,e,t)}function Wx(e,t){return Fh(2048,8,e,t)}function XC(e,t){return Fh(4,2,e,t)}function JC(e,t){return Fh(4,4,e,t)}function ZC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eS(e,t,r){return r=r!=null?r.concat([e]):null,Fh(4,4,ZC.bind(null,t,e),r)}function Gx(){}function tS(e,t){var r=fn();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&$x(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function rS(e,t){var r=fn();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&$x(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function aS(e,t,r){return Bl&21?($n(r,t)||(r=lC(),Ur.lanes|=r,ql|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=r)}function QF(e,t){var r=vr;vr=r!==0&&4>r?r:4,e(!0);var a=vy.transition;vy.transition={};try{e(!1),t()}finally{vr=r,vy.transition=a}}function oS(){return fn().memoizedState}function YF(e,t,r){var a=Hi(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},nS(e))sS(t,r);else if(r=jC(e,t,r,a),r!==null){var o=oo();zn(r,e,a,o),iS(r,t,a)}}function XF(e,t,r){var a=Hi(e),o={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(nS(e))sS(t,o);else{var n=e.alternate;if(e.lanes===0&&(n===null||n.lanes===0)&&(n=t.lastRenderedReducer,n!==null))try{var s=t.lastRenderedState,i=n(s,r);if(o.hasEagerState=!0,o.eagerState=i,$n(i,s)){var c=t.interleaved;c===null?(o.next=o,Bx(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}r=jC(e,t,o,a),r!==null&&(o=oo(),zn(r,e,a,o),iS(r,t,a))}}function nS(e){var t=e.alternate;return e===Ur||t!==null&&t===Ur}function sS(e,t){Rf=wh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function iS(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Cx(e,r)}}var kh={readContext:un,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useInsertionEffect:$a,useLayoutEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useDeferredValue:$a,useTransition:$a,useMutableSource:$a,useSyncExternalStore:$a,useId:$a,unstable_isNewReconciler:!1},JF={readContext:un,useCallback:function(e,t){return ys().memoizedState=[e,t===void 0?null:t],e},useContext:un,useEffect:y2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Zg(4194308,4,ZC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Zg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zg(4,2,e,t)},useMemo:function(e,t){var r=ys();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=ys();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=YF.bind(null,Ur,e),[a.memoizedState,e]},useRef:function(e){var t=ys();return e={current:e},t.memoizedState=e},useState:v2,useDebugValue:Gx,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=v2(!1),t=e[0];return e=QF.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=Ur,o=ys();if(Or){if(r===void 0)throw Error($e(407));r=r()}else{if(r=t(),Ia===null)throw Error($e(349));Bl&30||VC(a,t,r)}o.memoizedState=r;var n={value:r,getSnapshot:t};return o.queue=n,y2(GC.bind(null,a,n,e),[e]),a.flags|=2048,Kf(9,WC.bind(null,a,n,r,t),void 0,null),r},useId:function(){var e=ys(),t=Ia.identifierPrefix;if(Or){var r=Gs,a=Ws;r=(a&~(1<<32-Un(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wf++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=KF++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ZF={readContext:un,useCallback:tS,useContext:un,useEffect:Wx,useImperativeHandle:eS,useInsertionEffect:XC,useLayoutEffect:JC,useMemo:rS,useReducer:yy,useRef:YC,useState:function(){return yy(Gf)},useDebugValue:Gx,useDeferredValue:function(e){var t=fn();return aS(t,ha.memoizedState,e)},useTransition:function(){var e=yy(Gf)[0],t=fn().memoizedState;return[e,t]},useMutableSource:$C,useSyncExternalStore:HC,useId:oS,unstable_isNewReconciler:!1},eO={readContext:un,useCallback:tS,useContext:un,useEffect:Wx,useImperativeHandle:eS,useInsertionEffect:XC,useLayoutEffect:JC,useMemo:rS,useReducer:xy,useRef:YC,useState:function(){return xy(Gf)},useDebugValue:Gx,useDeferredValue:function(e){var t=fn();return ha===null?t.memoizedState=e:aS(t,ha.memoizedState,e)},useTransition:function(){var e=xy(Gf)[0],t=fn().memoizedState;return[e,t]},useMutableSource:$C,useSyncExternalStore:HC,useId:oS,unstable_isNewReconciler:!1};function Bn(e,t){if(e&&e.defaultProps){t=zr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ex(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:zr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Oh={isMounted:function(e){return(e=e._reactInternals)?zl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=oo(),o=Hi(e),n=Ks(a,o);n.payload=t,r!=null&&(n.callback=r),t=zi(e,n,o),t!==null&&(zn(t,e,o,a),Xg(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=oo(),o=Hi(e),n=Ks(a,o);n.tag=1,n.payload=t,r!=null&&(n.callback=r),t=zi(e,n,o),t!==null&&(zn(t,e,o,a),Xg(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=oo(),a=Hi(e),o=Ks(r,a);o.tag=2,t!=null&&(o.callback=t),t=zi(e,o,a),t!==null&&(zn(t,e,a,r),Xg(t,e,a))}};function x2(e,t,r,a,o,n,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,n,s):t.prototype&&t.prototype.isPureReactComponent?!jf(r,a)||!jf(o,n):!0}function lS(e,t,r){var a=!1,o=Gi,n=t.contextType;return typeof n=="object"&&n!==null?n=un(n):(o=bo(t)?Ml:Wa.current,a=t.contextTypes,n=(a=a!=null)?md(e,o):Gi),t=new t(r,n),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oh,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=n),t}function b2(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&Oh.enqueueReplaceState(t,t.state,null)}function tx(e,t,r,a){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},qx(e);var n=t.contextType;typeof n=="object"&&n!==null?o.context=un(n):(n=bo(t)?Ml:Wa.current,o.context=md(e,n)),o.state=e.memoizedState,n=t.getDerivedStateFromProps,typeof n=="function"&&(ex(e,t,n,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Oh.enqueueReplaceState(o,o.state,null),xh(e,r,o,a),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function vd(e,t){try{var r="",a=t;do r+=AD(a),a=a.return;while(a);var o=r}catch(n){o=`
Error generating stack: `+n.message+`
`+n.stack}return{value:e,source:t,stack:o,digest:null}}function by(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function rx(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var tO=typeof WeakMap=="function"?WeakMap:Map;function cS(e,t,r){r=Ks(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Ch||(Ch=!0,fx=a),rx(e,t)},r}function dS(e,t,r){r=Ks(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var o=t.value;r.payload=function(){return a(o)},r.callback=function(){rx(e,t)}}var n=e.stateNode;return n!==null&&typeof n.componentDidCatch=="function"&&(r.callback=function(){rx(e,t),typeof a!="function"&&($i===null?$i=new Set([this]):$i.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function w2(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new tO;var o=new Set;a.set(t,o)}else o=a.get(t),o===void 0&&(o=new Set,a.set(t,o));o.has(r)||(o.add(r),e=gO.bind(null,e,t,r),t.then(e,e))}function k2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function N2(e,t,r,a,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ks(-1,1),t.tag=2,zi(r,t,1))),r.lanes|=1),e)}var rO=Zs.ReactCurrentOwner,yo=!1;function ao(e,t,r,a){t.child=e===null?qC(t,null,r,a):gd(t,e.child,r,a)}function C2(e,t,r,a,o){r=r.render;var n=t.ref;return dd(t,o),a=Hx(e,t,r,a,n,o),r=Vx(),e!==null&&!yo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Js(e,t,o)):(Or&&r&&Tx(t),t.flags|=1,ao(e,t,a,o),t.child)}function S2(e,t,r,a,o){if(e===null){var n=r.type;return typeof n=="function"&&!tb(n)&&n.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=n,uS(e,t,n,a,o)):(e=ah(r.type,null,a,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(n=e.child,!(e.lanes&o)){var s=n.memoizedProps;if(r=r.compare,r=r!==null?r:jf,r(s,a)&&e.ref===t.ref)return Js(e,t,o)}return t.flags|=1,e=Vi(n,a),e.ref=t.ref,e.return=t,t.child=e}function uS(e,t,r,a,o){if(e!==null){var n=e.memoizedProps;if(jf(n,a)&&e.ref===t.ref)if(yo=!1,t.pendingProps=a=n,(e.lanes&o)!==0)e.flags&131072&&(yo=!0);else return t.lanes=e.lanes,Js(e,t,o)}return ax(e,t,r,a,o)}function fS(e,t,r){var a=t.pendingProps,o=a.children,n=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(nd,Mo),Mo|=r;else{if(!(r&1073741824))return e=n!==null?n.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kr(nd,Mo),Mo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=n!==null?n.baseLanes:r,kr(nd,Mo),Mo|=a}else n!==null?(a=n.baseLanes|r,t.memoizedState=null):a=r,kr(nd,Mo),Mo|=a;return ao(e,t,o,r),t.child}function mS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ax(e,t,r,a,o){var n=bo(r)?Ml:Wa.current;return n=md(t,n),dd(t,o),r=Hx(e,t,r,a,n,o),a=Vx(),e!==null&&!yo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Js(e,t,o)):(Or&&a&&Tx(t),t.flags|=1,ao(e,t,r,o),t.child)}function E2(e,t,r,a,o){if(bo(r)){var n=!0;ph(t)}else n=!1;if(dd(t,o),t.stateNode===null)eh(e,t),lS(t,r,a),tx(t,r,a,o),a=!0;else if(e===null){var s=t.stateNode,i=t.memoizedProps;s.props=i;var c=s.context,l=r.contextType;typeof l=="object"&&l!==null?l=un(l):(l=bo(r)?Ml:Wa.current,l=md(t,l));var d=r.getDerivedStateFromProps,u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==a||c!==l)&&b2(t,s,a,l),Di=!1;var g=t.memoizedState;s.state=g,xh(t,a,s,o),c=t.memoizedState,i!==a||g!==c||xo.current||Di?(typeof d=="function"&&(ex(t,r,d,a),c=t.memoizedState),(i=Di||x2(t,r,i,a,g,c,l))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),s.props=a,s.state=c,s.context=l,a=i):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,UC(e,t),i=t.memoizedProps,l=t.type===t.elementType?i:Bn(t.type,i),s.props=l,u=t.pendingProps,g=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=un(c):(c=bo(r)?Ml:Wa.current,c=md(t,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==u||g!==c)&&b2(t,s,a,c),Di=!1,g=t.memoizedState,s.state=g,xh(t,a,s,o);var v=t.memoizedState;i!==u||g!==v||xo.current||Di?(typeof h=="function"&&(ex(t,r,h,a),v=t.memoizedState),(l=Di||x2(t,r,l,a,g,v,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,v,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=v),s.props=a,s.state=v,s.context=c,a=l):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),a=!1)}return ox(e,t,r,a,n,o)}function ox(e,t,r,a,o,n){mS(e,t);var s=(t.flags&128)!==0;if(!a&&!s)return o&&u2(t,r,!1),Js(e,t,n);a=t.stateNode,rO.current=t;var i=s&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&s?(t.child=gd(t,e.child,null,n),t.child=gd(t,null,i,n)):ao(e,t,i,n),t.memoizedState=a.state,o&&u2(t,r,!0),t.child}function pS(e){var t=e.stateNode;t.pendingContext?d2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&d2(e,t.context,!1),jx(e,t.containerInfo)}function L2(e,t,r,a,o){return pd(),Fx(o),t.flags|=256,ao(e,t,r,a),t.child}var nx={dehydrated:null,treeContext:null,retryLane:0};function sx(e){return{baseLanes:e,cachePool:null,transitions:null}}function gS(e,t,r){var a=t.pendingProps,o=jr.current,n=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(o&2)!==0),i?(n=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),kr(jr,o&1),e===null)return Jy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=a.children,e=a.fallback,n?(a=t.mode,n=t.child,s={mode:"hidden",children:s},!(a&1)&&n!==null?(n.childLanes=0,n.pendingProps=s):n=Bh(s,a,0,null),e=Ol(e,a,r,null),n.return=t,e.return=t,n.sibling=e,t.child=n,t.child.memoizedState=sx(r),t.memoizedState=nx,e):Kx(t,s));if(o=e.memoizedState,o!==null&&(i=o.dehydrated,i!==null))return aO(e,t,s,a,i,o,r);if(n){n=a.fallback,s=t.mode,o=e.child,i=o.sibling;var c={mode:"hidden",children:a.children};return!(s&1)&&t.child!==o?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=Vi(o,c),a.subtreeFlags=o.subtreeFlags&14680064),i!==null?n=Vi(i,n):(n=Ol(n,s,r,null),n.flags|=2),n.return=t,a.return=t,a.sibling=n,t.child=a,a=n,n=t.child,s=e.child.memoizedState,s=s===null?sx(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},n.memoizedState=s,n.childLanes=e.childLanes&~r,t.memoizedState=nx,a}return n=e.child,e=n.sibling,a=Vi(n,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Kx(e,t){return t=Bh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vg(e,t,r,a){return a!==null&&Fx(a),gd(t,e.child,null,r),e=Kx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aO(e,t,r,a,o,n,s){if(r)return t.flags&256?(t.flags&=-257,a=by(Error($e(422))),Vg(e,t,s,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(n=a.fallback,o=t.mode,a=Bh({mode:"visible",children:a.children},o,0,null),n=Ol(n,o,s,null),n.flags|=2,a.return=t,n.return=t,a.sibling=n,t.child=a,t.mode&1&&gd(t,e.child,null,s),t.child.memoizedState=sx(s),t.memoizedState=nx,n);if(!(t.mode&1))return Vg(e,t,s,null);if(o.data==="$!"){if(a=o.nextSibling&&o.nextSibling.dataset,a)var i=a.dgst;return a=i,n=Error($e(419)),a=by(n,a,void 0),Vg(e,t,s,a)}if(i=(s&e.childLanes)!==0,yo||i){if(a=Ia,a!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(a.suspendedLanes|s)?0:o,o!==0&&o!==n.retryLane&&(n.retryLane=o,Xs(e,o),zn(a,e,o,-1))}return eb(),a=by(Error($e(421))),Vg(e,t,s,a)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=hO.bind(null,e),o._reactRetry=t,null):(e=n.treeContext,_o=Ui(o.nextSibling),Bo=t,Or=!0,jn=null,e!==null&&(sn[ln++]=Ws,sn[ln++]=Gs,sn[ln++]=_l,Ws=e.id,Gs=e.overflow,_l=t),t=Kx(t,a.children),t.flags|=4096,t)}function I2(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Zy(e.return,t,r)}function wy(e,t,r,a,o){var n=e.memoizedState;n===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:o}:(n.isBackwards=t,n.rendering=null,n.renderingStartTime=0,n.last=a,n.tail=r,n.tailMode=o)}function hS(e,t,r){var a=t.pendingProps,o=a.revealOrder,n=a.tail;if(ao(e,t,a.children,r),a=jr.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&I2(e,r,t);else if(e.tag===19)I2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(kr(jr,a),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&bh(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),wy(t,!1,o,r,n);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&bh(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}wy(t,!0,r,null,n);break;case"together":wy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function eh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Js(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ql|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($e(153));if(t.child!==null){for(e=t.child,r=Vi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function oO(e,t,r){switch(t.tag){case 3:pS(t),pd();break;case 5:zC(t);break;case 1:bo(t.type)&&ph(t);break;case 4:jx(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,o=t.memoizedProps.value;kr(vh,a._currentValue),a._currentValue=o;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(kr(jr,jr.current&1),t.flags|=128,null):r&t.child.childLanes?gS(e,t,r):(kr(jr,jr.current&1),e=Js(e,t,r),e!==null?e.sibling:null);kr(jr,jr.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return hS(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),kr(jr,jr.current),a)break;return null;case 22:case 23:return t.lanes=0,fS(e,t,r)}return Js(e,t,r)}var vS,ix,yS,xS;vS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ix=function(){};yS=function(e,t,r,a){var o=e.memoizedProps;if(o!==a){e=t.stateNode,Dl(ws.current);var n=null;switch(r){case"input":o=Ry(e,o),a=Ry(e,a),n=[];break;case"select":o=zr({},o,{value:void 0}),a=zr({},a,{value:void 0}),n=[];break;case"textarea":o=Ty(e,o),a=Ty(e,a),n=[];break;default:typeof o.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=fh)}Fy(r,a);var s;r=null;for(l in o)if(!a.hasOwnProperty(l)&&o.hasOwnProperty(l)&&o[l]!=null)if(l==="style"){var i=o[l];for(s in i)i.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Df.hasOwnProperty(l)?n||(n=[]):(n=n||[]).push(l,null));for(l in a){var c=a[l];if(i=o?.[l],a.hasOwnProperty(l)&&c!==i&&(c!=null||i!=null))if(l==="style")if(i){for(s in i)!i.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&i[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(n||(n=[]),n.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(n=n||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(n=n||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Df.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Ir("scroll",e),n||i===c||(n=[])):(n=n||[]).push(l,c))}r&&(n=n||[]).push("style",r);var l=n;(t.updateQueue=l)&&(t.flags|=4)}};xS=function(e,t,r,a){r!==a&&(t.flags|=4)};function vf(e,t){if(!Or)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ha(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,a|=o.subtreeFlags&14680064,a|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function nO(e,t,r){var a=t.pendingProps;switch(Dx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:return bo(t.type)&&mh(),Ha(t),null;case 3:return a=t.stateNode,hd(),Rr(xo),Rr(Wa),zx(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&($g(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jn!==null&&(gx(jn),jn=null))),ix(e,t),Ha(t),null;case 5:Ux(t);var o=Dl(Vf.current);if(r=t.type,e!==null&&t.stateNode!=null)yS(e,t,r,a,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error($e(166));return Ha(t),null}if(e=Dl(ws.current),$g(t)){a=t.stateNode,r=t.type;var n=t.memoizedProps;switch(a[xs]=t,a[$f]=n,e=(t.mode&1)!==0,r){case"dialog":Ir("cancel",a),Ir("close",a);break;case"iframe":case"object":case"embed":Ir("load",a);break;case"video":case"audio":for(o=0;o<Nf.length;o++)Ir(Nf[o],a);break;case"source":Ir("error",a);break;case"img":case"image":case"link":Ir("error",a),Ir("load",a);break;case"details":Ir("toggle",a);break;case"input":MN(a,n),Ir("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!n.multiple},Ir("invalid",a);break;case"textarea":BN(a,n),Ir("invalid",a)}Fy(r,n),o=null;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];s==="children"?typeof i=="string"?a.textContent!==i&&(n.suppressHydrationWarning!==!0&&zg(a.textContent,i,e),o=["children",i]):typeof i=="number"&&a.textContent!==""+i&&(n.suppressHydrationWarning!==!0&&zg(a.textContent,i,e),o=["children",""+i]):Df.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&Ir("scroll",a)}switch(r){case"input":Ag(a),_N(a,n,!0);break;case"textarea":Ag(a),qN(a);break;case"select":case"option":break;default:typeof n.onClick=="function"&&(a.onclick=fh)}a=o,t.updateQueue=a,a!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=G2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=s.createElement(r,{is:a.is}):(e=s.createElement(r),r==="select"&&(s=e,a.multiple?s.multiple=!0:a.size&&(s.size=a.size))):e=s.createElementNS(e,r),e[xs]=t,e[$f]=a,vS(e,t,!1,!1),t.stateNode=e;e:{switch(s=Oy(r,a),r){case"dialog":Ir("cancel",e),Ir("close",e),o=a;break;case"iframe":case"object":case"embed":Ir("load",e),o=a;break;case"video":case"audio":for(o=0;o<Nf.length;o++)Ir(Nf[o],e);o=a;break;case"source":Ir("error",e),o=a;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),o=a;break;case"details":Ir("toggle",e),o=a;break;case"input":MN(e,a),o=Ry(e,a),Ir("invalid",e);break;case"option":o=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},o=zr({},a,{value:void 0}),Ir("invalid",e);break;case"textarea":BN(e,a),o=Ty(e,a),Ir("invalid",e);break;default:o=a}Fy(r,o),i=o;for(n in i)if(i.hasOwnProperty(n)){var c=i[n];n==="style"?Y2(e,c):n==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&K2(e,c)):n==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ff(e,c):typeof c=="number"&&Ff(e,""+c):n!=="suppressContentEditableWarning"&&n!=="suppressHydrationWarning"&&n!=="autoFocus"&&(Df.hasOwnProperty(n)?c!=null&&n==="onScroll"&&Ir("scroll",e):c!=null&&yx(e,n,c,s))}switch(r){case"input":Ag(e),_N(e,a,!1);break;case"textarea":Ag(e),qN(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Wi(a.value));break;case"select":e.multiple=!!a.multiple,n=a.value,n!=null?sd(e,!!a.multiple,n,!1):a.defaultValue!=null&&sd(e,!!a.multiple,a.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=fh)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&t.stateNode!=null)xS(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error($e(166));if(r=Dl(Vf.current),Dl(ws.current),$g(t)){if(a=t.stateNode,r=t.memoizedProps,a[xs]=t,(n=a.nodeValue!==r)&&(e=Bo,e!==null))switch(e.tag){case 3:zg(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zg(a.nodeValue,r,(e.mode&1)!==0)}n&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[xs]=t,t.stateNode=a}return Ha(t),null;case 13:if(Rr(jr),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Or&&_o!==null&&t.mode&1&&!(t.flags&128))_C(),pd(),t.flags|=98560,n=!1;else if(n=$g(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error($e(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error($e(317));n[xs]=t}else pd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ha(t),n=!1}else jn!==null&&(gx(jn),jn=null),n=!0;if(!n)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||jr.current&1?va===0&&(va=3):eb())),t.updateQueue!==null&&(t.flags|=4),Ha(t),null);case 4:return hd(),ix(e,t),e===null&&Uf(t.stateNode.containerInfo),Ha(t),null;case 10:return _x(t.type._context),Ha(t),null;case 17:return bo(t.type)&&mh(),Ha(t),null;case 19:if(Rr(jr),n=t.memoizedState,n===null)return Ha(t),null;if(a=(t.flags&128)!==0,s=n.rendering,s===null)if(a)vf(n,!1);else{if(va!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=bh(e),s!==null){for(t.flags|=128,vf(n,!1),a=s.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)n=r,e=a,n.flags&=14680066,s=n.alternate,s===null?(n.childLanes=0,n.lanes=e,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,e=s.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return kr(jr,jr.current&1|2),t.child}e=e.sibling}n.tail!==null&&ra()>yd&&(t.flags|=128,a=!0,vf(n,!1),t.lanes=4194304)}else{if(!a)if(e=bh(s),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),vf(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!Or)return Ha(t),null}else 2*ra()-n.renderingStartTime>yd&&r!==1073741824&&(t.flags|=128,a=!0,vf(n,!1),t.lanes=4194304);n.isBackwards?(s.sibling=t.child,t.child=s):(r=n.last,r!==null?r.sibling=s:t.child=s,n.last=s)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=ra(),t.sibling=null,r=jr.current,kr(jr,a?r&1|2:r&1),t):(Ha(t),null);case 22:case 23:return Zx(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Mo&1073741824&&(Ha(t),t.subtreeFlags&6&&(t.flags|=8192)):Ha(t),null;case 24:return null;case 25:return null}throw Error($e(156,t.tag))}function sO(e,t){switch(Dx(t),t.tag){case 1:return bo(t.type)&&mh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hd(),Rr(xo),Rr(Wa),zx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ux(t),null;case 13:if(Rr(jr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($e(340));pd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Rr(jr),null;case 4:return hd(),null;case 10:return _x(t.type._context),null;case 22:case 23:return Zx(),null;case 24:return null;default:return null}}var Wg=!1,Va=!1,iO=typeof WeakSet=="function"?WeakSet:Set,mt=null;function od(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Zr(e,t,a)}else r.current=null}function lx(e,t,r){try{r()}catch(a){Zr(e,t,a)}}var R2=!1;function lO(e,t){if(Vy=ch,e=CC(),Px(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var o=a.anchorOffset,n=a.focusNode;a=a.focusOffset;try{r.nodeType,n.nodeType}catch{r=null;break e}var s=0,i=-1,c=-1,l=0,d=0,u=e,g=null;t:for(;;){for(var h;u!==r||o!==0&&u.nodeType!==3||(i=s+o),u!==n||a!==0&&u.nodeType!==3||(c=s+a),u.nodeType===3&&(s+=u.nodeValue.length),(h=u.firstChild)!==null;)g=u,u=h;for(;;){if(u===e)break t;if(g===r&&++l===o&&(i=s),g===n&&++d===a&&(c=s),(h=u.nextSibling)!==null)break;u=g,g=u.parentNode}u=h}r=i===-1||c===-1?null:{start:i,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wy={focusedElem:e,selectionRange:r},ch=!1,mt=t;mt!==null;)if(t=mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,mt=e;else for(;mt!==null;){t=mt;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,y=v.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?m:Bn(t.type,m),y);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($e(163))}}catch(b){Zr(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,mt=e;break}mt=t.return}return v=R2,R2=!1,v}function Af(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var o=a=a.next;do{if((o.tag&e)===e){var n=o.destroy;o.destroy=void 0,n!==void 0&&lx(t,r,n)}o=o.next}while(o!==a)}}function Mh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function cx(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function bS(e){var t=e.alternate;t!==null&&(e.alternate=null,bS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xs],delete t[$f],delete t[Qy],delete t[HF],delete t[VF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wS(e){return e.tag===5||e.tag===3||e.tag===4}function A2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dx(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fh));else if(a!==4&&(e=e.child,e!==null))for(dx(e,t,r),e=e.sibling;e!==null;)dx(e,t,r),e=e.sibling}function ux(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(ux(e,t,r),e=e.sibling;e!==null;)ux(e,t,r),e=e.sibling}var Fa=null,qn=!1;function Pi(e,t,r){for(r=r.child;r!==null;)kS(e,t,r),r=r.sibling}function kS(e,t,r){if(bs&&typeof bs.onCommitFiberUnmount=="function")try{bs.onCommitFiberUnmount(Ih,r)}catch{}switch(r.tag){case 5:Va||od(r,t);case 6:var a=Fa,o=qn;Fa=null,Pi(e,t,r),Fa=a,qn=o,Fa!==null&&(qn?(e=Fa,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Fa.removeChild(r.stateNode));break;case 18:Fa!==null&&(qn?(e=Fa,r=r.stateNode,e.nodeType===8?py(e.parentNode,r):e.nodeType===1&&py(e,r),Bf(e)):py(Fa,r.stateNode));break;case 4:a=Fa,o=qn,Fa=r.stateNode.containerInfo,qn=!0,Pi(e,t,r),Fa=a,qn=o;break;case 0:case 11:case 14:case 15:if(!Va&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){o=a=a.next;do{var n=o,s=n.destroy;n=n.tag,s!==void 0&&(n&2||n&4)&&lx(r,t,s),o=o.next}while(o!==a)}Pi(e,t,r);break;case 1:if(!Va&&(od(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(i){Zr(r,t,i)}Pi(e,t,r);break;case 21:Pi(e,t,r);break;case 22:r.mode&1?(Va=(a=Va)||r.memoizedState!==null,Pi(e,t,r),Va=a):Pi(e,t,r);break;default:Pi(e,t,r)}}function P2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new iO),t.forEach(function(a){var o=vO.bind(null,e,a);r.has(a)||(r.add(a),a.then(o,o))})}}function _n(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];try{var n=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 5:Fa=i.stateNode,qn=!1;break e;case 3:Fa=i.stateNode.containerInfo,qn=!0;break e;case 4:Fa=i.stateNode.containerInfo,qn=!0;break e}i=i.return}if(Fa===null)throw Error($e(160));kS(n,s,o),Fa=null,qn=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(l){Zr(o,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)NS(t,e),t=t.sibling}function NS(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_n(t,e),vs(e),a&4){try{Af(3,e,e.return),Mh(3,e)}catch(m){Zr(e,e.return,m)}try{Af(5,e,e.return)}catch(m){Zr(e,e.return,m)}}break;case 1:_n(t,e),vs(e),a&512&&r!==null&&od(r,r.return);break;case 5:if(_n(t,e),vs(e),a&512&&r!==null&&od(r,r.return),e.flags&32){var o=e.stateNode;try{Ff(o,"")}catch(m){Zr(e,e.return,m)}}if(a&4&&(o=e.stateNode,o!=null)){var n=e.memoizedProps,s=r!==null?r.memoizedProps:n,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&n.type==="radio"&&n.name!=null&&V2(o,n),Oy(i,s);var l=Oy(i,n);for(s=0;s<c.length;s+=2){var d=c[s],u=c[s+1];d==="style"?Y2(o,u):d==="dangerouslySetInnerHTML"?K2(o,u):d==="children"?Ff(o,u):yx(o,d,u,l)}switch(i){case"input":Ay(o,n);break;case"textarea":W2(o,n);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!n.multiple;var h=n.value;h!=null?sd(o,!!n.multiple,h,!1):g!==!!n.multiple&&(n.defaultValue!=null?sd(o,!!n.multiple,n.defaultValue,!0):sd(o,!!n.multiple,n.multiple?[]:"",!1))}o[$f]=n}catch(m){Zr(e,e.return,m)}}break;case 6:if(_n(t,e),vs(e),a&4){if(e.stateNode===null)throw Error($e(162));o=e.stateNode,n=e.memoizedProps;try{o.nodeValue=n}catch(m){Zr(e,e.return,m)}}break;case 3:if(_n(t,e),vs(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Bf(t.containerInfo)}catch(m){Zr(e,e.return,m)}break;case 4:_n(t,e),vs(e);break;case 13:_n(t,e),vs(e),o=e.child,o.flags&8192&&(n=o.memoizedState!==null,o.stateNode.isHidden=n,!n||o.alternate!==null&&o.alternate.memoizedState!==null||(Xx=ra())),a&4&&P2(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Va=(l=Va)||d,_n(t,e),Va=l):_n(t,e),vs(e),a&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!d&&e.mode&1)for(mt=e,d=e.child;d!==null;){for(u=mt=d;mt!==null;){switch(g=mt,h=g.child,g.tag){case 0:case 11:case 14:case 15:Af(4,g,g.return);break;case 1:od(g,g.return);var v=g.stateNode;if(typeof v.componentWillUnmount=="function"){a=g,r=g.return;try{t=a,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Zr(a,r,m)}}break;case 5:od(g,g.return);break;case 22:if(g.memoizedState!==null){D2(u);continue}}h!==null?(h.return=g,mt=h):D2(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{o=u.stateNode,l?(n=o.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none"):(i=u.stateNode,c=u.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=Q2("display",s))}catch(m){Zr(e,e.return,m)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=l?"":u.memoizedProps}catch(m){Zr(e,e.return,m)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:_n(t,e),vs(e),a&4&&P2(e);break;case 21:break;default:_n(t,e),vs(e)}}function vs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(wS(r)){var a=r;break e}r=r.return}throw Error($e(160))}switch(a.tag){case 5:var o=a.stateNode;a.flags&32&&(Ff(o,""),a.flags&=-33);var n=A2(e);ux(e,n,o);break;case 3:case 4:var s=a.stateNode.containerInfo,i=A2(e);dx(e,i,s);break;default:throw Error($e(161))}}catch(c){Zr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cO(e,t,r){mt=e,CS(e,t,r)}function CS(e,t,r){for(var a=(e.mode&1)!==0;mt!==null;){var o=mt,n=o.child;if(o.tag===22&&a){var s=o.memoizedState!==null||Wg;if(!s){var i=o.alternate,c=i!==null&&i.memoizedState!==null||Va;i=Wg;var l=Va;if(Wg=s,(Va=c)&&!l)for(mt=o;mt!==null;)s=mt,c=s.child,s.tag===22&&s.memoizedState!==null?F2(o):c!==null?(c.return=s,mt=c):F2(o);for(;n!==null;)mt=n,CS(n,t,r),n=n.sibling;mt=o,Wg=i,Va=l}T2(e,t,r)}else o.subtreeFlags&8772&&n!==null?(n.return=o,mt=n):T2(e,t,r)}}function T2(e){for(;mt!==null;){var t=mt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Va||Mh(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Va)if(r===null)a.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Bn(t.type,r.memoizedProps);a.componentDidUpdate(o,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var n=t.updateQueue;n!==null&&h2(t,n,a);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}h2(t,s,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var d=l.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&Bf(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($e(163))}Va||t.flags&512&&cx(t)}catch(g){Zr(t,t.return,g)}}if(t===e){mt=null;break}if(r=t.sibling,r!==null){r.return=t.return,mt=r;break}mt=t.return}}function D2(e){for(;mt!==null;){var t=mt;if(t===e){mt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,mt=r;break}mt=t.return}}function F2(e){for(;mt!==null;){var t=mt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Mh(4,t)}catch(c){Zr(t,r,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var o=t.return;try{a.componentDidMount()}catch(c){Zr(t,o,c)}}var n=t.return;try{cx(t)}catch(c){Zr(t,n,c)}break;case 5:var s=t.return;try{cx(t)}catch(c){Zr(t,s,c)}}}catch(c){Zr(t,t.return,c)}if(t===e){mt=null;break}var i=t.sibling;if(i!==null){i.return=t.return,mt=i;break}mt=t.return}}var dO=Math.ceil,Nh=Zs.ReactCurrentDispatcher,Qx=Zs.ReactCurrentOwner,dn=Zs.ReactCurrentBatchConfig,ur=0,Ia=null,ia=null,Oa=0,Mo=0,nd=Qi(0),va=0,Qf=null,ql=0,_h=0,Yx=0,Pf=null,vo=null,Xx=0,yd=1/0,Hs=null,Ch=!1,fx=null,$i=null,Gg=!1,_i=null,Sh=0,Tf=0,mx=null,th=-1,rh=0;function oo(){return ur&6?ra():th!==-1?th:th=ra()}function Hi(e){return e.mode&1?ur&2&&Oa!==0?Oa&-Oa:GF.transition!==null?(rh===0&&(rh=lC()),rh):(e=vr,e!==0||(e=window.event,e=e===void 0?16:gC(e.type)),e):1}function zn(e,t,r,a){if(50<Tf)throw Tf=0,mx=null,Error($e(185));Yf(e,r,a),(!(ur&2)||e!==Ia)&&(e===Ia&&(!(ur&2)&&(_h|=r),va===4&&Oi(e,Oa)),wo(e,a),r===1&&ur===0&&!(t.mode&1)&&(yd=ra()+500,Dh&&Yi()))}function wo(e,t){var r=e.callbackNode;QD(e,t);var a=lh(e,e===Ia?Oa:0);if(a===0)r!==null&&zN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&zN(r),t===1)e.tag===0?WF(O2.bind(null,e)):FC(O2.bind(null,e)),zF(function(){!(ur&6)&&Yi()}),r=null;else{switch(cC(a)){case 1:r=Nx;break;case 4:r=sC;break;case 16:r=ih;break;case 536870912:r=iC;break;default:r=ih}r=TS(r,SS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function SS(e,t){if(th=-1,rh=0,ur&6)throw Error($e(327));var r=e.callbackNode;if(ud()&&e.callbackNode!==r)return null;var a=lh(e,e===Ia?Oa:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Eh(e,a);else{t=a;var o=ur;ur|=2;var n=LS();(Ia!==e||Oa!==t)&&(Hs=null,yd=ra()+500,Fl(e,t));do try{mO();break}catch(i){ES(e,i)}while(!0);Mx(),Nh.current=n,ur=o,ia!==null?t=0:(Ia=null,Oa=0,t=va)}if(t!==0){if(t===2&&(o=jy(e),o!==0&&(a=o,t=px(e,o))),t===1)throw r=Qf,Fl(e,0),Oi(e,a),wo(e,ra()),r;if(t===6)Oi(e,a);else{if(o=e.current.alternate,!(a&30)&&!uO(o)&&(t=Eh(e,a),t===2&&(n=jy(e),n!==0&&(a=n,t=px(e,n))),t===1))throw r=Qf,Fl(e,0),Oi(e,a),wo(e,ra()),r;switch(e.finishedWork=o,e.finishedLanes=a,t){case 0:case 1:throw Error($e(345));case 2:Al(e,vo,Hs);break;case 3:if(Oi(e,a),(a&130023424)===a&&(t=Xx+500-ra(),10<t)){if(lh(e,0)!==0)break;if(o=e.suspendedLanes,(o&a)!==a){oo(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ky(Al.bind(null,e,vo,Hs),t);break}Al(e,vo,Hs);break;case 4:if(Oi(e,a),(a&4194240)===a)break;for(t=e.eventTimes,o=-1;0<a;){var s=31-Un(a);n=1<<s,s=t[s],s>o&&(o=s),a&=~n}if(a=o,a=ra()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*dO(a/1960))-a,10<a){e.timeoutHandle=Ky(Al.bind(null,e,vo,Hs),a);break}Al(e,vo,Hs);break;case 5:Al(e,vo,Hs);break;default:throw Error($e(329))}}}return wo(e,ra()),e.callbackNode===r?SS.bind(null,e):null}function px(e,t){var r=Pf;return e.current.memoizedState.isDehydrated&&(Fl(e,t).flags|=256),e=Eh(e,t),e!==2&&(t=vo,vo=r,t!==null&&gx(t)),e}function gx(e){vo===null?vo=e:vo.push.apply(vo,e)}function uO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var o=r[a],n=o.getSnapshot;o=o.value;try{if(!$n(n(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Oi(e,t){for(t&=~Yx,t&=~_h,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Un(t),a=1<<r;e[r]=-1,t&=~a}}function O2(e){if(ur&6)throw Error($e(327));ud();var t=lh(e,0);if(!(t&1))return wo(e,ra()),null;var r=Eh(e,t);if(e.tag!==0&&r===2){var a=jy(e);a!==0&&(t=a,r=px(e,a))}if(r===1)throw r=Qf,Fl(e,0),Oi(e,t),wo(e,ra()),r;if(r===6)throw Error($e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Al(e,vo,Hs),wo(e,ra()),null}function Jx(e,t){var r=ur;ur|=1;try{return e(t)}finally{ur=r,ur===0&&(yd=ra()+500,Dh&&Yi())}}function jl(e){_i!==null&&_i.tag===0&&!(ur&6)&&ud();var t=ur;ur|=1;var r=dn.transition,a=vr;try{if(dn.transition=null,vr=1,e)return e()}finally{vr=a,dn.transition=r,ur=t,!(ur&6)&&Yi()}}function Zx(){Mo=nd.current,Rr(nd)}function Fl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,UF(r)),ia!==null)for(r=ia.return;r!==null;){var a=r;switch(Dx(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&mh();break;case 3:hd(),Rr(xo),Rr(Wa),zx();break;case 5:Ux(a);break;case 4:hd();break;case 13:Rr(jr);break;case 19:Rr(jr);break;case 10:_x(a.type._context);break;case 22:case 23:Zx()}r=r.return}if(Ia=e,ia=e=Vi(e.current,null),Oa=Mo=t,va=0,Qf=null,Yx=_h=ql=0,vo=Pf=null,Tl!==null){for(t=0;t<Tl.length;t++)if(r=Tl[t],a=r.interleaved,a!==null){r.interleaved=null;var o=a.next,n=r.pending;if(n!==null){var s=n.next;n.next=o,a.next=s}r.pending=a}Tl=null}return e}function ES(e,t){do{var r=ia;try{if(Mx(),Jg.current=kh,wh){for(var a=Ur.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}wh=!1}if(Bl=0,La=ha=Ur=null,Rf=!1,Wf=0,Qx.current=null,r===null||r.return===null){va=1,Qf=t,ia=null;break}e:{var n=e,s=r.return,i=r,c=t;if(t=Oa,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,d=i,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=k2(s);if(h!==null){h.flags&=-257,N2(h,s,i,n,t),h.mode&1&&w2(n,l,t),t=h,c=l;var v=t.updateQueue;if(v===null){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}else{if(!(t&1)){w2(n,l,t),eb();break e}c=Error($e(426))}}else if(Or&&i.mode&1){var y=k2(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),N2(y,s,i,n,t),Fx(vd(c,i));break e}}n=c=vd(c,i),va!==4&&(va=2),Pf===null?Pf=[n]:Pf.push(n),n=s;do{switch(n.tag){case 3:n.flags|=65536,t&=-t,n.lanes|=t;var p=cS(n,c,t);g2(n,p);break e;case 1:i=c;var f=n.type,x=n.stateNode;if(!(n.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&($i===null||!$i.has(x)))){n.flags|=65536,t&=-t,n.lanes|=t;var b=dS(n,i,t);g2(n,b);break e}}n=n.return}while(n!==null)}RS(r)}catch(w){t=w,ia===r&&r!==null&&(ia=r=r.return);continue}break}while(!0)}function LS(){var e=Nh.current;return Nh.current=kh,e===null?kh:e}function eb(){(va===0||va===3||va===2)&&(va=4),Ia===null||!(ql&268435455)&&!(_h&268435455)||Oi(Ia,Oa)}function Eh(e,t){var r=ur;ur|=2;var a=LS();(Ia!==e||Oa!==t)&&(Hs=null,Fl(e,t));do try{fO();break}catch(o){ES(e,o)}while(!0);if(Mx(),ur=r,Nh.current=a,ia!==null)throw Error($e(261));return Ia=null,Oa=0,va}function fO(){for(;ia!==null;)IS(ia)}function mO(){for(;ia!==null&&!jD();)IS(ia)}function IS(e){var t=PS(e.alternate,e,Mo);e.memoizedProps=e.pendingProps,t===null?RS(e):ia=t,Qx.current=null}function RS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=sO(r,t),r!==null){r.flags&=32767,ia=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{va=6,ia=null;return}}else if(r=nO(r,t,Mo),r!==null){ia=r;return}if(t=t.sibling,t!==null){ia=t;return}ia=t=e}while(t!==null);va===0&&(va=5)}function Al(e,t,r){var a=vr,o=dn.transition;try{dn.transition=null,vr=1,pO(e,t,r,a)}finally{dn.transition=o,vr=a}return null}function pO(e,t,r,a){do ud();while(_i!==null);if(ur&6)throw Error($e(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($e(177));e.callbackNode=null,e.callbackPriority=0;var n=r.lanes|r.childLanes;if(YD(e,n),e===Ia&&(ia=Ia=null,Oa=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gg||(Gg=!0,TS(ih,function(){return ud(),null})),n=(r.flags&15990)!==0,r.subtreeFlags&15990||n){n=dn.transition,dn.transition=null;var s=vr;vr=1;var i=ur;ur|=4,Qx.current=null,lO(e,r),NS(r,e),MF(Wy),ch=!!Vy,Wy=Vy=null,e.current=r,cO(r,e,o),UD(),ur=i,vr=s,dn.transition=n}else e.current=r;if(Gg&&(Gg=!1,_i=e,Sh=o),n=e.pendingLanes,n===0&&($i=null),HD(r.stateNode,a),wo(e,ra()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],a(o.value,{componentStack:o.stack,digest:o.digest});if(Ch)throw Ch=!1,e=fx,fx=null,e;return Sh&1&&e.tag!==0&&ud(),n=e.pendingLanes,n&1?e===mx?Tf++:(Tf=0,mx=e):Tf=0,Yi(),null}function ud(){if(_i!==null){var e=cC(Sh),t=dn.transition,r=vr;try{if(dn.transition=null,vr=16>e?16:e,_i===null)var a=!1;else{if(e=_i,_i=null,Sh=0,ur&6)throw Error($e(331));var o=ur;for(ur|=4,mt=e.current;mt!==null;){var n=mt,s=n.child;if(mt.flags&16){var i=n.deletions;if(i!==null){for(var c=0;c<i.length;c++){var l=i[c];for(mt=l;mt!==null;){var d=mt;switch(d.tag){case 0:case 11:case 15:Af(8,d,n)}var u=d.child;if(u!==null)u.return=d,mt=u;else for(;mt!==null;){d=mt;var g=d.sibling,h=d.return;if(bS(d),d===l){mt=null;break}if(g!==null){g.return=h,mt=g;break}mt=h}}}var v=n.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}mt=n}}if(n.subtreeFlags&2064&&s!==null)s.return=n,mt=s;else e:for(;mt!==null;){if(n=mt,n.flags&2048)switch(n.tag){case 0:case 11:case 15:Af(9,n,n.return)}var p=n.sibling;if(p!==null){p.return=n.return,mt=p;break e}mt=n.return}}var f=e.current;for(mt=f;mt!==null;){s=mt;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,mt=x;else e:for(s=f;mt!==null;){if(i=mt,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Mh(9,i)}}catch(w){Zr(i,i.return,w)}if(i===s){mt=null;break e}var b=i.sibling;if(b!==null){b.return=i.return,mt=b;break e}mt=i.return}}if(ur=o,Yi(),bs&&typeof bs.onPostCommitFiberRoot=="function")try{bs.onPostCommitFiberRoot(Ih,e)}catch{}a=!0}return a}finally{vr=r,dn.transition=t}}return!1}function M2(e,t,r){t=vd(r,t),t=cS(e,t,1),e=zi(e,t,1),t=oo(),e!==null&&(Yf(e,1,t),wo(e,t))}function Zr(e,t,r){if(e.tag===3)M2(e,e,r);else for(;t!==null;){if(t.tag===3){M2(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&($i===null||!$i.has(a))){e=vd(r,e),e=dS(t,e,1),t=zi(t,e,1),e=oo(),t!==null&&(Yf(t,1,e),wo(t,e));break}}t=t.return}}function gO(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=oo(),e.pingedLanes|=e.suspendedLanes&r,Ia===e&&(Oa&r)===r&&(va===4||va===3&&(Oa&130023424)===Oa&&500>ra()-Xx?Fl(e,0):Yx|=r),wo(e,t)}function AS(e,t){t===0&&(e.mode&1?(t=Dg,Dg<<=1,!(Dg&130023424)&&(Dg=4194304)):t=1);var r=oo();e=Xs(e,t),e!==null&&(Yf(e,t,r),wo(e,r))}function hO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),AS(e,r)}function vO(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:a=e.stateNode;break;default:throw Error($e(314))}a!==null&&a.delete(t),AS(e,r)}var PS;PS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xo.current)yo=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return yo=!1,oO(e,t,r);yo=!!(e.flags&131072)}else yo=!1,Or&&t.flags&1048576&&OC(t,hh,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;eh(e,t),e=t.pendingProps;var o=md(t,Wa.current);dd(t,r),o=Hx(null,t,a,e,o,r);var n=Vx();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bo(a)?(n=!0,ph(t)):n=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,qx(t),o.updater=Oh,t.stateNode=o,o._reactInternals=t,tx(t,a,e,r),t=ox(null,t,a,!0,n,r)):(t.tag=0,Or&&n&&Tx(t),ao(null,t,o,r),t=t.child),t;case 16:a=t.elementType;e:{switch(eh(e,t),e=t.pendingProps,o=a._init,a=o(a._payload),t.type=a,o=t.tag=xO(a),e=Bn(a,e),o){case 0:t=ax(null,t,a,e,r);break e;case 1:t=E2(null,t,a,e,r);break e;case 11:t=C2(null,t,a,e,r);break e;case 14:t=S2(null,t,a,Bn(a.type,e),r);break e}throw Error($e(306,a,""))}return t;case 0:return a=t.type,o=t.pendingProps,o=t.elementType===a?o:Bn(a,o),ax(e,t,a,o,r);case 1:return a=t.type,o=t.pendingProps,o=t.elementType===a?o:Bn(a,o),E2(e,t,a,o,r);case 3:e:{if(pS(t),e===null)throw Error($e(387));a=t.pendingProps,n=t.memoizedState,o=n.element,UC(e,t),xh(t,a,null,r);var s=t.memoizedState;if(a=s.element,n.isDehydrated)if(n={element:a,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=n,t.memoizedState=n,t.flags&256){o=vd(Error($e(423)),t),t=L2(e,t,a,r,o);break e}else if(a!==o){o=vd(Error($e(424)),t),t=L2(e,t,a,r,o);break e}else for(_o=Ui(t.stateNode.containerInfo.firstChild),Bo=t,Or=!0,jn=null,r=qC(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pd(),a===o){t=Js(e,t,r);break e}ao(e,t,a,r)}t=t.child}return t;case 5:return zC(t),e===null&&Jy(t),a=t.type,o=t.pendingProps,n=e!==null?e.memoizedProps:null,s=o.children,Gy(a,o)?s=null:n!==null&&Gy(a,n)&&(t.flags|=32),mS(e,t),ao(e,t,s,r),t.child;case 6:return e===null&&Jy(t),null;case 13:return gS(e,t,r);case 4:return jx(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=gd(t,null,a,r):ao(e,t,a,r),t.child;case 11:return a=t.type,o=t.pendingProps,o=t.elementType===a?o:Bn(a,o),C2(e,t,a,o,r);case 7:return ao(e,t,t.pendingProps,r),t.child;case 8:return ao(e,t,t.pendingProps.children,r),t.child;case 12:return ao(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,o=t.pendingProps,n=t.memoizedProps,s=o.value,kr(vh,a._currentValue),a._currentValue=s,n!==null)if($n(n.value,s)){if(n.children===o.children&&!xo.current){t=Js(e,t,r);break e}}else for(n=t.child,n!==null&&(n.return=t);n!==null;){var i=n.dependencies;if(i!==null){s=n.child;for(var c=i.firstContext;c!==null;){if(c.context===a){if(n.tag===1){c=Ks(-1,r&-r),c.tag=2;var l=n.updateQueue;if(l!==null){l=l.shared;var d=l.pending;d===null?c.next=c:(c.next=d.next,d.next=c),l.pending=c}}n.lanes|=r,c=n.alternate,c!==null&&(c.lanes|=r),Zy(n.return,r,t),i.lanes|=r;break}c=c.next}}else if(n.tag===10)s=n.type===t.type?null:n.child;else if(n.tag===18){if(s=n.return,s===null)throw Error($e(341));s.lanes|=r,i=s.alternate,i!==null&&(i.lanes|=r),Zy(s,r,t),s=n.sibling}else s=n.child;if(s!==null)s.return=n;else for(s=n;s!==null;){if(s===t){s=null;break}if(n=s.sibling,n!==null){n.return=s.return,s=n;break}s=s.return}n=s}ao(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,a=t.pendingProps.children,dd(t,r),o=un(o),a=a(o),t.flags|=1,ao(e,t,a,r),t.child;case 14:return a=t.type,o=Bn(a,t.pendingProps),o=Bn(a.type,o),S2(e,t,a,o,r);case 15:return uS(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,o=t.pendingProps,o=t.elementType===a?o:Bn(a,o),eh(e,t),t.tag=1,bo(a)?(e=!0,ph(t)):e=!1,dd(t,r),lS(t,a,o),tx(t,a,o,r),ox(null,t,a,!0,e,r);case 19:return hS(e,t,r);case 22:return fS(e,t,r)}throw Error($e(156,t.tag))};function TS(e,t){return nC(e,t)}function yO(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,r,a){return new yO(e,t,r,a)}function tb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xO(e){if(typeof e=="function")return tb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bx)return 11;if(e===wx)return 14}return 2}function Vi(e,t){var r=e.alternate;return r===null?(r=cn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ah(e,t,r,a,o,n){var s=2;if(a=e,typeof e=="function")tb(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Qc:return Ol(r.children,o,n,t);case xx:s=8,o|=8;break;case Sy:return e=cn(12,r,t,o|2),e.elementType=Sy,e.lanes=n,e;case Ey:return e=cn(13,r,t,o),e.elementType=Ey,e.lanes=n,e;case Ly:return e=cn(19,r,t,o),e.elementType=Ly,e.lanes=n,e;case z2:return Bh(r,o,n,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j2:s=10;break e;case U2:s=9;break e;case bx:s=11;break e;case wx:s=14;break e;case Ti:s=16,a=null;break e}throw Error($e(130,e==null?e:typeof e,""))}return t=cn(s,r,t,o),t.elementType=e,t.type=a,t.lanes=n,t}function Ol(e,t,r,a){return e=cn(7,e,a,t),e.lanes=r,e}function Bh(e,t,r,a){return e=cn(22,e,a,t),e.elementType=z2,e.lanes=r,e.stateNode={isHidden:!1},e}function ky(e,t,r){return e=cn(6,e,null,t),e.lanes=r,e}function Ny(e,t,r){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bO(e,t,r,a,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sy(0),this.expirationTimes=sy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sy(0),this.identifierPrefix=a,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function rb(e,t,r,a,o,n,s,i,c){return e=new bO(e,t,r,i,c),t===1?(t=1,n===!0&&(t|=8)):t=0,n=cn(3,null,null,t),e.current=n,n.stateNode=e,n.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qx(n),e}function wO(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kc,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function DS(e){if(!e)return Gi;e=e._reactInternals;e:{if(zl(e)!==e||e.tag!==1)throw Error($e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($e(171))}if(e.tag===1){var r=e.type;if(bo(r))return DC(e,r,t)}return t}function FS(e,t,r,a,o,n,s,i,c){return e=rb(r,a,!0,e,o,n,s,i,c),e.context=DS(null),r=e.current,a=oo(),o=Hi(r),n=Ks(a,o),n.callback=t??null,zi(r,n,o),e.current.lanes=o,Yf(e,o,a),wo(e,a),e}function qh(e,t,r,a){var o=t.current,n=oo(),s=Hi(o);return r=DS(r),t.context===null?t.context=r:t.pendingContext=r,t=Ks(n,s),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=zi(o,t,s),e!==null&&(zn(e,o,s,n),Xg(e,o,s)),s}function Lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ab(e,t){_2(e,t),(e=e.alternate)&&_2(e,t)}function kO(){return null}var OS=typeof reportError=="function"?reportError:function(e){console.error(e)};function ob(e){this._internalRoot=e}jh.prototype.render=ob.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($e(409));qh(e,t,null,null)};jh.prototype.unmount=ob.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jl(function(){qh(null,e,null,null)}),t[Ys]=null}};function jh(e){this._internalRoot=e}jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=fC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Fi.length&&t!==0&&t<Fi[r].priority;r++);Fi.splice(r,0,e),r===0&&pC(e)}};function nb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Uh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function B2(){}function NO(e,t,r,a,o){if(o){if(typeof a=="function"){var n=a;a=function(){var l=Lh(s);n.call(l)}}var s=FS(t,a,e,0,null,!1,!1,"",B2);return e._reactRootContainer=s,e[Ys]=s.current,Uf(e.nodeType===8?e.parentNode:e),jl(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof a=="function"){var i=a;a=function(){var l=Lh(c);i.call(l)}}var c=rb(e,0,!1,null,null,!1,!1,"",B2);return e._reactRootContainer=c,e[Ys]=c.current,Uf(e.nodeType===8?e.parentNode:e),jl(function(){qh(t,c,r,a)}),c}function zh(e,t,r,a,o){var n=r._reactRootContainer;if(n){var s=n;if(typeof o=="function"){var i=o;o=function(){var c=Lh(s);i.call(c)}}qh(t,s,e,o)}else s=NO(r,t,e,o,a);return Lh(s)}dC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=kf(t.pendingLanes);r!==0&&(Cx(t,r|1),wo(t,ra()),!(ur&6)&&(yd=ra()+500,Yi()))}break;case 13:jl(function(){var a=Xs(e,1);if(a!==null){var o=oo();zn(a,e,1,o)}}),ab(e,1)}};Sx=function(e){if(e.tag===13){var t=Xs(e,134217728);if(t!==null){var r=oo();zn(t,e,134217728,r)}ab(e,134217728)}};uC=function(e){if(e.tag===13){var t=Hi(e),r=Xs(e,t);if(r!==null){var a=oo();zn(r,e,t,a)}ab(e,t)}};fC=function(){return vr};mC=function(e,t){var r=vr;try{return vr=e,t()}finally{vr=r}};_y=function(e,t,r){switch(t){case"input":if(Ay(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var o=Th(a);if(!o)throw Error($e(90));H2(a),Ay(a,o)}}}break;case"textarea":W2(e,r);break;case"select":t=r.value,t!=null&&sd(e,!!r.multiple,t,!1)}};Z2=Jx;eC=jl;var CO={usingClientEntryPoint:!1,Events:[Jf,Zc,Th,X2,J2,Jx]},yf={findFiberByHostInstance:Pl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SO={bundleType:yf.bundleType,version:yf.version,rendererPackageName:yf.rendererPackageName,rendererConfig:yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aC(e),e===null?null:e.stateNode},findFiberByHostInstance:yf.findFiberByHostInstance||kO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(xf=__REACT_DEVTOOLS_GLOBAL_HOOK__,!xf.isDisabled&&xf.supportsFiber))try{Ih=xf.inject(SO),bs=xf}catch{}var xf;Uo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CO;Uo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nb(t))throw Error($e(200));return wO(e,t,null,r)};Uo.createRoot=function(e,t){if(!nb(e))throw Error($e(299));var r=!1,a="",o=OS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=rb(e,1,!1,null,null,r,!1,a,o),e[Ys]=t.current,Uf(e.nodeType===8?e.parentNode:e),new ob(t)};Uo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($e(188)):(e=Object.keys(e).join(","),Error($e(268,e)));return e=aC(t),e=e===null?null:e.stateNode,e};Uo.flushSync=function(e){return jl(e)};Uo.hydrate=function(e,t,r){if(!Uh(t))throw Error($e(200));return zh(null,e,t,!0,r)};Uo.hydrateRoot=function(e,t,r){if(!nb(e))throw Error($e(405));var a=r!=null&&r.hydratedSources||null,o=!1,n="",s=OS;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(n=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=FS(t,null,e,1,r??null,o,!1,n,s),e[Ys]=t.current,Uf(e),a)for(e=0;e<a.length;e++)r=a[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new jh(t)};Uo.render=function(e,t,r){if(!Uh(t))throw Error($e(200));return zh(null,e,t,!1,r)};Uo.unmountComponentAtNode=function(e){if(!Uh(e))throw Error($e(40));return e._reactRootContainer?(jl(function(){zh(null,null,e,!1,function(){e._reactRootContainer=null,e[Ys]=null})}),!0):!1};Uo.unstable_batchedUpdates=Jx;Uo.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!Uh(r))throw Error($e(200));if(e==null||e._reactInternals===void 0)throw Error($e(38));return zh(e,t,r,!1,a)};Uo.version="18.3.1-next-f1338f8080-20240426"});var Xi=Ae((sY,BS)=>{"use strict";function _S(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_S)}catch(e){console.error(e)}}_S(),BS.exports=MS()});var jS=Ae(sb=>{"use strict";var qS=Xi();sb.createRoot=qS.createRoot,sb.hydrateRoot=qS.hydrateRoot;var iY});var pE=Ae(mE=>{"use strict";var Nd=he();function E7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var L7=typeof Object.is=="function"?Object.is:E7,I7=Nd.useState,R7=Nd.useEffect,A7=Nd.useLayoutEffect,P7=Nd.useDebugValue;function T7(e,t){var r=t(),a=I7({inst:{value:r,getSnapshot:t}}),o=a[0].inst,n=a[1];return A7(function(){o.value=r,o.getSnapshot=t,hb(o)&&n({inst:o})},[e,r,t]),R7(function(){return hb(o)&&n({inst:o}),e(function(){hb(o)&&n({inst:o})})},[e]),P7(r),r}function hb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!L7(e,r)}catch{return!0}}function D7(e,t){return t()}var F7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?D7:T7;mE.useSyncExternalStore=Nd.useSyncExternalStore!==void 0?Nd.useSyncExternalStore:F7});var hE=Ae((YY,gE)=>{"use strict";gE.exports=pE()});var yE=Ae(vE=>{"use strict";var Yh=he(),O7=hE();function M7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _7=typeof Object.is=="function"?Object.is:M7,B7=O7.useSyncExternalStore,q7=Yh.useRef,j7=Yh.useEffect,U7=Yh.useMemo,z7=Yh.useDebugValue;vE.useSyncExternalStoreWithSelector=function(e,t,r,a,o){var n=q7(null);if(n.current===null){var s={hasValue:!1,value:null};n.current=s}else s=n.current;n=U7(function(){function c(h){if(!l){if(l=!0,d=h,h=a(h),o!==void 0&&s.hasValue){var v=s.value;if(o(v,h))return u=v}return u=h}if(v=u,_7(d,h))return v;var m=a(h);return o!==void 0&&o(v,m)?(d=h,v):(d=h,u=m)}var l=!1,d,u,g=r===void 0?null:r;return[function(){return c(t())},g===null?void 0:function(){return c(g())}]},[t,r,a,o]);var i=B7(e,n[0],n[1]);return j7(function(){s.hasValue=!0,s.value=i},[i]),z7(i),i}});var bE=Ae((JY,xE)=>{"use strict";xE.exports=yE()});function sm(e,t){return function(){return e.apply(t,arguments)}}var vb=At(()=>{"use strict"});function K7(e){return e!==null&&!im(e)&&e.constructor!==null&&!im(e.constructor)&&ko(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}function Q7(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&LE(e.buffer),t}function lm(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,o;if(typeof e!="object"&&(e=[e]),Cd(e))for(a=0,o=e.length;a<o;a++)t.call(null,e[a],a,e);else{let n=r?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length,i;for(a=0;a<s;a++)i=n[a],t.call(null,e[i],i,e)}}function RE(e,t){t=t.toLowerCase();let r=Object.keys(e),a=r.length,o;for(;a-- >0;)if(o=r[a],t===o.toLowerCase())return o;return null}function yb(){let{caseless:e}=AE(this)&&this||{},t={},r=(a,o)=>{let n=e&&RE(t,o)||o;Zh(t[n])&&Zh(a)?t[n]=yb(t[n],a):Zh(a)?t[n]=yb({},a):Cd(a)?t[n]=a.slice():t[n]=a};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&lm(arguments[a],r);return t}function EM(e){return!!(e&&ko(e.append)&&e[EE]==="FormData"&&e[e0])}var G7,xb,e0,EE,t0,Wn,r0,Cd,im,LE,Y7,ko,IE,a0,X7,Zh,J7,Z7,eM,tM,rM,aM,oM,nM,sM,iM,lM,cM,Vl,AE,dM,uM,fM,mM,pM,gM,hM,vM,yM,xM,bM,SE,wM,PE,kM,NM,CM,SM,LM,IM,RM,TE,AM,PM,ce,Hr=At(()=>{"use strict";vb();({toString:G7}=Object.prototype),{getPrototypeOf:xb}=Object,{iterator:e0,toStringTag:EE}=Symbol,t0=(e=>t=>{let r=G7.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Wn=e=>(e=e.toLowerCase(),t=>t0(t)===e),r0=e=>t=>typeof t===e,{isArray:Cd}=Array,im=r0("undefined");LE=Wn("ArrayBuffer");Y7=r0("string"),ko=r0("function"),IE=r0("number"),a0=e=>e!==null&&typeof e=="object",X7=e=>e===!0||e===!1,Zh=e=>{if(t0(e)!=="object")return!1;let t=xb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(EE in e)&&!(e0 in e)},J7=Wn("Date"),Z7=Wn("File"),eM=Wn("Blob"),tM=Wn("FileList"),rM=e=>a0(e)&&ko(e.pipe),aM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ko(e.append)&&((t=t0(e))==="formdata"||t==="object"&&ko(e.toString)&&e.toString()==="[object FormData]"))},oM=Wn("URLSearchParams"),[nM,sM,iM,lM]=["ReadableStream","Request","Response","Headers"].map(Wn),cM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");Vl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,AE=e=>!im(e)&&e!==Vl;dM=(e,t,r,{allOwnKeys:a}={})=>(lm(t,(o,n)=>{r&&ko(o)?e[n]=sm(o,r):e[n]=o},{allOwnKeys:a}),e),uM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fM=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},mM=(e,t,r,a)=>{let o,n,s,i={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),n=o.length;n-- >0;)s=o[n],(!a||a(s,e,t))&&!i[s]&&(t[s]=e[s],i[s]=!0);e=r!==!1&&xb(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},pM=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;let a=e.indexOf(t,r);return a!==-1&&a===r},gM=e=>{if(!e)return null;if(Cd(e))return e;let t=e.length;if(!IE(t))return null;let r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},hM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&xb(Uint8Array)),vM=(e,t)=>{let a=(e&&e[e0]).call(e),o;for(;(o=a.next())&&!o.done;){let n=o.value;t.call(e,n[0],n[1])}},yM=(e,t)=>{let r,a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},xM=Wn("HTMLFormElement"),bM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,o){return a.toUpperCase()+o}),SE=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),wM=Wn("RegExp"),PE=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),a={};lm(r,(o,n)=>{let s;(s=t(o,n,e))!==!1&&(a[n]=s||o)}),Object.defineProperties(e,a)},kM=e=>{PE(e,(t,r)=>{if(ko(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let a=e[r];if(ko(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},NM=(e,t)=>{let r={},a=o=>{o.forEach(n=>{r[n]=!0})};return Cd(e)?a(e):a(String(e).split(t)),r},CM=()=>{},SM=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;LM=e=>{let t=new Array(10),r=(a,o)=>{if(a0(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[o]=a;let n=Cd(a)?[]:{};return lm(a,(s,i)=>{let c=r(s,o+1);!im(c)&&(n[i]=c)}),t[o]=void 0,n}}return a};return r(e,0)},IM=Wn("AsyncFunction"),RM=e=>e&&(a0(e)||ko(e))&&ko(e.then)&&ko(e.catch),TE=((e,t)=>e?setImmediate:t?((r,a)=>(Vl.addEventListener("message",({source:o,data:n})=>{o===Vl&&n===r&&a.length&&a.shift()()},!1),o=>{a.push(o),Vl.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ko(Vl.postMessage)),AM=typeof queueMicrotask<"u"?queueMicrotask.bind(Vl):typeof process<"u"&&process.nextTick||TE,PM=e=>e!=null&&ko(e[e0]),ce={isArray:Cd,isArrayBuffer:LE,isBuffer:K7,isFormData:aM,isArrayBufferView:Q7,isString:Y7,isNumber:IE,isBoolean:X7,isObject:a0,isPlainObject:Zh,isReadableStream:nM,isRequest:sM,isResponse:iM,isHeaders:lM,isUndefined:im,isDate:J7,isFile:Z7,isBlob:eM,isRegExp:wM,isFunction:ko,isStream:rM,isURLSearchParams:oM,isTypedArray:hM,isFileList:tM,forEach:lm,merge:yb,extend:dM,trim:cM,stripBOM:uM,inherits:fM,toFlatObject:mM,kindOf:t0,kindOfTest:Wn,endsWith:pM,toArray:gM,forEachEntry:vM,matchAll:yM,isHTMLForm:xM,hasOwnProperty:SE,hasOwnProp:SE,reduceDescriptors:PE,freezeMethods:kM,toObjectSet:NM,toCamelCase:bM,noop:CM,toFiniteNumber:SM,findKey:RE,global:Vl,isContextDefined:AE,isSpecCompliantForm:EM,toJSONObject:LM,isAsyncFn:IM,isThenable:RM,setImmediate:TE,asap:AM,isIterable:PM}});function Sd(e,t,r,a,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),o&&(this.response=o,this.status=o.status?o.status:null)}var DE,FE,Mt,Gn=At(()=>{"use strict";Hr();ce.inherits(Sd,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ce.toJSONObject(this.config),code:this.code,status:this.status}}});DE=Sd.prototype,FE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{FE[e]={value:e}});Object.defineProperties(Sd,FE);Object.defineProperty(DE,"isAxiosError",{value:!0});Sd.from=(e,t,r,a,o,n)=>{let s=Object.create(DE);return ce.toFlatObject(e,s,function(c){return c!==Error.prototype},i=>i!=="isAxiosError"),Sd.call(s,e.message,t,r,a,o),s.cause=e,s.name=e.name,n&&Object.assign(s,n),s};Mt=Sd});var o0,bb=At(()=>{o0=null});function wb(e){return ce.isPlainObject(e)||ce.isArray(e)}function ME(e){return ce.endsWith(e,"[]")?e.slice(0,-2):e}function OE(e,t,r){return e?e.concat(t).map(function(o,n){return o=ME(o),!r&&n?"["+o+"]":o}).join(r?".":""):t}function TM(e){return ce.isArray(e)&&!e.some(wb)}function FM(e,t,r){if(!ce.isObject(e))throw new TypeError("target must be an object");t=t||new(o0||FormData),r=ce.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!ce.isUndefined(y[m])});let a=r.metaTokens,o=r.visitor||d,n=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ce.isSpecCompliantForm(t);if(!ce.isFunction(o))throw new TypeError("visitor must be a function");function l(v){if(v===null)return"";if(ce.isDate(v))return v.toISOString();if(ce.isBoolean(v))return v.toString();if(!c&&ce.isBlob(v))throw new Mt("Blob is not supported. Use a Buffer instead.");return ce.isArrayBuffer(v)||ce.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,m,y){let p=v;if(v&&!y&&typeof v=="object"){if(ce.endsWith(m,"{}"))m=a?m:m.slice(0,-2),v=JSON.stringify(v);else if(ce.isArray(v)&&TM(v)||(ce.isFileList(v)||ce.endsWith(m,"[]"))&&(p=ce.toArray(v)))return m=ME(m),p.forEach(function(x,b){!(ce.isUndefined(x)||x===null)&&t.append(s===!0?OE([m],b,n):s===null?m:m+"[]",l(x))}),!1}return wb(v)?!0:(t.append(OE(y,m,n),l(v)),!1)}let u=[],g=Object.assign(DM,{defaultVisitor:d,convertValue:l,isVisitable:wb});function h(v,m){if(!ce.isUndefined(v)){if(u.indexOf(v)!==-1)throw Error("Circular reference detected in "+m.join("."));u.push(v),ce.forEach(v,function(p,f){(!(ce.isUndefined(p)||p===null)&&o.call(t,p,ce.isString(f)?f.trim():f,m,g))===!0&&h(p,m?m.concat(f):[f])}),u.pop()}}if(!ce.isObject(e))throw new TypeError("data must be an object");return h(e),t}var DM,Zi,cm=At(()=>{"use strict";Hr();Gn();bb();DM=ce.toFlatObject(ce,{},null,function(t){return/^is[A-Z]/.test(t)});Zi=FM});function _E(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function BE(e,t){this._pairs=[],e&&Zi(e,this,t)}var qE,n0,kb=At(()=>{"use strict";cm();qE=BE.prototype;qE.append=function(t,r){this._pairs.push([t,r])};qE.toString=function(t){let r=t?function(a){return t.call(this,a,_E)}:_E;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};n0=BE});function OM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dm(e,t,r){if(!t)return e;let a=r&&r.encode||OM;ce.isFunction(r)&&(r={serialize:r});let o=r&&r.serialize,n;if(o?n=o(t,r):n=ce.isURLSearchParams(t)?t.toString():new n0(t,r).toString(a),n){let s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+n}return e}var Nb=At(()=>{"use strict";Hr();kb()});var Cb,Sb,jE=At(()=>{"use strict";Hr();Cb=class{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ce.forEach(this.handlers,function(a){a!==null&&t(a)})}},Sb=Cb});var s0,Eb=At(()=>{"use strict";s0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}});var UE,zE=At(()=>{"use strict";kb();UE=typeof URLSearchParams<"u"?URLSearchParams:n0});var $E,HE=At(()=>{"use strict";$E=typeof FormData<"u"?FormData:null});var VE,WE=At(()=>{"use strict";VE=typeof Blob<"u"?Blob:null});var GE,KE=At(()=>{zE();HE();WE();GE={isBrowser:!0,classes:{URLSearchParams:UE,FormData:$E,Blob:VE},protocols:["http","https","file","blob","url","data"]}});var Rb={};Uv(Rb,{hasBrowserEnv:()=>Ib,hasStandardBrowserEnv:()=>MM,hasStandardBrowserWebWorkerEnv:()=>_M,navigator:()=>Lb,origin:()=>BM});var Ib,Lb,MM,_M,BM,QE=At(()=>{Ib=typeof window<"u"&&typeof document<"u",Lb=typeof navigator=="object"&&navigator||void 0,MM=Ib&&(!Lb||["ReactNative","NativeScript","NS"].indexOf(Lb.product)<0),_M=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",BM=Ib&&window.location.href||"http://localhost"});var Vr,el=At(()=>{KE();QE();Vr={...Rb,...GE}});function Ab(e,t){return Zi(e,new Vr.classes.URLSearchParams,Object.assign({visitor:function(r,a,o,n){return Vr.isNode&&ce.isBuffer(r)?(this.append(a,r.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}var YE=At(()=>{"use strict";Hr();cm();el()});function qM(e){return ce.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function jM(e){let t={},r=Object.keys(e),a,o=r.length,n;for(a=0;a<o;a++)n=r[a],t[n]=e[n];return t}function UM(e){function t(r,a,o,n){let s=r[n++];if(s==="__proto__")return!0;let i=Number.isFinite(+s),c=n>=r.length;return s=!s&&ce.isArray(o)?o.length:s,c?(ce.hasOwnProp(o,s)?o[s]=[o[s],a]:o[s]=a,!i):((!o[s]||!ce.isObject(o[s]))&&(o[s]=[]),t(r,a,o[s],n)&&ce.isArray(o[s])&&(o[s]=jM(o[s])),!i)}if(ce.isFormData(e)&&ce.isFunction(e.entries)){let r={};return ce.forEachEntry(e,(a,o)=>{t(qM(a),o,r,0)}),r}return null}var i0,Pb=At(()=>{"use strict";Hr();i0=UM});function zM(e,t,r){if(ce.isString(e))try{return(t||JSON.parse)(e),ce.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}var Tb,Ed,l0=At(()=>{"use strict";Hr();Gn();Eb();cm();YE();el();Pb();Tb={transitional:s0,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){let a=r.getContentType()||"",o=a.indexOf("application/json")>-1,n=ce.isObject(t);if(n&&ce.isHTMLForm(t)&&(t=new FormData(t)),ce.isFormData(t))return o?JSON.stringify(i0(t)):t;if(ce.isArrayBuffer(t)||ce.isBuffer(t)||ce.isStream(t)||ce.isFile(t)||ce.isBlob(t)||ce.isReadableStream(t))return t;if(ce.isArrayBufferView(t))return t.buffer;if(ce.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(n){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Ab(t,this.formSerializer).toString();if((i=ce.isFileList(t))||a.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return Zi(i?{"files[]":t}:t,c&&new c,this.formSerializer)}}return n||o?(r.setContentType("application/json",!1),zM(t)):t}],transformResponse:[function(t){let r=this.transitional||Tb.transitional,a=r&&r.forcedJSONParsing,o=this.responseType==="json";if(ce.isResponse(t)||ce.isReadableStream(t))return t;if(t&&ce.isString(t)&&(a&&!this.responseType||o)){let s=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(i){if(s)throw i.name==="SyntaxError"?Mt.from(i,Mt.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vr.classes.FormData,Blob:Vr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ce.forEach(["delete","get","head","post","put","patch"],e=>{Tb.headers[e]={}});Ed=Tb});var $M,XE,JE=At(()=>{"use strict";Hr();$M=ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),XE=e=>{let t={},r,a,o;return e&&e.split(`
`).forEach(function(s){o=s.indexOf(":"),r=s.substring(0,o).trim().toLowerCase(),a=s.substring(o+1).trim(),!(!r||t[r]&&$M[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t}});function um(e){return e&&String(e).trim().toLowerCase()}function c0(e){return e===!1||e==null?e:ce.isArray(e)?e.map(c0):String(e)}function HM(e){let t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}function Db(e,t,r,a,o){if(ce.isFunction(a))return a.call(this,t,r);if(o&&(t=r),!!ce.isString(t)){if(ce.isString(a))return t.indexOf(a)!==-1;if(ce.isRegExp(a))return a.test(t)}}function WM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function GM(e,t){let r=ce.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(o,n,s){return this[a].call(this,t,o,n,s)},configurable:!0})})}var ZE,VM,Ld,xa,ti=At(()=>{"use strict";Hr();JE();ZE=Symbol("internals");VM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());Ld=class{constructor(t){t&&this.set(t)}set(t,r,a){let o=this;function n(i,c,l){let d=um(c);if(!d)throw new Error("header name must be a non-empty string");let u=ce.findKey(o,d);(!u||o[u]===void 0||l===!0||l===void 0&&o[u]!==!1)&&(o[u||c]=c0(i))}let s=(i,c)=>ce.forEach(i,(l,d)=>n(l,d,c));if(ce.isPlainObject(t)||t instanceof this.constructor)s(t,r);else if(ce.isString(t)&&(t=t.trim())&&!VM(t))s(XE(t),r);else if(ce.isObject(t)&&ce.isIterable(t)){let i={},c,l;for(let d of t){if(!ce.isArray(d))throw TypeError("Object iterator must return a key-value pair");i[l=d[0]]=(c=i[l])?ce.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}s(i,r)}else t!=null&&n(r,t,a);return this}get(t,r){if(t=um(t),t){let a=ce.findKey(this,t);if(a){let o=this[a];if(!r)return o;if(r===!0)return HM(o);if(ce.isFunction(r))return r.call(this,o,a);if(ce.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=um(t),t){let a=ce.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||Db(this,this[a],a,r)))}return!1}delete(t,r){let a=this,o=!1;function n(s){if(s=um(s),s){let i=ce.findKey(a,s);i&&(!r||Db(a,a[i],i,r))&&(delete a[i],o=!0)}}return ce.isArray(t)?t.forEach(n):n(t),o}clear(t){let r=Object.keys(this),a=r.length,o=!1;for(;a--;){let n=r[a];(!t||Db(this,this[n],n,t,!0))&&(delete this[n],o=!0)}return o}normalize(t){let r=this,a={};return ce.forEach(this,(o,n)=>{let s=ce.findKey(a,n);if(s){r[s]=c0(o),delete r[n];return}let i=t?WM(n):String(n).trim();i!==n&&delete r[n],r[i]=c0(o),a[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let r=Object.create(null);return ce.forEach(this,(a,o)=>{a!=null&&a!==!1&&(r[o]=t&&ce.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){let a=new this(t);return r.forEach(o=>a.set(o)),a}static accessor(t){let a=(this[ZE]=this[ZE]={accessors:{}}).accessors,o=this.prototype;function n(s){let i=um(s);a[i]||(GM(o,s),a[i]=!0)}return ce.isArray(t)?t.forEach(n):n(t),this}};Ld.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ce.reduceDescriptors(Ld.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});ce.freezeMethods(Ld);xa=Ld});function fm(e,t){let r=this||Ed,a=t||r,o=xa.from(a.headers),n=a.data;return ce.forEach(e,function(i){n=i.call(r,n,o.normalize(),t?t.status:void 0)}),o.normalize(),n}var e4=At(()=>{"use strict";Hr();l0();ti()});function mm(e){return!!(e&&e.__CANCEL__)}var Fb=At(()=>{"use strict"});function t4(e,t,r){Mt.call(this,e??"canceled",Mt.ERR_CANCELED,t,r),this.name="CanceledError"}var Cs,Id=At(()=>{"use strict";Gn();Hr();ce.inherits(t4,Mt,{__CANCEL__:!0});Cs=t4});function pm(e,t,r){let a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new Mt("Request failed with status code "+r.status,[Mt.ERR_BAD_REQUEST,Mt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}var Ob=At(()=>{"use strict";Gn()});function Mb(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}var r4=At(()=>{"use strict"});function KM(e,t){e=e||10;let r=new Array(e),a=new Array(e),o=0,n=0,s;return t=t!==void 0?t:1e3,function(c){let l=Date.now(),d=a[n];s||(s=l),r[o]=c,a[o]=l;let u=n,g=0;for(;u!==o;)g+=r[u++],u=u%e;if(o=(o+1)%e,o===n&&(n=(n+1)%e),l-s<t)return;let h=d&&l-d;return h?Math.round(g*1e3/h):void 0}}var a4,o4=At(()=>{"use strict";a4=KM});function QM(e,t){let r=0,a=1e3/t,o,n,s=(l,d=Date.now())=>{r=d,o=null,n&&(clearTimeout(n),n=null),e.apply(null,l)};return[(...l)=>{let d=Date.now(),u=d-r;u>=a?s(l,d):(o=l,n||(n=setTimeout(()=>{n=null,s(o)},a-u)))},()=>o&&s(o)]}var n4,s4=At(()=>{n4=QM});var Rd,_b,Bb,qb=At(()=>{o4();s4();Hr();Rd=(e,t,r=3)=>{let a=0,o=a4(50,250);return n4(n=>{let s=n.loaded,i=n.lengthComputable?n.total:void 0,c=s-a,l=o(c),d=s<=i;a=s;let u={loaded:s,total:i,progress:i?s/i:void 0,bytes:c,rate:l||void 0,estimated:l&&i&&d?(i-s)/l:void 0,event:n,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(u)},r)},_b=(e,t)=>{let r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},Bb=e=>(...t)=>ce.asap(()=>e(...t))});var i4,l4=At(()=>{el();i4=Vr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Vr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Vr.origin),Vr.navigator&&/(msie|trident)/i.test(Vr.navigator.userAgent)):()=>!0});var c4,d4=At(()=>{Hr();el();c4=Vr.hasStandardBrowserEnv?{write(e,t,r,a,o,n){let s=[e+"="+encodeURIComponent(t)];ce.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),ce.isString(a)&&s.push("path="+a),ce.isString(o)&&s.push("domain="+o),n===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){let t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}}});function jb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}var u4=At(()=>{"use strict"});function Ub(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}var f4=At(()=>{"use strict"});function gm(e,t,r){let a=!jb(t);return e&&(a||r==!1)?Ub(e,t):t}var zb=At(()=>{"use strict";u4();f4()});function Kn(e,t){t=t||{};let r={};function a(l,d,u,g){return ce.isPlainObject(l)&&ce.isPlainObject(d)?ce.merge.call({caseless:g},l,d):ce.isPlainObject(d)?ce.merge({},d):ce.isArray(d)?d.slice():d}function o(l,d,u,g){if(ce.isUndefined(d)){if(!ce.isUndefined(l))return a(void 0,l,u,g)}else return a(l,d,u,g)}function n(l,d){if(!ce.isUndefined(d))return a(void 0,d)}function s(l,d){if(ce.isUndefined(d)){if(!ce.isUndefined(l))return a(void 0,l)}else return a(void 0,d)}function i(l,d,u){if(u in t)return a(l,d);if(u in e)return a(void 0,l)}let c={url:n,method:n,data:n,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:i,headers:(l,d,u)=>o(m4(l),m4(d),u,!0)};return ce.forEach(Object.keys(Object.assign({},e,t)),function(d){let u=c[d]||o,g=u(e[d],t[d],d);ce.isUndefined(g)&&u!==i||(r[d]=g)}),r}var m4,d0=At(()=>{"use strict";Hr();ti();m4=e=>e instanceof xa?{...e}:e});var u0,$b=At(()=>{el();Hr();l4();d4();zb();d0();ti();Nb();u0=e=>{let t=Kn({},e),{data:r,withXSRFToken:a,xsrfHeaderName:o,xsrfCookieName:n,headers:s,auth:i}=t;t.headers=s=xa.from(s),t.url=dm(gm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&s.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):"")));let c;if(ce.isFormData(r)){if(Vr.hasStandardBrowserEnv||Vr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){let[l,...d]=c?c.split(";").map(u=>u.trim()).filter(Boolean):[];s.setContentType([l||"multipart/form-data",...d].join("; "))}}if(Vr.hasStandardBrowserEnv&&(a&&ce.isFunction(a)&&(a=a(t)),a||a!==!1&&i4(t.url))){let l=o&&n&&c4.read(n);l&&s.set(o,l)}return t}});var YM,p4,g4=At(()=>{Hr();Ob();Eb();Gn();Id();r4();el();ti();qb();$b();YM=typeof XMLHttpRequest<"u",p4=YM&&function(e){return new Promise(function(r,a){let o=u0(e),n=o.data,s=xa.from(o.headers).normalize(),{responseType:i,onUploadProgress:c,onDownloadProgress:l}=o,d,u,g,h,v;function m(){h&&h(),v&&v(),o.cancelToken&&o.cancelToken.unsubscribe(d),o.signal&&o.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(o.method.toUpperCase(),o.url,!0),y.timeout=o.timeout;function p(){if(!y)return;let x=xa.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),w={data:!i||i==="text"||i==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:x,config:e,request:y};pm(function(I){r(I),m()},function(I){a(I),m()},w),y=null}"onloadend"in y?y.onloadend=p:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(p)},y.onabort=function(){y&&(a(new Mt("Request aborted",Mt.ECONNABORTED,e,y)),y=null)},y.onerror=function(){a(new Mt("Network Error",Mt.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let b=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded",w=o.transitional||s0;o.timeoutErrorMessage&&(b=o.timeoutErrorMessage),a(new Mt(b,w.clarifyTimeoutError?Mt.ETIMEDOUT:Mt.ECONNABORTED,e,y)),y=null},n===void 0&&s.setContentType(null),"setRequestHeader"in y&&ce.forEach(s.toJSON(),function(b,w){y.setRequestHeader(w,b)}),ce.isUndefined(o.withCredentials)||(y.withCredentials=!!o.withCredentials),i&&i!=="json"&&(y.responseType=o.responseType),l&&([g,v]=Rd(l,!0),y.addEventListener("progress",g)),c&&y.upload&&([u,h]=Rd(c),y.upload.addEventListener("progress",u),y.upload.addEventListener("loadend",h)),(o.cancelToken||o.signal)&&(d=x=>{y&&(a(!x||x.type?new Cs(null,e,y):x),y.abort(),y=null)},o.cancelToken&&o.cancelToken.subscribe(d),o.signal&&(o.signal.aborted?d():o.signal.addEventListener("abort",d)));let f=Mb(o.url);if(f&&Vr.protocols.indexOf(f)===-1){a(new Mt("Unsupported protocol "+f+":",Mt.ERR_BAD_REQUEST,e));return}y.send(n||null)})}});var XM,h4,v4=At(()=>{Id();Gn();Hr();XM=(e,t)=>{let{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,o,n=function(l){if(!o){o=!0,i();let d=l instanceof Error?l:this.reason;a.abort(d instanceof Mt?d:new Cs(d instanceof Error?d.message:d))}},s=t&&setTimeout(()=>{s=null,n(new Mt(`timeout ${t} of ms exceeded`,Mt.ETIMEDOUT))},t),i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(n):l.removeEventListener("abort",n)}),e=null)};e.forEach(l=>l.addEventListener("abort",n));let{signal:c}=a;return c.unsubscribe=()=>ce.asap(i),c}},h4=XM});var JM,ZM,e_,Hb,y4=At(()=>{JM=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let a=0,o;for(;a<r;)o=a+t,yield e.slice(a,o),a=o},ZM=async function*(e,t){for await(let r of e_(e))yield*JM(r,t)},e_=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}let t=e.getReader();try{for(;;){let{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},Hb=(e,t,r,a)=>{let o=ZM(e,t),n=0,s,i=c=>{s||(s=!0,a&&a(c))};return new ReadableStream({async pull(c){try{let{done:l,value:d}=await o.next();if(l){i(),c.close();return}let u=d.byteLength;if(r){let g=n+=u;r(g)}c.enqueue(new Uint8Array(d))}catch(l){throw i(l),l}},cancel(c){return i(c),o.return()}},{highWaterMark:2})}});var m0,b4,t_,w4,r_,x4,Vb,f0,a_,o_,k4,N4=At(()=>{el();Hr();Gn();v4();y4();ti();qb();$b();Ob();m0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",b4=m0&&typeof ReadableStream=="function",t_=m0&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),w4=(e,...t)=>{try{return!!e(...t)}catch{return!1}},r_=b4&&w4(()=>{let e=!1,t=new Request(Vr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),x4=64*1024,Vb=b4&&w4(()=>ce.isReadableStream(new Response("").body)),f0={stream:Vb&&(e=>e.body)};m0&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!f0[t]&&(f0[t]=ce.isFunction(e[t])?r=>r[t]():(r,a)=>{throw new Mt(`Response type '${t}' is not supported`,Mt.ERR_NOT_SUPPORT,a)})})})(new Response);a_=async e=>{if(e==null)return 0;if(ce.isBlob(e))return e.size;if(ce.isSpecCompliantForm(e))return(await new Request(Vr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ce.isArrayBufferView(e)||ce.isArrayBuffer(e))return e.byteLength;if(ce.isURLSearchParams(e)&&(e=e+""),ce.isString(e))return(await t_(e)).byteLength},o_=async(e,t)=>{let r=ce.toFiniteNumber(e.getContentLength());return r??a_(t)},k4=m0&&(async e=>{let{url:t,method:r,data:a,signal:o,cancelToken:n,timeout:s,onDownloadProgress:i,onUploadProgress:c,responseType:l,headers:d,withCredentials:u="same-origin",fetchOptions:g}=u0(e);l=l?(l+"").toLowerCase():"text";let h=h4([o,n&&n.toAbortSignal()],s),v,m=h&&h.unsubscribe&&(()=>{h.unsubscribe()}),y;try{if(c&&r_&&r!=="get"&&r!=="head"&&(y=await o_(d,a))!==0){let w=new Request(t,{method:"POST",body:a,duplex:"half"}),N;if(ce.isFormData(a)&&(N=w.headers.get("content-type"))&&d.setContentType(N),w.body){let[I,C]=_b(y,Rd(Bb(c)));a=Hb(w.body,x4,I,C)}}ce.isString(u)||(u=u?"include":"omit");let p="credentials"in Request.prototype;v=new Request(t,{...g,signal:h,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:p?u:void 0});let f=await fetch(v,g),x=Vb&&(l==="stream"||l==="response");if(Vb&&(i||x&&m)){let w={};["status","statusText","headers"].forEach(S=>{w[S]=f[S]});let N=ce.toFiniteNumber(f.headers.get("content-length")),[I,C]=i&&_b(N,Rd(Bb(i),!0))||[];f=new Response(Hb(f.body,x4,I,()=>{C&&C(),m&&m()}),w)}l=l||"text";let b=await f0[ce.findKey(f0,l)||"text"](f,e);return!x&&m&&m(),await new Promise((w,N)=>{pm(w,N,{data:b,headers:xa.from(f.headers),status:f.status,statusText:f.statusText,config:e,request:v})})}catch(p){throw m&&m(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new Mt("Network Error",Mt.ERR_NETWORK,e,v),{cause:p.cause||p}):Mt.from(p,p&&p.code,e,v)}})});var Wb,C4,n_,p0,Gb=At(()=>{Hr();bb();g4();N4();Gn();Wb={http:o0,xhr:p4,fetch:k4};ce.forEach(Wb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});C4=e=>`- ${e}`,n_=e=>ce.isFunction(e)||e===null||e===!1,p0={getAdapter:e=>{e=ce.isArray(e)?e:[e];let{length:t}=e,r,a,o={};for(let n=0;n<t;n++){r=e[n];let s;if(a=r,!n_(r)&&(a=Wb[(s=String(r)).toLowerCase()],a===void 0))throw new Mt(`Unknown adapter '${s}'`);if(a)break;o[s||"#"+n]=a}if(!a){let n=Object.entries(o).map(([i,c])=>`adapter ${i} `+(c===!1?"is not supported by the environment":"is not available in the build")),s=t?n.length>1?`since :
`+n.map(C4).join(`
`):" "+C4(n[0]):"as no adapter specified";throw new Mt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return a},adapters:Wb}});function Kb(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cs(null,e)}function g0(e){return Kb(e),e.headers=xa.from(e.headers),e.data=fm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),p0.getAdapter(e.adapter||Ed.adapter)(e).then(function(a){return Kb(e),a.data=fm.call(e,e.transformResponse,a),a.headers=xa.from(a.headers),a},function(a){return mm(a)||(Kb(e),a&&a.response&&(a.response.data=fm.call(e,e.transformResponse,a.response),a.response.headers=xa.from(a.response.headers))),Promise.reject(a)})}var S4=At(()=>{"use strict";e4();Fb();l0();Id();ti();Gb()});var h0,Qb=At(()=>{h0="1.10.0"});function s_(e,t,r){if(typeof e!="object")throw new Mt("options must be an object",Mt.ERR_BAD_OPTION_VALUE);let a=Object.keys(e),o=a.length;for(;o-- >0;){let n=a[o],s=t[n];if(s){let i=e[n],c=i===void 0||s(i,n,e);if(c!==!0)throw new Mt("option "+n+" must be "+c,Mt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Mt("Unknown option "+n,Mt.ERR_BAD_OPTION)}}var v0,E4,hm,L4=At(()=>{"use strict";Qb();Gn();v0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{v0[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});E4={};v0.transitional=function(t,r,a){function o(n,s){return"[Axios v"+h0+"] Transitional option '"+n+"'"+s+(a?". "+a:"")}return(n,s,i)=>{if(t===!1)throw new Mt(o(s," has been removed"+(r?" in "+r:"")),Mt.ERR_DEPRECATED);return r&&!E4[s]&&(E4[s]=!0,console.warn(o(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(n,s,i):!0}};v0.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};hm={assertOptions:s_,validators:v0}});var Ss,Ad,vm,I4=At(()=>{"use strict";Hr();Nb();jE();S4();d0();zb();L4();ti();Ss=hm.validators,Ad=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Sb,response:new Sb}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;let n=o.stack?o.stack.replace(/^.+\n/,""):"";try{a.stack?n&&!String(a.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+n):a.stack=n}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Kn(this.defaults,r);let{transitional:a,paramsSerializer:o,headers:n}=r;a!==void 0&&hm.assertOptions(a,{silentJSONParsing:Ss.transitional(Ss.boolean),forcedJSONParsing:Ss.transitional(Ss.boolean),clarifyTimeoutError:Ss.transitional(Ss.boolean)},!1),o!=null&&(ce.isFunction(o)?r.paramsSerializer={serialize:o}:hm.assertOptions(o,{encode:Ss.function,serialize:Ss.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),hm.assertOptions(r,{baseUrl:Ss.spelling("baseURL"),withXsrfToken:Ss.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=n&&ce.merge(n.common,n[r.method]);n&&ce.forEach(["delete","get","head","post","put","patch","common"],v=>{delete n[v]}),r.headers=xa.concat(s,n);let i=[],c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,i.unshift(m.fulfilled,m.rejected))});let l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});let d,u=0,g;if(!c){let v=[g0.bind(this),void 0];for(v.unshift.apply(v,i),v.push.apply(v,l),g=v.length,d=Promise.resolve(r);u<g;)d=d.then(v[u++],v[u++]);return d}g=i.length;let h=r;for(u=0;u<g;){let v=i[u++],m=i[u++];try{h=v(h)}catch(y){m.call(this,y);break}}try{d=g0.call(this,h)}catch(v){return Promise.reject(v)}for(u=0,g=l.length;u<g;)d=d.then(l[u++],l[u++]);return d}getUri(t){t=Kn(this.defaults,t);let r=gm(t.baseURL,t.url,t.allowAbsoluteUrls);return dm(r,t.params,t.paramsSerializer)}};ce.forEach(["delete","get","head","options"],function(t){Ad.prototype[t]=function(r,a){return this.request(Kn(a||{},{method:t,url:r,data:(a||{}).data}))}});ce.forEach(["post","put","patch"],function(t){function r(a){return function(n,s,i){return this.request(Kn(i||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:n,data:s}))}}Ad.prototype[t]=r(),Ad.prototype[t+"Form"]=r(!0)});vm=Ad});var Yb,R4,A4=At(()=>{"use strict";Id();Yb=class e{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(n){r=n});let a=this;this.promise.then(o=>{if(!a._listeners)return;let n=a._listeners.length;for(;n-- >0;)a._listeners[n](o);a._listeners=null}),this.promise.then=o=>{let n,s=new Promise(i=>{a.subscribe(i),n=i}).then(o);return s.cancel=function(){a.unsubscribe(n)},s},t(function(n,s,i){a.reason||(a.reason=new Cs(n,s,i),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new e(function(o){t=o}),cancel:t}}},R4=Yb});function Xb(e){return function(r){return e.apply(null,r)}}var P4=At(()=>{"use strict"});function Jb(e){return ce.isObject(e)&&e.isAxiosError===!0}var T4=At(()=>{"use strict";Hr()});var Zb,D4,F4=At(()=>{Zb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zb).forEach(([e,t])=>{Zb[t]=e});D4=Zb});function O4(e){let t=new vm(e),r=sm(vm.prototype.request,t);return ce.extend(r,vm.prototype,t,{allOwnKeys:!0}),ce.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return O4(Kn(e,o))},r}var la,Y,M4=At(()=>{"use strict";Hr();vb();I4();d0();l0();Pb();Id();A4();Fb();Qb();cm();Gn();P4();T4();ti();Gb();F4();la=O4(Ed);la.Axios=vm;la.CanceledError=Cs;la.CancelToken=R4;la.isCancel=mm;la.VERSION=h0;la.toFormData=Zi;la.AxiosError=Mt;la.Cancel=la.CanceledError;la.all=function(t){return Promise.all(t)};la.spread=Xb;la.isAxiosError=Jb;la.mergeConfig=Kn;la.AxiosHeaders=xa;la.formToJSON=e=>i0(ce.isHTMLForm(e)?new FormData(e):e);la.getAdapter=p0.getAdapter;la.HttpStatusCode=D4;la.default=la;Y=la});var aee,oee,nee,see,iee,lee,cee,dee,uee,fee,mee,pee,gee,hee,vee,yee,_4=At(()=>{M4();({Axios:aee,AxiosError:oee,CanceledError:nee,isCancel:see,CancelToken:iee,VERSION:lee,all:cee,Cancel:dee,isAxiosError:uee,spread:fee,toFormData:mee,AxiosHeaders:pee,HttpStatusCode:gee,formToJSON:hee,getAdapter:vee,mergeConfig:yee}=Y)});var t1={};Uv(t1,{acceptReply:()=>B_,actOnModerationReport:()=>iB,addCaption:()=>Z_,addConversationParticipants:()=>H_,addLessonToModule:()=>Mw,addMaterialToLesson:()=>UB,addMessageReaction:()=>cw,addTranslation:()=>X_,adminActOnModerationReport:()=>_q,adminBulkDeleteUsers:()=>zq,adminDeleteUser:()=>Oq,adminDownloadAnalyticsReport:()=>Bq,adminDownloadAuditLogsReport:()=>qq,adminGetAuditLogs:()=>Uq,adminGetBulkOperations:()=>$q,adminGetSystemHealth:()=>jq,adminListModerationReports:()=>Mq,adminListUsers:()=>Tq,adminSetUserDeactivated:()=>Fq,adminUpdateUser:()=>Dq,apiService:()=>vt,bookLessonSlot:()=>jw,bulkDeleteUsers:()=>fB,cancelBooking:()=>Uw,confirmPayment:()=>lq,connectIntegration:()=>f_,connectSlackWorkspace:()=>kq,connectTeamsTeam:()=>Cq,createAnnouncement:()=>b0,createAttendanceRecord:()=>QB,createCalendarEvent:()=>Xw,createChallenge:()=>pB,createConversation:()=>x0,createCourse:()=>kw,createCourseModule:()=>Ow,createForumCategory:()=>y_,createForumReply:()=>D_,createForumThread:()=>N_,createLesson:()=>jB,createLessonQuiz:()=>_w,createPrivacyRequest:()=>fq,createReward:()=>bB,createTodo:()=>Yq,deleteAnnouncement:()=>ww,deleteCalendarEvent:()=>Zw,deleteCourseModule:()=>_B,deleteFile:()=>Ww,deleteForumCategory:()=>b_,deleteForumReply:()=>O_,deleteForumThread:()=>S_,deleteLessonFromModule:()=>qB,deleteMessage:()=>G_,deleteNotification:()=>Qw,deleteTeacherAvailability:()=>Hw,deleteTodo:()=>Jq,deleteUser:()=>nB,deleteUserById:()=>JB,disconnectIntegration:()=>m_,downloadAnalyticsReport:()=>lB,downloadAuditLogsReport:()=>cB,downloadFile:()=>eq,downvoteReply:()=>__,downvoteThread:()=>P_,duplicateCourse:()=>w0,enrollInCourse:()=>AB,exportCourseEngagement:()=>IB,generateComplianceReport:()=>gq,getAnnouncements:()=>xw,getAssignment:()=>Pw,getAssignmentSubmissionSummaries:()=>Sm,getAssignmentsForCourse:()=>Cm,getAuditLogs:()=>uB,getAvailableSlots:()=>Bw,getBulkOperations:()=>mB,getCalendarEvents:()=>Yl,getCaptions:()=>J_,getCertificateDownloadUrl:()=>Im,getCertificates:()=>Lm,getChallenges:()=>gB,getComplianceReport:()=>hq,getConversation:()=>z_,getConversations:()=>pn,getCourseByIdWithLanguage:()=>wm,getCourseDetails:()=>OB,getCoursePerformance:()=>SB,getCoursePreview:()=>Nw,getCourseRecommendations:()=>Aw,getCourseReviews:()=>Sw,getCourses:()=>aa,getDirectMessages:()=>j_,getEarningsReport:()=>Nm,getFileAccessHistory:()=>tq,getFilePreview:()=>ZB,getFiles:()=>ai,getForumCategories:()=>v_,getForumCategoriesForCourse:()=>rq,getForumReplies:()=>T_,getForumRepliesForThread:()=>nq,getForumThread:()=>k_,getForumThreadById:()=>oq,getForumThreads:()=>w_,getForumThreadsForCourse:()=>aq,getFriends:()=>xB,getGlobalAnnouncements:()=>Gl,getIntegrations:()=>u_,getLearningPathRecommendations:()=>EB,getLessonAttendance:()=>GB,getLessonByIdWithLanguage:()=>eB,getLessonsCalendar:()=>$B,getLessonsForCourse:()=>Em,getMaterialByIdWithLanguage:()=>tB,getMaterialsForCourse:()=>zB,getMessages:()=>xm,getMyAssignments:()=>Rw,getMyBookings:()=>qw,getMyCalendarEvents:()=>Yw,getMyCourses:()=>ca,getMyCreatedCourses:()=>PB,getMyCreatedQuizzes:()=>Ql,getMyQuizzes:()=>Kl,getNotifications:()=>N0,getOfflineContent:()=>p_,getOnboardingPlans:()=>xq,getOnboardingStatus:()=>yq,getPaymentHistory:()=>uq,getPaymentStats:()=>pw,getPaymentTrends:()=>vw,getPersonalCalendar:()=>z4,getProgress:()=>oi,getQuiz:()=>DB,getQuizAttemptResults:()=>TB,getQuizForTaking:()=>Dw,getRecentResources:()=>Wq,getRefreshToken:()=>q4,getRevenueDistribution:()=>yw,getStreaks:()=>kB,getStudents:()=>Qn,getStudyGroups:()=>mw,getSystemHealth:()=>dB,getTeacherAvailability:()=>zw,getTeacherCourses:()=>Iw,getTeacherStats:()=>e1,getTeachers:()=>km,getTodos:()=>Qq,getTopEarningCourses:()=>gw,getTopEarningTutors:()=>hw,getTopicTime:()=>LB,getTranslations:()=>Y_,getUnreadNotificationCount:()=>Pd,getUserAnnouncements:()=>bw,getUserById:()=>YB,getUserEngagement:()=>CB,getUserOnlineStatus:()=>VB,getUserPreferences:()=>uw,getUserProgress:()=>Vq,getUserProgressCourses:()=>C0,getUsers:()=>Vw,getWebSocketToken:()=>ow,handleOAuthCallback:()=>aw,handleSlackWebhook:()=>Nq,handleTeamsWebhook:()=>Sq,handleWhatsAppWebhook:()=>Pq,initiateGoogleLogin:()=>l_,initiateLinkedInLogin:()=>c_,joinCalendarEvent:()=>Hq,listModerationReports:()=>sB,listPrivacyRequests:()=>pq,listUsers:()=>rB,lockForumThread:()=>I_,mapChannels:()=>Eq,mapUsers:()=>Lq,markAllNotificationsAsRead:()=>Kw,markAttendance:()=>WB,markConversationAsRead:()=>Wl,markMessageAsRead:()=>Q_,markNotificationAsRead:()=>Gw,markStudentAttendance:()=>KB,payoutApi:()=>RB,pinForumThread:()=>E_,prepareOfflineContent:()=>g_,processCorporateBilling:()=>dq,processPrivacyRequest:()=>mq,purchaseCourse:()=>sq,purchaseLesson:()=>iq,redeemReward:()=>wB,refreshAuthToken:()=>U4,removeConversationParticipant:()=>V_,removeMessageReaction:()=>dw,saveTeacherAvailability:()=>$w,searchForumThreads:()=>q_,searchMessages:()=>K_,sendAdminNotification:()=>nw,sendAdminNotificationToAll:()=>sw,sendBulkMessageToStudents:()=>Cw,sendDirectMessage:()=>U_,sendFriendRequest:()=>vB,sendMessage:()=>ym,sendPromotionalEmail:()=>iw,sendPromotionalEmailToAll:()=>lw,sendWhatsAppMessage:()=>Aq,setAuthToken:()=>ri,setRefreshToken:()=>mn,setUserDeactivated:()=>oB,setupCorporateBilling:()=>cq,setupWhatsAppIntegration:()=>Rq,shareResourceInLesson:()=>Gq,startOnboarding:()=>vq,submitAssignment:()=>Tw,submitQuizAnswers:()=>Fw,submitQuizAttempt:()=>FB,syncMessages:()=>Iq,syncOfflineData:()=>h_,unlockForumThread:()=>R_,unpinForumThread:()=>L_,updateCalendarEvent:()=>Jw,updateChallengeProgress:()=>hB,updateConversation:()=>$_,updateCourseModule:()=>MB,updateForumCategory:()=>x_,updateForumReply:()=>F_,updateForumThread:()=>C_,updateFriendStatus:()=>yB,updateLessonInModule:()=>BB,updateLessonOrder:()=>Lw,updateMessage:()=>W_,updateModuleOrder:()=>Ew,updateOnlineStatus:()=>HB,updateStreak:()=>NB,updateTodo:()=>Xq,updateUser:()=>aB,updateUserById:()=>XB,updateUserPreferences:()=>fw,uploadAndShareFile:()=>Kq,uploadFile:()=>k0,uploadMessageFile:()=>bm,upvoteReply:()=>M_,upvoteThread:()=>A_,validateDomain:()=>bq,validateSubdomain:()=>wq});function l_(){let e=j4();if(!e)throw new Error("Google OAuth Client ID is not configured. Please set REACT_APP_GOOGLE_CLIENT_ID environment variable.");sessionStorage.setItem("oauth_provider","google");let t=`${window.location.origin}/auth/google/callback`,r=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);sessionStorage.setItem("oauth_state",r),sessionStorage.setItem("oauth_redirect_uri",t);let a=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${e}&redirect_uri=${encodeURIComponent(t)}&response_type=code&scope=email profile&state=${r}`;window.location.href=a}function c_(){sessionStorage.setItem("oauth_provider","linkedin");let e=`${window.location.origin}/oauth/callback`,t=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);sessionStorage.setItem("oauth_state",t),window.location.href=`${Z}/auth/oauth/linkedin?redirect_uri=${encodeURIComponent(e)}&state=${t}`}async function d_(e){let t=sessionStorage.getItem("oauth_redirect_uri")||`${window.location.origin}/auth/google/callback`,r=j4(),a=i_();if(!r||!a)throw new Error("Google OAuth credentials are not configured. Please set REACT_APP_GOOGLE_CLIENT_ID and REACT_APP_GOOGLE_CLIENT_SECRET environment variables.");let o=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({code:e,client_id:r,client_secret:a,redirect_uri:t,grant_type:"authorization_code"})});if(!o.ok){let s=await o.json().catch(()=>({}));throw new Error(s.error_description||s.error||"Failed to exchange code for access token")}return(await o.json()).access_token}async function aw(e,t,r){if(e==="google")try{let a=await d_(t),n=(await Y.post(`${Z}/auth/oauth/google`,{accessToken:a},{withCredentials:!0})).data;return n.refreshToken&&mn(n.refreshToken),{user:n.user,token:n.token,refreshToken:n.refreshToken}}catch(a){throw console.error("Google OAuth error:",a),new Error(a.message||"Failed to complete Google OAuth login")}else{let o=(await Y.post(`${Z}/auth/oauth/${e}/callback`,{code:t,state:r},{withCredentials:!0})).data;return o.refreshToken&&mn(o.refreshToken),{user:o.user,token:o.token,refreshToken:o.refreshToken}}}async function U4(){let e=q4();if(!e)throw new Error("No refresh token available");try{let r=(await Y.post(`${Z}/users/auth/refresh-token`,{refreshToken:e},{withCredentials:!0})).data;return r.refreshToken&&mn(r.refreshToken),{token:r.token,refreshToken:r.refreshToken}}catch(t){throw mn(null),ri(null),localStorage.removeItem("token"),localStorage.removeItem("user"),t}}async function u_(){return(await Y.get(`${Z}/integrations`)).data}async function f_(e,t){return(await Y.post(`${Z}/integrations/${e}/connect`,t)).data}async function m_(e){await Y.delete(`${Z}/integrations/${e}`)}async function ow(){return(await Y.get(`${Z}/websocket/token`)).data}async function p_(){return(await Y.get(`${Z}/offline/content`)).data}async function g_(e){return(await Y.post(`${Z}/offline/content/${e}`)).data}async function h_(e){return(await Y.post(`${Z}/offline/sync`,e||{},{withCredentials:!0})).data}async function nw(e){return(await Y.post(`${Z}/admin/notifications/send`,e,{withCredentials:!0})).data}async function sw(e){return(await Y.post(`${Z}/admin/notifications/send-all`,e,{withCredentials:!0})).data}async function iw(e){return(await Y.post(`${Z}/admin/promotional-email/send`,e,{withCredentials:!0})).data}async function lw(e){return(await Y.post(`${Z}/admin/promotional-email/send-all`,e,{withCredentials:!0})).data}async function v_(e){return(await Y.get(`${Z}/forum/categories?courseId=${e}`)).data}async function y_(e){return(await Y.post(`${Z}/forum/categories`,e)).data}async function x_(e,t){return(await Y.put(`${Z}/forum/categories/${e}`,t)).data}async function b_(e){await Y.delete(`${Z}/forum/categories/${e}`)}async function w_(e){return(await Y.get(`${Z}/forum/threads?courseId=${e}`)).data}async function k_(e){return(await Y.get(`${Z}/forum/threads/${e}`)).data}async function N_(e){return(await Y.post(`${Z}/forum/threads`,e)).data}async function C_(e,t){return(await Y.put(`${Z}/forum/threads/${e}`,t)).data}async function S_(e){await Y.delete(`${Z}/forum/threads/${e}`)}async function E_(e){return(await Y.post(`${Z}/forum/threads/${e}/pin`)).data}async function L_(e){return(await Y.post(`${Z}/forum/threads/${e}/unpin`)).data}async function I_(e){return(await Y.post(`${Z}/forum/threads/${e}/lock`)).data}async function R_(e){return(await Y.post(`${Z}/forum/threads/${e}/unlock`)).data}async function A_(e){return(await Y.post(`${Z}/forum/threads/${e}/upvote`)).data}async function P_(e){return(await Y.post(`${Z}/forum/threads/${e}/downvote`)).data}async function T_(e){return(await Y.get(`${Z}/forum/threads/${e}/replies`)).data}async function D_(e){return(await Y.post(`${Z}/forum/replies`,e)).data}async function F_(e,t){return(await Y.put(`${Z}/forum/replies/${e}`,t)).data}async function O_(e){await Y.delete(`${Z}/forum/replies/${e}`)}async function M_(e){return(await Y.post(`${Z}/forum/replies/${e}/upvote`)).data}async function __(e){return(await Y.post(`${Z}/forum/replies/${e}/downvote`)).data}async function B_(e){return(await Y.post(`${Z}/forum/replies/${e}/accept`)).data}async function q_(e,t){return(await Y.get(`${Z}/forum/search?courseId=${e}&q=${encodeURIComponent(t)}`)).data}async function j_(){return(await Y.get(`${Z}/messages`,{withCredentials:!0})).data}async function U_(e,t){return(await Y.post(`${Z}/messages`,{receiverId:e,content:t},{withCredentials:!0})).data}async function x0(e){return(await Y.post(`${Ga}/conversations`,e)).data.data}async function pn(e){let t=new URLSearchParams;return e?.type&&t.append("type",e.type),e?.search&&t.append("search",e.search),e?.limit&&t.append("limit",e.limit.toString()),e?.offset&&t.append("offset",e.offset.toString()),(await Y.get(`${Ga}/conversations?${t.toString()}`)).data}async function z_(e){return(await Y.get(`${Ga}/conversations/${e}`)).data.data}async function $_(e,t){return(await Y.put(`${Ga}/conversations/${e}`,t)).data.data}async function H_(e,t){return(await Y.post(`${Ga}/conversations/${e}/participants`,{participantIds:t})).data.data}async function V_(e,t){await Y.delete(`${Ga}/conversations/${e}/participants/${t}`)}async function Wl(e){await Y.post(`${Ga}/conversations/${e}/read`)}async function ym(e){return(await Y.post(`${Ga}/messages`,e)).data.data}async function xm(e,t){let r=new URLSearchParams;return t?.limit&&r.append("limit",t.limit.toString()),t?.offset&&r.append("offset",t.offset.toString()),t?.before&&r.append("before",t.before),t?.after&&r.append("after",t.after),(await Y.get(`${Ga}/conversations/${e}/messages?${r.toString()}`)).data}async function W_(e,t){return(await Y.put(`${Ga}/messages/${e}`,t)).data.data}async function G_(e){await Y.delete(`${Ga}/messages/${e}`)}async function K_(e){let t=new URLSearchParams;return t.append("query",e.query),e.conversationId&&t.append("conversationId",e.conversationId),e.limit&&t.append("limit",e.limit.toString()),e.offset&&t.append("offset",e.offset.toString()),(await Y.get(`${Ga}/messages/search?${t.toString()}`)).data}async function cw(e,t){return(await Y.post(`${Ga}/messages/${e}/reactions`,{emoji:t})).data.data}async function dw(e,t){await Y.delete(`${Ga}/messages/${e}/reactions`,{data:{emoji:t}})}async function Q_(e){return(await Y.post(`${Ga}/messages/${e}/read`)).data.data}async function bm(e){return(await Y.post(`${Ga}/upload`,e)).data.data}async function uw(){return(await Y.get(`${Z}/preferences`,{withCredentials:!0})).data}async function fw(e){return(await Y.put(`${Z}/preferences`,e,{withCredentials:!0})).data}async function Y_(e){let t=new URLSearchParams;return e.courseId&&t.append("courseId",e.courseId.toString()),e.lessonId&&t.append("lessonId",e.lessonId.toString()),e.materialId&&t.append("materialId",e.materialId.toString()),e.language&&t.append("language",e.language),(await Y.get(`${Z}/translations?${t.toString()}`,{withCredentials:!0})).data}async function X_(e){return(await Y.post(`${Z}/translations`,e,{withCredentials:!0})).data}async function J_(e){let t=new URLSearchParams;return e.lessonId&&t.append("lessonId",e.lessonId.toString()),e.materialId&&t.append("materialId",e.materialId.toString()),e.language&&t.append("language",e.language),(await Y.get(`${Z}/captions?${t.toString()}`,{withCredentials:!0})).data}async function Z_(e){return(await Y.post(`${Z}/captions`,e,{withCredentials:!0})).data}async function wm(e,t){let r=t?`?language=${encodeURIComponent(t)}`:"";return(await Y.get(`${Z}/course/${e}${r}`,{withCredentials:!0})).data}async function eB(e,t){let r=t?`?language=${encodeURIComponent(t)}`:"";return(await Y.get(`${Z}/lesson/${e}${r}`,{withCredentials:!0})).data}async function tB(e,t){let r=t?`?language=${encodeURIComponent(t)}`:"";return(await Y.get(`${Z}/material/${e}${r}`,{withCredentials:!0})).data}async function rB(){return(await Y.get(`${Z}/users`,{withCredentials:!0})).data}async function aB(e,t){return(await Y.put(`${Z}/users/${e}`,t,{withCredentials:!0})).data}async function oB(e,t){return(await Y.patch(`${Z}/users/${e}/deactivate`,{deactivate:t},{withCredentials:!0})).data}async function nB(e){return(await Y.delete(`${Z}/users/${e}`,{withCredentials:!0})).data}async function sB(){return(await Y.get(`${Z}/moderation/reports`,{withCredentials:!0})).data}async function iB(e,t,r){return(await Y.post(`${Z}/moderation/reports/${e}/action`,{action:t,resolution:r},{withCredentials:!0})).data}async function lB(){return(await Y.get(`${Z}/reports/analytics`,{withCredentials:!0,headers:{Accept:"text/csv"},responseType:"text"})).data}async function cB(){return(await Y.get(`${Z}/reports/audit-logs`,{withCredentials:!0,headers:{Accept:"text/csv"},responseType:"text"})).data}async function dB(){return(await Y.get(`${Z}/system/health`,{withCredentials:!0})).data}async function uB(e){let t=new URLSearchParams;return e.userId&&t.append("userId",e.userId.toString()),e.action&&t.append("action",e.action),e.targetType&&t.append("targetType",e.targetType),e.from&&t.append("from",e.from),e.to&&t.append("to",e.to),(await Y.get(`${Z}/audit-logs?${t.toString()}`,{withCredentials:!0})).data}async function fB(e){return(await Y.post(`${Z}/bulk/users/delete`,{userIds:e},{withCredentials:!0})).data}async function mB(){return(await Y.get(`${Z}/bulk/operations`,{withCredentials:!0})).data}async function pB(e){return(await Y.post(`${Z}/challenges`,e,{withCredentials:!0})).data}async function gB(e){let t=e?`?type=${encodeURIComponent(e)}`:"";return(await Y.get(`${Z}/challenges${t}`,{withCredentials:!0})).data}async function hB(e,t){return(await Y.post(`${Z}/challenges/${e}/progress`,{progress:t},{withCredentials:!0})).data}async function vB(e){return(await Y.post(`${Z}/friends`,{friendId:e},{withCredentials:!0})).data}async function yB(e,t){return(await Y.put(`${Z}/friends/${e}`,{status:t},{withCredentials:!0})).data}async function xB(){return(await Y.get(`${Z}/friends`,{withCredentials:!0})).data}async function mw(e){let t=e?`${Z}/study-groups?courseId=${e}`:`${Z}/study-groups`;return(await Y.get(t,{withCredentials:!0})).data}async function km(e){let t=e?`${Z}/users?role=TEACHER&courseId=${e}`:`${Z}/users?role=TEACHER`;return(await Y.get(t,{withCredentials:!0})).data}async function Qn(e){let t=e?`${Z}/users?role=STUDENT&courseId=${e}`:`${Z}/users?role=STUDENT`;return(await Y.get(t,{withCredentials:!0})).data}async function bB(e){return(await Y.post(`${Z}/rewards`,e,{withCredentials:!0})).data}async function wB(e){return(await Y.post(`${Z}/rewards/${e}/redeem`,{},{withCredentials:!0})).data}async function kB(){return(await Y.get(`${Z}/streaks`,{withCredentials:!0})).data}async function NB(e){return(await Y.post(`${Z}/streaks/update`,{type:e},{withCredentials:!0})).data}async function CB(e){return(await Y.get(`${Z}/analytics/engagement/${e}`,{withCredentials:!0})).data}async function SB(e){return(await Y.get(`${Z}/analytics/courses/${e}/performance`,{withCredentials:!0})).data}async function EB(e){return(await Y.get(`${Z}/analytics/learning-paths/recommendations/${e}`,{withCredentials:!0})).data}async function LB(e){return(await Y.get(`${Z}/analytics/topic-time/${e}`,{withCredentials:!0})).data}async function IB(e){return(await Y.get(`${Z}/analytics/courses/${e}/export`,{withCredentials:!0,headers:{Accept:"text/csv"},responseType:"text"})).data}async function pw(e="month"){return(await Y.get(`${Z}/analytics/payments/stats?timeframe=${encodeURIComponent(e)}`,{withCredentials:!0})).data}async function gw(e=10,t="month"){return(await Y.get(`${Z}/analytics/courses/top-earning?limit=${e}&timeframe=${encodeURIComponent(t)}`,{withCredentials:!0})).data}async function hw(e=10,t="month"){return(await Y.get(`${Z}/analytics/tutors/top-earning?limit=${e}&timeframe=${encodeURIComponent(t)}`,{withCredentials:!0})).data}async function vw(e="month",t="day"){return(await Y.get(`${Z}/analytics/payments/trends?timeframe=${encodeURIComponent(e)}&interval=${encodeURIComponent(t)}`,{withCredentials:!0})).data}async function yw(e="month"){return(await Y.get(`${Z}/analytics/revenue/distribution?timeframe=${encodeURIComponent(e)}`,{withCredentials:!0})).data}async function Nm(e){return(await Y.get(`${Z}/users/${e}/earnings-report`,{withCredentials:!0})).data}async function xw(e){return(await Y.get(`${Z}/courses/${e}/announcements`,{withCredentials:!0})).data}async function Gl(){return(await Y.get(`${Z}/announcements?scope=global`,{withCredentials:!0})).data}async function bw(e){return(await Y.get(`${Z}/users/${e}/announcements`,{withCredentials:!0})).data}async function b0(e,t,r){return(await Y.post(`${Z}/courses/${e}/announcements`,{title:t,content:r},{withCredentials:!0})).data}async function ww(e,t){return(await Y.delete(`${Z}/courses/${e}/announcements/${t}`,{withCredentials:!0})).data}async function kw(e){let t=localStorage.getItem("token");if(!t){let a=new Error("No authentication token found. Please log in again.");throw a.response={status:401},a}let r={withCredentials:!0,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}};console.log("Creating course API call:",{url:`${Z}/courses/course`,hasToken:!!t,tokenPreview:t.substring(0,20)+"...",payload:e});try{return(await Y.post(`${Z}/courses/course`,e,r)).data}catch(a){throw console.error("createCourse API error:",{status:a?.response?.status,statusText:a?.response?.statusText,data:a?.response?.data,message:a?.message,url:`${Z}/courses/course`}),a}}async function w0(e){return(await Y.post(`${Z}/courses/${e}/duplicate`,{},{withCredentials:!0})).data}async function Nw(e){return(await Y.get(`${Z}/courses/${e}/preview`,{withCredentials:!0})).data}async function Cw(e,t){return(await Y.post(`${Z}/courses/${e}/bulk-message`,t,{withCredentials:!0})).data}async function Sw(e,t){let r=new URLSearchParams;t?.page&&r.append("page",t.page.toString()),t?.limit&&r.append("limit",t.limit.toString()),t?.rating&&r.append("rating",t.rating.toString());let a=`${Z}/courses/${e}/reviews${r.toString()?`?${r.toString()}`:""}`;return(await Y.get(a,{withCredentials:!0})).data}async function Ew(e,t){return(await Y.put(`${Z}/courses/${e}/modules/reorder`,{moduleIds:t},{withCredentials:!0})).data}async function Lw(e,t,r){return(await Y.put(`${Z}/courses/${e}/modules/${t}/lessons/reorder`,{lessonIds:r},{withCredentials:!0})).data}async function aa(e){let t=new URLSearchParams;e?.page&&t.append("page",e.page.toString()),e?.limit&&t.append("limit",e.limit.toString());let r=`${Z}/courses/${t.toString()?`?${t.toString()}`:""}`;return(await Y.get(r,{withCredentials:!0})).data}async function Iw(e){return(await aa()).filter(r=>r.instructorId===e||r.createdBy===e||r.teacherId===e)}async function AB(e){return(await Y.post(`${Z}/courses/${e}/enroll`,{},{withCredentials:!0})).data}async function ca(){return(await Y.get(`${Z}/courses/my-courses`,{withCredentials:!0})).data}async function Rw(){return(await Y.get(`${Z}/assignments/my-assignments`,{withCredentials:!0})).data}async function PB(){return(await Y.get(`${Z}/courses/my-created-courses`,{withCredentials:!0})).data}async function Aw(e,t=10){let r=new URLSearchParams;return r.append("limit",t.toString()),(await Y.get(`${Z}/users/${e}/recommendations/courses?${r.toString()}`,{withCredentials:!0})).data}async function Cm(e){return(await Y.get(`${Z}/assignments/course/${e}`,{withCredentials:!0})).data}async function Pw(e){return(await Y.get(`${Z}/assignments/${e}`,{withCredentials:!0})).data}async function Tw(e,t){return(await Y.post(`${Z}/assignments/${e}/submit`,t,{withCredentials:!0})).data}async function Kl(){return(await Y.get(`${Z}/quizzes/my-quizzes`,{withCredentials:!0})).data}async function Ql(){return(await Y.get(`${Z}/quizzes/my-created-quizzes`,{withCredentials:!0})).data}async function Dw(e){return(await Y.get(`${Z}/quizzes/${e}/take`,{withCredentials:!0})).data}async function Fw(e,t){return(await Y.post(`${Z}/quizzes/${e}/submit`,{answers:t},{withCredentials:!0})).data}async function TB(e,t){return(await Y.get(`${Z}/quizzes/${e}/attempts/${t}`,{withCredentials:!0})).data}async function DB(e){return(await Y.get(`${Z}/quizzes/${e}`,{withCredentials:!0})).data}async function FB(e,t){return(await Y.post(`${Z}/quizzes/${e}/submit`,{answers:t},{withCredentials:!0})).data}async function Sm(e){let t=new URLSearchParams;e?.courseId&&t.append("courseId",e.courseId),e?.status&&t.append("status",e.status),e?.page&&t.append("page",e.page.toString()),e?.limit&&t.append("limit",e.limit.toString()),e?.sortBy&&t.append("sortBy",e.sortBy),e?.sortOrder&&t.append("sortOrder",e.sortOrder),e?.assignmentId&&t.append("assignmentId",e.assignmentId);let r=`${Z}/assignments/submissions/summaries${t.toString()?`?${t.toString()}`:""}`;return(await Y.get(r,{withCredentials:!0})).data}async function OB(e){return(await Y.get(`${Z}/courses/${e}`,{withCredentials:!0})).data}async function Ow(e,t){return(await Y.post(`${Z}/courses/${e}/modules`,t,{withCredentials:!0})).data}async function MB(e,t,r){return(await Y.put(`${Z}/courses/${e}/modules/${t}`,r,{withCredentials:!0})).data}async function _B(e,t){await Y.delete(`${Z}/courses/${e}/modules/${t}`,{withCredentials:!0})}async function Mw(e,t,r){return(await Y.post(`${Z}/courses/${e}/modules/${t}/lessons`,r,{withCredentials:!0})).data}async function BB(e,t,r,a){return(await Y.put(`${Z}/courses/${e}/modules/${t}/lessons/${r}`,a,{withCredentials:!0})).data}async function qB(e,t,r){await Y.delete(`${Z}/courses/${e}/modules/${t}/lessons/${r}`,{withCredentials:!0})}async function _w(e,t,r){return(await Y.post(`${Z}/courses/${e}/lessons/${t}/quiz`,r,{withCredentials:!0})).data}async function jB(e){return(await Y.post(`${Z}/lessons`,e,{withCredentials:!0})).data}async function Em(e){return(await Y.get(`${Z}/lessons/course/${e}`,{withCredentials:!0})).data}async function UB(e,t){return(await Y.post(`${Z}/lessons/${e}/materials`,t,{withCredentials:!0})).data}async function zB(e){return(await Y.get(`${Z}/lessons/course/${e}/materials`,{withCredentials:!0})).data}async function $B(e){return(await Y.get(`${Z}/lessons/course/${e}/calendar`,{withCredentials:!0,responseType:"text"})).data}async function HB(){return(await Y.post(`${Z}/lessons/online`,{},{withCredentials:!0})).data}async function VB(e){return(await Y.get(`${Z}/lessons/online/${e}`,{withCredentials:!0})).data}async function WB(e,t){return(await Y.post(`${Z}/lessons/${e}/attendance`,{action:t},{withCredentials:!0})).data}async function GB(e){return(await Y.get(`${Z}/lessons/${e}/attendance`,{withCredentials:!0})).data}async function KB(e,t,r){return(await Y.post(`${Z}/lessons/${e}/attendance/${t}/mark`,{status:r},{withCredentials:!0})).data}async function QB(e,t){return(await Y.post(`${Z}/lessons/${e}/attendance`,{records:t},{withCredentials:!0})).data}async function Bw(e){let t=new URLSearchParams;e.date&&t.append("date",e.date),e.subject&&e.subject!=="all"&&t.append("subject",e.subject),e.teacherId&&e.teacherId!=="all"&&t.append("teacherId",e.teacherId);let r=`${Z}/lesson-slots${t.toString()?`?${t.toString()}`:""}`;return(await Y.get(r,{withCredentials:!0})).data}async function qw(e){return(await Y.get(`${Z}/users/${e}/bookings`,{withCredentials:!0})).data}async function jw(e,t){return(await Y.post(`${Z}/lesson-slots/${e}/bookings`,{userId:t},{withCredentials:!0})).data}async function Uw(e){await Y.delete(`${Z}/bookings/${e}`,{withCredentials:!0})}async function zw(e){return(await Y.get(`${Z}/teachers/${e}/availability`,{withCredentials:!0})).data}async function $w(e,t){return(await Y.post(`${Z}/teachers/${e}/availability`,t,{withCredentials:!0})).data}async function Hw(e,t){await Y.delete(`${Z}/teachers/${e}/availability/${t}`,{withCredentials:!0})}async function Vw(){return(await Y.get(`${Z}/users`,{withCredentials:!0})).data}async function YB(e){return(await Y.get(`${Z}/users/${e}`,{withCredentials:!0})).data}async function XB(e,t){return(await Y.put(`${Z}/users/${e}`,t,{withCredentials:!0})).data}async function JB(e){return(await Y.delete(`${Z}/users/${e}`,{withCredentials:!0})).data}async function ai(e){let t=new URLSearchParams;return e?.courseId&&t.append("courseId",e.courseId),e?.userId&&t.append("userId",e.userId),e?.shared&&t.append("shared","true"),(await Y.get(`${Z}/files?${t.toString()}`,{withCredentials:!0})).data}async function Ww(e){await Y.delete(`${Z}/files/${e}`,{withCredentials:!0})}async function k0(e){return(await Y.post(`${Z}/files/upload`,e,{withCredentials:!0})).data}async function ZB(e){return(await Y.get(`${Z}/files/${e}/preview`,{withCredentials:!0})).data}async function eq(e){return(await Y.get(`${Z}/files/${e}/download`,{withCredentials:!0})).data}async function tq(e){return(await Y.get(`${Z}/files/${e}/access`,{withCredentials:!0})).data}async function rq(e){return(await Y.get(`${Z}/forum/categories/${e}`,{withCredentials:!0})).data}async function aq(e){return(await Y.get(`${Z}/forum/threads/${e}`,{withCredentials:!0})).data}async function oq(e){return(await Y.get(`${Z}/forum/thread/${e}`,{withCredentials:!0})).data}async function nq(e){return(await Y.get(`${Z}/forum/replies/${e}`,{withCredentials:!0})).data}async function sq(e,t){return(await Y.post(`${Z}/payments/courses/${e}`,{paymentMethod:t},{withCredentials:!0})).data}async function iq(e,t,r){return(await Y.post(`${Z}/payments/lessons/${e}`,{paymentMethod:t,paymentType:r},{withCredentials:!0})).data}async function lq(e){return(await Y.post(`${Z}/payments/confirm`,{pollurl:e},{withCredentials:!0})).data}async function cq(e,t,r){return(await Y.post(`${Z}/payments/corporate/setup`,{baseCharge:e,perUserCharge:t,billingCycle:r},{withCredentials:!0})).data}async function dq(e,t){return(await Y.post(`${Z}/payments/corporate/process-billing`,{month:e,year:t},{withCredentials:!0})).data}async function uq(e){let t=new URLSearchParams;e.type&&t.append("type",e.type),e.status&&t.append("status",e.status),e.startDate&&e.endDate&&(t.append("startDate",e.startDate),t.append("endDate",e.endDate));let r=`${Z}/payments/history${t.toString()?`?${t.toString()}`:""}`;return(await Y.get(r,{withCredentials:!0})).data}async function N0(){return(await Y.get(`${Z}/notifications`,{withCredentials:!0})).data}async function Gw(e){return(await Y.post(`${Z}/notifications/${e}/read`,{},{withCredentials:!0})).data}async function Kw(){return(await Y.post(`${Z}/notifications/read-all`,{},{withCredentials:!0})).data}async function Qw(e){return(await Y.delete(`${Z}/notifications/${e}`,{withCredentials:!0})).data}async function Pd(){return(await Y.get(`${Z}/notifications/unread/count`,{withCredentials:!0})).data}async function fq(e,t){return(await Y.post(`${Z}/compliance/privacy-request`,{requestType:e,description:t},{withCredentials:!0})).data}async function mq(e,t,r){return(await Y.post(`${Z}/compliance/privacy-request/${e}/process`,{action:t,details:r},{withCredentials:!0})).data}async function pq(){return(await Y.get(`${Z}/compliance/privacy-request`,{withCredentials:!0})).data}async function gq(e,t,r){return(await Y.post(`${Z}/compliance/report`,{reportType:e,tenantId:t,options:r},{withCredentials:!0})).data}async function hq(e){return(await Y.get(`${Z}/compliance/report/${e}`,{withCredentials:!0})).data}async function vq(e){return(await Y.post(`${Z}/onboarding/start`,e)).data}async function yq(e){return(await Y.get(`${Z}/onboarding/status/${e}`)).data}async function xq(){return(await Y.get(`${Z}/onboarding/plans`)).data}async function bq(e){return(await Y.post(`${Z}/onboarding/validate-domain`,{domain:e})).data}async function wq(e){return(await Y.post(`${Z}/onboarding/validate-subdomain`,{subdomain:e})).data}async function kq(e){return(await Y.post(`${Z}/integrations/slack/connect`,{code:e})).data}async function Nq(e){return(await Y.post(`${Z}/integrations/slack/webhook`,e)).data}async function Cq(e){return(await Y.post(`${Z}/integrations/teams/connect`,{accessToken:e})).data}async function Sq(e){return(await Y.post(`${Z}/integrations/teams/webhook`,e)).data}async function Eq(e,t){return(await Y.post(`${Z}/integrations/channels/map`,{integrationId:e,channelMappings:t})).data}async function Lq(e,t){return(await Y.post(`${Z}/integrations/users/map`,{integrationId:e,userMappings:t})).data}async function Iq(e){return(await Y.post(`${Z}/integrations/sync`,{integrationId:e})).data}async function Rq(e,t){return(await Y.post(`${Z}/integrations/whatsapp/setup`,{phoneNumberId:e,accessToken:t})).data}async function Aq(e,t,r){return(await Y.post(`${Z}/integrations/whatsapp/send`,{integrationId:e,to:t,message:r})).data}async function Pq(e){return(await Y.post(`${Z}/integrations/whatsapp/webhook`,e)).data}async function Tq(){return(await Y.get(`${Z}/admin/users`,{withCredentials:!0})).data}async function Dq(e,t){return(await Y.put(`${Z}/admin/users/${e}`,t,{withCredentials:!0})).data}async function Fq(e,t){return(await Y.patch(`${Z}/admin/users/${e}/deactivate`,{deactivate:t},{withCredentials:!0})).data}async function Oq(e){return(await Y.delete(`${Z}/admin/users/${e}`,{withCredentials:!0})).data}async function Mq(){return(await Y.get(`${Z}/admin/moderation/reports`,{withCredentials:!0})).data}async function _q(e,t,r){return(await Y.post(`${Z}/admin/moderation/reports/${e}/action`,{action:t,resolution:r},{withCredentials:!0})).data}async function Bq(){return(await Y.get(`${Z}/admin/reports/analytics`,{withCredentials:!0,headers:{Accept:"text/csv"},responseType:"text"})).data}async function qq(){return(await Y.get(`${Z}/admin/reports/audit-logs`,{withCredentials:!0,headers:{Accept:"text/csv"},responseType:"text"})).data}async function jq(){return(await Y.get(`${Z}/admin/system/health`,{withCredentials:!0})).data}async function Uq(e){let t=new URLSearchParams;return e.userId&&t.append("userId",e.userId.toString()),e.action&&t.append("action",e.action),e.targetType&&t.append("targetType",e.targetType),e.from&&t.append("from",e.from),e.to&&t.append("to",e.to),(await Y.get(`${Z}/admin/audit-logs?${t.toString()}`,{withCredentials:!0})).data}async function zq(e){return(await Y.post(`${Z}/admin/bulk/users/delete`,{userIds:e},{withCredentials:!0})).data}async function $q(){return(await Y.get(`${Z}/admin/bulk/operations`,{withCredentials:!0})).data}async function Yl(e){let t=new URLSearchParams;e?.startDate&&t.append("startDate",e.startDate),e?.endDate&&t.append("endDate",e.endDate),e?.courseId&&t.append("courseId",e.courseId),e?.type&&t.append("type",e.type),e?.includeAllDay!==void 0&&t.append("includeAllDay",e.includeAllDay?"true":"false");let r=localStorage.getItem("token"),a={withCredentials:!0};r&&(a.headers={Authorization:`Bearer ${r}`});let o=`${Z}/calendar/events${t.toString()?`?${t.toString()}`:""}`;return(await Y.get(o,a)).data.data||[]}async function z4(e){let t=new URLSearchParams;e?.startDate&&t.append("startDate",e.startDate),e?.endDate&&t.append("endDate",e.endDate);let r=`${Z}/calendar/personal${t.toString()?`?${t.toString()}`:""}`;return(await Y.get(r)).data.data}async function Yw(e){return z4(e).then(t=>t.events)}async function Hq(e){return(await Y.post(`${Z}/calendar/events/${e}/join`,{},{withCredentials:!0})).data}async function Xw(e){let t=localStorage.getItem("token"),r={withCredentials:!0};return t&&(r.headers={Authorization:`Bearer ${t}`}),(await Y.post(`${Z}/calendar/events`,e,r)).data}async function Jw(e,t){let r=localStorage.getItem("token"),a={withCredentials:!0};return r&&(a.headers={Authorization:`Bearer ${r}`}),(await Y.put(`${Z}/calendar/events/${e}`,t,a)).data}async function Zw(e){let t=localStorage.getItem("token"),r={withCredentials:!0};return t&&(r.headers={Authorization:`Bearer ${t}`}),(await Y.delete(`${Z}/calendar/events/${e}`,r)).data}async function oi(e){try{return(await Y.get(`${Z}/progress/${e}`,{withCredentials:!0})).data}catch{return null}}async function Vq(e){return(await Y.get(`${Z}/users/${e}/progress`,{withCredentials:!0})).data}async function C0(e,t){let r=new URLSearchParams;t&&r.append("status",t);let a=`${Z}/users/${e}/progress/courses${r.toString()?`?${r.toString()}`:""}`;return(await Y.get(a,{withCredentials:!0})).data}async function Lm(){try{return(await Y.get(`${Z}/certificates`,{withCredentials:!0})).data}catch{return[]}}function Im(e,t){return`${Z}/courses/${e}/certificates/${t}/download`}async function Wq(e){return(await Y.get(`${Z}/users/${e}/resources/recent`,{withCredentials:!0})).data}async function Gq(e,t){return(await Y.post(`${Z}/lessons/${e}/resources`,t,{withCredentials:!0})).data}async function Kq(e,t){let r=new FormData;return r.append("file",t),(await Y.post(`${Z}/lessons/${e}/resources/upload`,r,{withCredentials:!0})).data}async function Qq(){try{return(await Y.get(`${Z}/todos`,{withCredentials:!0})).data}catch{return[]}}async function Yq(e){return(await Y.post(`${Z}/todos`,e,{withCredentials:!0})).data}async function Xq(e,t){return(await Y.put(`${Z}/todos/${e}`,t,{withCredentials:!0})).data}async function Jq(e){await Y.delete(`${Z}/todos/${e}`,{withCredentials:!0})}async function e1(e){return(await Y.get(`${Z}/analytics/engagement/${e}`,{withCredentials:!0})).data}var Z,ri,y0,mn,q4,ew,tw,B4,j4,i_,Ga,RB,rw,vt,Rt=At(()=>{"use strict";_4();Z="https://skillstream-platform-api.onrender.com/api",ri=e=>{e?Y.defaults.headers.common.Authorization=`Bearer ${e}`:delete Y.defaults.headers.common.Authorization},y0=null,mn=e=>{y0=e,e?localStorage.setItem("refreshToken",e):localStorage.removeItem("refreshToken")},q4=()=>(y0||(y0=localStorage.getItem("refreshToken")),y0),ew=!1,tw=[],B4=(e,t=null)=>{tw.forEach(r=>{e?r.reject(e):r.resolve(t)}),tw=[]};Y.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Y.interceptors.response.use(e=>e,async e=>{let t=e.config;if(e.response?.status===401&&!t._retry){if(ew)return new Promise((r,a)=>{tw.push({resolve:r,reject:a})}).then(r=>(t.headers&&(t.headers.Authorization=`Bearer ${r}`),Y(t))).catch(r=>Promise.reject(r));t._retry=!0,ew=!0;try{let{token:r}=await U4();return ri(r),localStorage.setItem("token",r),B4(null,r),t.headers&&(t.headers.Authorization=`Bearer ${r}`),Y(t)}catch(r){return B4(r,null),typeof window<"u"&&(localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("refreshToken"),window.location.href="/login"),Promise.reject(r)}finally{ew=!1}}return Promise.reject(e)});j4=()=>"",i_=()=>"";Ga=`${Z}/messaging`;RB={async getTutorRevenue(){return(await Y.get(`${Z}/payouts/revenue`,{withCredentials:!0})).data},async getPayoutRequests(e){return(await Y.get(`${Z}/payouts/requests?tutorId=${e}`,{withCredentials:!0})).data},async requestPayout(e){return(await Y.post(`${Z}/payouts/request`,e,{withCredentials:!0})).data}};rw=class{constructor(){ta(this,"axios");this.axios=Y.create({baseURL:Z,headers:{"Content-Type":"application/json"}})}async login(t){let a=(await this.axios.post("/users/auth/login",t)).data;return{user:a.user,token:a.token}}async register(t){let r={email:t.email,password:t.password,username:t.username??t.name,role:t.role};return(await this.axios.post("/users/auth/register",r)).data}async getProfile(){return(await this.axios.get("/users/auth/profile")).data}async logout(){await this.axios.post("/users/auth/logout")}async getUsers(){return(await this.axios.get("/users")).data}async getUserById(t){return(await this.axios.get(`/users/${t}`)).data}async updateUser(t,r){return(await this.axios.put(`/users/${t}`,r)).data}async deleteUser(t){await this.axios.delete(`/users/${t}`)}async requestPasswordReset(t){await this.axios.post("/users/auth/forgot-password",{email:t})}async resetPassword(t,r){await this.axios.post("/users/auth/reset-password",{token:t,newPassword:r})}async askAI(t,r){return{response:"This AI assistant is connected to the SkillStream platform. Right now it returns a static response; you can wire it to a REST AI endpoint later."}}async getCourseDetails(t){return(await this.axios.get(`/courses/${t}`)).data}async getCourseMarketingDetails(t){return(await this.axios.get(`/courses/${t}/marketing`,{withCredentials:!0})).data}async getMyAssignments(){return(await this.axios.get("/assignments/my",{withCredentials:!0})).data}async createLesson(t){return(await this.axios.post("/lessons",t,{withCredentials:!0})).data}async updateLesson(t,r){return(await this.axios.put(`/lessons/${t}`,r,{withCredentials:!0})).data}async joinVideoConference(t){return(await this.axios.post(`/video/conferences/${t}/join`,{},{withCredentials:!0})).data}async leaveVideoConference(t){await this.axios.post(`/video/conferences/${t}/leave`,{},{withCredentials:!0})}async getVideoParticipants(t){let r=await this.axios.get(`/video/conferences/${t}/participants`,{withCredentials:!0});return{participants:Array.isArray(r.data)?r.data:r.data?.participants||[]}}async updateVideoStatus(t,r){await this.axios.post(`/video/conferences/${t}/status`,r,{withCredentials:!0})}async controlVideoRecording(t,r){await this.axios.post(`/video/conferences/${t}/recording/${r}`,{},{withCredentials:!0})}async sendVideoReaction(t,r){await this.axios.post(`/video/conferences/${t}/reaction`,{reaction:r},{withCredentials:!0})}async createBreakoutRooms(t,r){return(await this.axios.post(`/video/conferences/${t}/breakout-rooms`,{rooms:r},{withCredentials:!0})).data}async assignParticipantToBreakoutRoom(t,r,a){await this.axios.post(`/video/conferences/${t}/breakout-rooms/${r}/assign`,{participantId:a},{withCredentials:!0})}async closeBreakoutRooms(t,r){let a=r?`/video/conferences/${t}/breakout-rooms/${r}/close`:`/video/conferences/${t}/breakout-rooms/close-all`;await this.axios.post(a,{},{withCredentials:!0})}async getBreakoutRooms(t){return(await this.axios.get(`/video/conferences/${t}/breakout-rooms`,{withCredentials:!0})).data}async getForumCategories(t){return(await this.axios.get(`/forum/categories?courseId=${t}`,{withCredentials:!0})).data}async getForumThreads(t){return(await this.axios.get(`/forum/threads?courseId=${t}`,{withCredentials:!0})).data}async getForumReplies(t){return(await this.axios.get(`/forum/replies?threadId=${t}`,{withCredentials:!0})).data}async createForumThread(t){return(await this.axios.post("/forum/threads",t,{withCredentials:!0})).data}async updateForumThread(t,r){return(await this.axios.put(`/forum/threads/${t}`,r,{withCredentials:!0})).data}async createForumReply(t){return(await this.axios.post("/forum/replies",t,{withCredentials:!0})).data}async updateForumReply(t,r){return(await this.axios.put(`/forum/replies/${t}`,r,{withCredentials:!0})).data}async deleteForumReply(t){await this.axios.delete(`/forum/replies/${t}`,{withCredentials:!0})}async upvoteThread(t){return(await this.axios.post(`/forum/threads/${t}/upvote`,{},{withCredentials:!0})).data}async downvoteThread(t){return(await this.axios.post(`/forum/threads/${t}/downvote`,{},{withCredentials:!0})).data}async upvoteReply(t){return(await this.axios.post(`/forum/replies/${t}/upvote`,{},{withCredentials:!0})).data}async downvoteReply(t){return(await this.axios.post(`/forum/replies/${t}/downvote`,{},{withCredentials:!0})).data}async pinForumThread(t){return(await this.axios.post(`/forum/threads/${t}/pin`,{},{withCredentials:!0})).data}async unpinForumThread(t){return(await this.axios.post(`/forum/threads/${t}/unpin`,{},{withCredentials:!0})).data}async lockForumThread(t){return(await this.axios.post(`/forum/threads/${t}/lock`,{},{withCredentials:!0})).data}async unlockForumThread(t){return(await this.axios.post(`/forum/threads/${t}/unlock`,{},{withCredentials:!0})).data}async acceptReply(t){return(await this.axios.post(`/forum/replies/${t}/accept`,{},{withCredentials:!0})).data}async uploadFile(t,r,a){let o=t instanceof FormData?t:(()=>{let n=new FormData;return n.append("file",t),r&&n.append("type",r),a&&n.append("metadata",JSON.stringify(a)),n})();return k0(o)}async getFilePermissions(t){return(await this.axios.get(`/files/${t}/permissions`,{withCredentials:!0})).data}async generateShareLink(t){return(await this.axios.post(`/files/${t}/share-link`,{},{withCredentials:!0})).data}async shareFile(t,r,a,o){await this.axios.post(`/files/${t}/share`,{userIds:r,permission:a,expiryDate:o},{withCredentials:!0})}async removeFilePermission(t,r){await this.axios.delete(`/files/${t}/permissions/${r}`,{withCredentials:!0})}async updateFilePermission(t,r,a){await this.axios.put(`/files/${t}/permissions/${r}`,{permission:a},{withCredentials:!0})}async makeFilePrivate(t){await this.axios.post(`/files/${t}/make-private`,{},{withCredentials:!0})}async makeFilePublic(t){await this.axios.post(`/files/${t}/make-public`,{},{withCredentials:!0})}async getRecentVideoContacts(t){return(await this.axios.get(`/users/${t}/video/recent-contacts`,{withCredentials:!0})).data}},vt=new rw});var G4=Ae(E0=>{"use strict";var o8=he(),n8=Symbol.for("react.element"),s8=Symbol.for("react.fragment"),i8=Object.prototype.hasOwnProperty,l8=o8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c8={key:!0,ref:!0,__self:!0,__source:!0};function W4(e,t,r){var a,o={},n=null,s=null;r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),t.ref!==void 0&&(s=t.ref);for(a in t)i8.call(t,a)&&!c8.hasOwnProperty(a)&&(o[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)o[a]===void 0&&(o[a]=t[a]);return{$$typeof:n8,type:e,key:n,ref:s,props:o,_owner:l8.current}}E0.Fragment=s8;E0.jsx=W4;E0.jsxs=W4});var se=Ae((Jie,K4)=>{"use strict";K4.exports=G4()});var kL=Ae((Pme,wL)=>{function IU(){this.__data__=[],this.size=0}wL.exports=IU});var H1=Ae((Tme,NL)=>{function RU(e,t){return e===t||e!==e&&t!==t}NL.exports=RU});var Mp=Ae((Dme,CL)=>{var AU=H1();function PU(e,t){for(var r=e.length;r--;)if(AU(e[r][0],t))return r;return-1}CL.exports=PU});var EL=Ae((Fme,SL)=>{var TU=Mp(),DU=Array.prototype,FU=DU.splice;function OU(e){var t=this.__data__,r=TU(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():FU.call(t,r,1),--this.size,!0}SL.exports=OU});var IL=Ae((Ome,LL)=>{var MU=Mp();function _U(e){var t=this.__data__,r=MU(t,e);return r<0?void 0:t[r][1]}LL.exports=_U});var AL=Ae((Mme,RL)=>{var BU=Mp();function qU(e){return BU(this.__data__,e)>-1}RL.exports=qU});var TL=Ae((_me,PL)=>{var jU=Mp();function UU(e,t){var r=this.__data__,a=jU(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}PL.exports=UU});var _p=Ae((Bme,DL)=>{var zU=kL(),$U=EL(),HU=IL(),VU=AL(),WU=TL();function Pu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Pu.prototype.clear=zU;Pu.prototype.delete=$U;Pu.prototype.get=HU;Pu.prototype.has=VU;Pu.prototype.set=WU;DL.exports=Pu});var OL=Ae((qme,FL)=>{var GU=_p();function KU(){this.__data__=new GU,this.size=0}FL.exports=KU});var _L=Ae((jme,ML)=>{function QU(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}ML.exports=QU});var qL=Ae((Ume,BL)=>{function YU(e){return this.__data__.get(e)}BL.exports=YU});var UL=Ae((zme,jL)=>{function XU(e){return this.__data__.has(e)}jL.exports=XU});var V1=Ae(($me,zL)=>{var JU=typeof global=="object"&&global&&global.Object===Object&&global;zL.exports=JU});var Bs=Ae((Hme,$L)=>{var ZU=V1(),ez=typeof self=="object"&&self&&self.Object===Object&&self,tz=ZU||ez||Function("return this")();$L.exports=tz});var ev=Ae((Vme,HL)=>{var rz=Bs(),az=rz.Symbol;HL.exports=az});var KL=Ae((Wme,GL)=>{var VL=ev(),WL=Object.prototype,oz=WL.hasOwnProperty,nz=WL.toString,Bp=VL?VL.toStringTag:void 0;function sz(e){var t=oz.call(e,Bp),r=e[Bp];try{e[Bp]=void 0;var a=!0}catch{}var o=nz.call(e);return a&&(t?e[Bp]=r:delete e[Bp]),o}GL.exports=sz});var YL=Ae((Gme,QL)=>{var iz=Object.prototype,lz=iz.toString;function cz(e){return lz.call(e)}QL.exports=cz});var qp=Ae((Kme,ZL)=>{var XL=ev(),dz=KL(),uz=YL(),fz="[object Null]",mz="[object Undefined]",JL=XL?XL.toStringTag:void 0;function pz(e){return e==null?e===void 0?mz:fz:JL&&JL in Object(e)?dz(e):uz(e)}ZL.exports=pz});var W1=Ae((Qme,eI)=>{function gz(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}eI.exports=gz});var G1=Ae((Yme,tI)=>{var hz=qp(),vz=W1(),yz="[object AsyncFunction]",xz="[object Function]",bz="[object GeneratorFunction]",wz="[object Proxy]";function kz(e){if(!vz(e))return!1;var t=hz(e);return t==xz||t==bz||t==yz||t==wz}tI.exports=kz});var aI=Ae((Xme,rI)=>{var Nz=Bs(),Cz=Nz["__core-js_shared__"];rI.exports=Cz});var sI=Ae((Jme,nI)=>{var K1=aI(),oI=function(){var e=/[^.]+$/.exec(K1&&K1.keys&&K1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Sz(e){return!!oI&&oI in e}nI.exports=Sz});var Q1=Ae((Zme,iI)=>{var Ez=Function.prototype,Lz=Ez.toString;function Iz(e){if(e!=null){try{return Lz.call(e)}catch{}try{return e+""}catch{}}return""}iI.exports=Iz});var cI=Ae((epe,lI)=>{var Rz=G1(),Az=sI(),Pz=W1(),Tz=Q1(),Dz=/[\\^$.*+?()[\]{}|]/g,Fz=/^\[object .+?Constructor\]$/,Oz=Function.prototype,Mz=Object.prototype,_z=Oz.toString,Bz=Mz.hasOwnProperty,qz=RegExp("^"+_z.call(Bz).replace(Dz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jz(e){if(!Pz(e)||Az(e))return!1;var t=Rz(e)?qz:Fz;return t.test(Tz(e))}lI.exports=jz});var uI=Ae((tpe,dI)=>{function Uz(e,t){return e?.[t]}dI.exports=Uz});var kc=Ae((rpe,fI)=>{var zz=cI(),$z=uI();function Hz(e,t){var r=$z(e,t);return zz(r)?r:void 0}fI.exports=Hz});var tv=Ae((ape,mI)=>{var Vz=kc(),Wz=Bs(),Gz=Vz(Wz,"Map");mI.exports=Gz});var jp=Ae((ope,pI)=>{var Kz=kc(),Qz=Kz(Object,"create");pI.exports=Qz});var vI=Ae((npe,hI)=>{var gI=jp();function Yz(){this.__data__=gI?gI(null):{},this.size=0}hI.exports=Yz});var xI=Ae((spe,yI)=>{function Xz(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}yI.exports=Xz});var wI=Ae((ipe,bI)=>{var Jz=jp(),Zz="__lodash_hash_undefined__",e$=Object.prototype,t$=e$.hasOwnProperty;function r$(e){var t=this.__data__;if(Jz){var r=t[e];return r===Zz?void 0:r}return t$.call(t,e)?t[e]:void 0}bI.exports=r$});var NI=Ae((lpe,kI)=>{var a$=jp(),o$=Object.prototype,n$=o$.hasOwnProperty;function s$(e){var t=this.__data__;return a$?t[e]!==void 0:n$.call(t,e)}kI.exports=s$});var SI=Ae((cpe,CI)=>{var i$=jp(),l$="__lodash_hash_undefined__";function c$(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=i$&&t===void 0?l$:t,this}CI.exports=c$});var LI=Ae((dpe,EI)=>{var d$=vI(),u$=xI(),f$=wI(),m$=NI(),p$=SI();function Tu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Tu.prototype.clear=d$;Tu.prototype.delete=u$;Tu.prototype.get=f$;Tu.prototype.has=m$;Tu.prototype.set=p$;EI.exports=Tu});var AI=Ae((upe,RI)=>{var II=LI(),g$=_p(),h$=tv();function v$(){this.size=0,this.__data__={hash:new II,map:new(h$||g$),string:new II}}RI.exports=v$});var TI=Ae((fpe,PI)=>{function y$(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}PI.exports=y$});var Up=Ae((mpe,DI)=>{var x$=TI();function b$(e,t){var r=e.__data__;return x$(t)?r[typeof t=="string"?"string":"hash"]:r.map}DI.exports=b$});var OI=Ae((ppe,FI)=>{var w$=Up();function k$(e){var t=w$(this,e).delete(e);return this.size-=t?1:0,t}FI.exports=k$});var _I=Ae((gpe,MI)=>{var N$=Up();function C$(e){return N$(this,e).get(e)}MI.exports=C$});var qI=Ae((hpe,BI)=>{var S$=Up();function E$(e){return S$(this,e).has(e)}BI.exports=E$});var UI=Ae((vpe,jI)=>{var L$=Up();function I$(e,t){var r=L$(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}jI.exports=I$});var Y1=Ae((ype,zI)=>{var R$=AI(),A$=OI(),P$=_I(),T$=qI(),D$=UI();function Du(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Du.prototype.clear=R$;Du.prototype.delete=A$;Du.prototype.get=P$;Du.prototype.has=T$;Du.prototype.set=D$;zI.exports=Du});var HI=Ae((xpe,$I)=>{var F$=_p(),O$=tv(),M$=Y1(),_$=200;function B$(e,t){var r=this.__data__;if(r instanceof F$){var a=r.__data__;if(!O$||a.length<_$-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new M$(a)}return r.set(e,t),this.size=r.size,this}$I.exports=B$});var WI=Ae((bpe,VI)=>{var q$=_p(),j$=OL(),U$=_L(),z$=qL(),$$=UL(),H$=HI();function Fu(e){var t=this.__data__=new q$(e);this.size=t.size}Fu.prototype.clear=j$;Fu.prototype.delete=U$;Fu.prototype.get=z$;Fu.prototype.has=$$;Fu.prototype.set=H$;VI.exports=Fu});var KI=Ae((wpe,GI)=>{var V$="__lodash_hash_undefined__";function W$(e){return this.__data__.set(e,V$),this}GI.exports=W$});var YI=Ae((kpe,QI)=>{function G$(e){return this.__data__.has(e)}QI.exports=G$});var JI=Ae((Npe,XI)=>{var K$=Y1(),Q$=KI(),Y$=YI();function rv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new K$;++t<r;)this.add(e[t])}rv.prototype.add=rv.prototype.push=Q$;rv.prototype.has=Y$;XI.exports=rv});var eR=Ae((Cpe,ZI)=>{function X$(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}ZI.exports=X$});var rR=Ae((Spe,tR)=>{function J$(e,t){return e.has(t)}tR.exports=J$});var X1=Ae((Epe,aR)=>{var Z$=JI(),eH=eR(),tH=rR(),rH=1,aH=2;function oH(e,t,r,a,o,n){var s=r&rH,i=e.length,c=t.length;if(i!=c&&!(s&&c>i))return!1;var l=n.get(e),d=n.get(t);if(l&&d)return l==t&&d==e;var u=-1,g=!0,h=r&aH?new Z$:void 0;for(n.set(e,t),n.set(t,e);++u<i;){var v=e[u],m=t[u];if(a)var y=s?a(m,v,u,t,e,n):a(v,m,u,e,t,n);if(y!==void 0){if(y)continue;g=!1;break}if(h){if(!eH(t,function(p,f){if(!tH(h,f)&&(v===p||o(v,p,r,a,n)))return h.push(f)})){g=!1;break}}else if(!(v===m||o(v,m,r,a,n))){g=!1;break}}return n.delete(e),n.delete(t),g}aR.exports=oH});var nR=Ae((Lpe,oR)=>{var nH=Bs(),sH=nH.Uint8Array;oR.exports=sH});var iR=Ae((Ipe,sR)=>{function iH(e){var t=-1,r=Array(e.size);return e.forEach(function(a,o){r[++t]=[o,a]}),r}sR.exports=iH});var cR=Ae((Rpe,lR)=>{function lH(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=a}),r}lR.exports=lH});var pR=Ae((Ape,mR)=>{var dR=ev(),uR=nR(),cH=H1(),dH=X1(),uH=iR(),fH=cR(),mH=1,pH=2,gH="[object Boolean]",hH="[object Date]",vH="[object Error]",yH="[object Map]",xH="[object Number]",bH="[object RegExp]",wH="[object Set]",kH="[object String]",NH="[object Symbol]",CH="[object ArrayBuffer]",SH="[object DataView]",fR=dR?dR.prototype:void 0,J1=fR?fR.valueOf:void 0;function EH(e,t,r,a,o,n,s){switch(r){case SH:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case CH:return!(e.byteLength!=t.byteLength||!n(new uR(e),new uR(t)));case gH:case hH:case xH:return cH(+e,+t);case vH:return e.name==t.name&&e.message==t.message;case bH:case kH:return e==t+"";case yH:var i=uH;case wH:var c=a&mH;if(i||(i=fH),e.size!=t.size&&!c)return!1;var l=s.get(e);if(l)return l==t;a|=pH,s.set(e,t);var d=dH(i(e),i(t),a,o,n,s);return s.delete(e),d;case NH:if(J1)return J1.call(e)==J1.call(t)}return!1}mR.exports=EH});var hR=Ae((Ppe,gR)=>{function LH(e,t){for(var r=-1,a=t.length,o=e.length;++r<a;)e[o+r]=t[r];return e}gR.exports=LH});var av=Ae((Tpe,vR)=>{var IH=Array.isArray;vR.exports=IH});var xR=Ae((Dpe,yR)=>{var RH=hR(),AH=av();function PH(e,t,r){var a=t(e);return AH(e)?a:RH(a,r(e))}yR.exports=PH});var wR=Ae((Fpe,bR)=>{function TH(e,t){for(var r=-1,a=e==null?0:e.length,o=0,n=[];++r<a;){var s=e[r];t(s,r,e)&&(n[o++]=s)}return n}bR.exports=TH});var NR=Ae((Ope,kR)=>{function DH(){return[]}kR.exports=DH});var ER=Ae((Mpe,SR)=>{var FH=wR(),OH=NR(),MH=Object.prototype,_H=MH.propertyIsEnumerable,CR=Object.getOwnPropertySymbols,BH=CR?function(e){return e==null?[]:(e=Object(e),FH(CR(e),function(t){return _H.call(e,t)}))}:OH;SR.exports=BH});var IR=Ae((_pe,LR)=>{function qH(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}LR.exports=qH});var zp=Ae((Bpe,RR)=>{function jH(e){return e!=null&&typeof e=="object"}RR.exports=jH});var PR=Ae((qpe,AR)=>{var UH=qp(),zH=zp(),$H="[object Arguments]";function HH(e){return zH(e)&&UH(e)==$H}AR.exports=HH});var OR=Ae((jpe,FR)=>{var TR=PR(),VH=zp(),DR=Object.prototype,WH=DR.hasOwnProperty,GH=DR.propertyIsEnumerable,KH=TR(function(){return arguments}())?TR:function(e){return VH(e)&&WH.call(e,"callee")&&!GH.call(e,"callee")};FR.exports=KH});var _R=Ae((Upe,MR)=>{function QH(){return!1}MR.exports=QH});var Z1=Ae(($p,Ou)=>{var YH=Bs(),XH=_R(),jR=typeof $p=="object"&&$p&&!$p.nodeType&&$p,BR=jR&&typeof Ou=="object"&&Ou&&!Ou.nodeType&&Ou,JH=BR&&BR.exports===jR,qR=JH?YH.Buffer:void 0,ZH=qR?qR.isBuffer:void 0,eV=ZH||XH;Ou.exports=eV});var zR=Ae((zpe,UR)=>{var tV=9007199254740991,rV=/^(?:0|[1-9]\d*)$/;function aV(e,t){var r=typeof e;return t=t??tV,!!t&&(r=="number"||r!="symbol"&&rV.test(e))&&e>-1&&e%1==0&&e<t}UR.exports=aV});var ek=Ae(($pe,$R)=>{var oV=9007199254740991;function nV(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=oV}$R.exports=nV});var VR=Ae((Hpe,HR)=>{var sV=qp(),iV=ek(),lV=zp(),cV="[object Arguments]",dV="[object Array]",uV="[object Boolean]",fV="[object Date]",mV="[object Error]",pV="[object Function]",gV="[object Map]",hV="[object Number]",vV="[object Object]",yV="[object RegExp]",xV="[object Set]",bV="[object String]",wV="[object WeakMap]",kV="[object ArrayBuffer]",NV="[object DataView]",CV="[object Float32Array]",SV="[object Float64Array]",EV="[object Int8Array]",LV="[object Int16Array]",IV="[object Int32Array]",RV="[object Uint8Array]",AV="[object Uint8ClampedArray]",PV="[object Uint16Array]",TV="[object Uint32Array]",Pr={};Pr[CV]=Pr[SV]=Pr[EV]=Pr[LV]=Pr[IV]=Pr[RV]=Pr[AV]=Pr[PV]=Pr[TV]=!0;Pr[cV]=Pr[dV]=Pr[kV]=Pr[uV]=Pr[NV]=Pr[fV]=Pr[mV]=Pr[pV]=Pr[gV]=Pr[hV]=Pr[vV]=Pr[yV]=Pr[xV]=Pr[bV]=Pr[wV]=!1;function DV(e){return lV(e)&&iV(e.length)&&!!Pr[sV(e)]}HR.exports=DV});var GR=Ae((Vpe,WR)=>{function FV(e){return function(t){return e(t)}}WR.exports=FV});var QR=Ae((Hp,Mu)=>{var OV=V1(),KR=typeof Hp=="object"&&Hp&&!Hp.nodeType&&Hp,Vp=KR&&typeof Mu=="object"&&Mu&&!Mu.nodeType&&Mu,MV=Vp&&Vp.exports===KR,tk=MV&&OV.process,_V=function(){try{var e=Vp&&Vp.require&&Vp.require("util").types;return e||tk&&tk.binding&&tk.binding("util")}catch{}}();Mu.exports=_V});var rk=Ae((Wpe,JR)=>{var BV=VR(),qV=GR(),YR=QR(),XR=YR&&YR.isTypedArray,jV=XR?qV(XR):BV;JR.exports=jV});var eA=Ae((Gpe,ZR)=>{var UV=IR(),zV=OR(),$V=av(),HV=Z1(),VV=zR(),WV=rk(),GV=Object.prototype,KV=GV.hasOwnProperty;function QV(e,t){var r=$V(e),a=!r&&zV(e),o=!r&&!a&&HV(e),n=!r&&!a&&!o&&WV(e),s=r||a||o||n,i=s?UV(e.length,String):[],c=i.length;for(var l in e)(t||KV.call(e,l))&&!(s&&(l=="length"||o&&(l=="offset"||l=="parent")||n&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||VV(l,c)))&&i.push(l);return i}ZR.exports=QV});var rA=Ae((Kpe,tA)=>{var YV=Object.prototype;function XV(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||YV;return e===r}tA.exports=XV});var oA=Ae((Qpe,aA)=>{function JV(e,t){return function(r){return e(t(r))}}aA.exports=JV});var sA=Ae((Ype,nA)=>{var ZV=oA(),eW=ZV(Object.keys,Object);nA.exports=eW});var lA=Ae((Xpe,iA)=>{var tW=rA(),rW=sA(),aW=Object.prototype,oW=aW.hasOwnProperty;function nW(e){if(!tW(e))return rW(e);var t=[];for(var r in Object(e))oW.call(e,r)&&r!="constructor"&&t.push(r);return t}iA.exports=nW});var dA=Ae((Jpe,cA)=>{var sW=G1(),iW=ek();function lW(e){return e!=null&&iW(e.length)&&!sW(e)}cA.exports=lW});var fA=Ae((Zpe,uA)=>{var cW=eA(),dW=lA(),uW=dA();function fW(e){return uW(e)?cW(e):dW(e)}uA.exports=fW});var pA=Ae((ege,mA)=>{var mW=xR(),pW=ER(),gW=fA();function hW(e){return mW(e,gW,pW)}mA.exports=hW});var vA=Ae((tge,hA)=>{var gA=pA(),vW=1,yW=Object.prototype,xW=yW.hasOwnProperty;function bW(e,t,r,a,o,n){var s=r&vW,i=gA(e),c=i.length,l=gA(t),d=l.length;if(c!=d&&!s)return!1;for(var u=c;u--;){var g=i[u];if(!(s?g in t:xW.call(t,g)))return!1}var h=n.get(e),v=n.get(t);if(h&&v)return h==t&&v==e;var m=!0;n.set(e,t),n.set(t,e);for(var y=s;++u<c;){g=i[u];var p=e[g],f=t[g];if(a)var x=s?a(f,p,g,t,e,n):a(p,f,g,e,t,n);if(!(x===void 0?p===f||o(p,f,r,a,n):x)){m=!1;break}y||(y=g=="constructor")}if(m&&!y){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof w=="function"&&w instanceof w)&&(m=!1)}return n.delete(e),n.delete(t),m}hA.exports=bW});var xA=Ae((rge,yA)=>{var wW=kc(),kW=Bs(),NW=wW(kW,"DataView");yA.exports=NW});var wA=Ae((age,bA)=>{var CW=kc(),SW=Bs(),EW=CW(SW,"Promise");bA.exports=EW});var NA=Ae((oge,kA)=>{var LW=kc(),IW=Bs(),RW=LW(IW,"Set");kA.exports=RW});var SA=Ae((nge,CA)=>{var AW=kc(),PW=Bs(),TW=AW(PW,"WeakMap");CA.exports=TW});var DA=Ae((sge,TA)=>{var ak=xA(),ok=tv(),nk=wA(),sk=NA(),ik=SA(),PA=qp(),_u=Q1(),EA="[object Map]",DW="[object Object]",LA="[object Promise]",IA="[object Set]",RA="[object WeakMap]",AA="[object DataView]",FW=_u(ak),OW=_u(ok),MW=_u(nk),_W=_u(sk),BW=_u(ik),Nc=PA;(ak&&Nc(new ak(new ArrayBuffer(1)))!=AA||ok&&Nc(new ok)!=EA||nk&&Nc(nk.resolve())!=LA||sk&&Nc(new sk)!=IA||ik&&Nc(new ik)!=RA)&&(Nc=function(e){var t=PA(e),r=t==DW?e.constructor:void 0,a=r?_u(r):"";if(a)switch(a){case FW:return AA;case OW:return EA;case MW:return LA;case _W:return IA;case BW:return RA}return t});TA.exports=Nc});var UA=Ae((ige,jA)=>{var lk=WI(),qW=X1(),jW=pR(),UW=vA(),FA=DA(),OA=av(),MA=Z1(),zW=rk(),$W=1,_A="[object Arguments]",BA="[object Array]",ov="[object Object]",HW=Object.prototype,qA=HW.hasOwnProperty;function VW(e,t,r,a,o,n){var s=OA(e),i=OA(t),c=s?BA:FA(e),l=i?BA:FA(t);c=c==_A?ov:c,l=l==_A?ov:l;var d=c==ov,u=l==ov,g=c==l;if(g&&MA(e)){if(!MA(t))return!1;s=!0,d=!1}if(g&&!d)return n||(n=new lk),s||zW(e)?qW(e,t,r,a,o,n):jW(e,t,c,r,a,o,n);if(!(r&$W)){var h=d&&qA.call(e,"__wrapped__"),v=u&&qA.call(t,"__wrapped__");if(h||v){var m=h?e.value():e,y=v?t.value():t;return n||(n=new lk),o(m,y,r,a,n)}}return g?(n||(n=new lk),UW(e,t,r,a,o,n)):!1}jA.exports=VW});var VA=Ae((lge,HA)=>{var WW=UA(),zA=zp();function $A(e,t,r,a,o){return e===t?!0:e==null||t==null||!zA(e)&&!zA(t)?e!==e&&t!==t:WW(e,t,r,a,$A,o)}HA.exports=$A});var GA=Ae((cge,WA)=>{var GW=VA();function KW(e,t){return GW(e,t)}WA.exports=KW});var KA=Ae((Wp,ck)=>{(function(t,r){typeof Wp=="object"&&typeof ck=="object"?ck.exports=r():typeof define=="function"&&define.amd?define([],r):typeof Wp=="object"?Wp.Quill=r():t.Quill=r()})(typeof self<"u"?self:Wp,function(){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(a,o,n){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:n})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=109)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(17),o=r(18),n=r(19),s=r(45),i=r(46),c=r(47),l=r(48),d=r(49),u=r(12),g=r(32),h=r(33),v=r(31),m=r(1),y={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:a.default,Format:o.default,Leaf:n.default,Embed:l.default,Scroll:s.default,Block:c.default,Inline:i.default,Text:d.default,Attributor:{Attribute:u.default,Class:g.default,Style:h.default,Store:v.default}};t.default=y},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var p in y)y.hasOwnProperty(p)&&(m[p]=y[p])};return function(m,y){v(m,y);function p(){this.constructor=m}m.prototype=y===null?Object.create(y):(p.prototype=y.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(v){a(m,v);function m(y){var p=this;return y="[Parchment] "+y,p=v.call(this,y)||this,p.message=y,p.name=p.constructor.name,p}return m}(Error);t.ParchmentError=o;var n={},s={},i={},c={};t.DATA_KEY="__blot";var l;(function(v){v[v.TYPE=3]="TYPE",v[v.LEVEL=12]="LEVEL",v[v.ATTRIBUTE=13]="ATTRIBUTE",v[v.BLOT=14]="BLOT",v[v.INLINE=7]="INLINE",v[v.BLOCK=11]="BLOCK",v[v.BLOCK_BLOT=10]="BLOCK_BLOT",v[v.INLINE_BLOT=6]="INLINE_BLOT",v[v.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",v[v.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",v[v.ANY=15]="ANY"})(l=t.Scope||(t.Scope={}));function d(v,m){var y=g(v);if(y==null)throw new o("Unable to create "+v+" blot");var p=y,f=v instanceof Node||v.nodeType===Node.TEXT_NODE?v:p.create(m);return new p(f,m)}t.create=d;function u(v,m){return m===void 0&&(m=!1),v==null?null:v[t.DATA_KEY]!=null?v[t.DATA_KEY].blot:m?u(v.parentNode,m):null}t.find=u;function g(v,m){m===void 0&&(m=l.ANY);var y;if(typeof v=="string")y=c[v]||n[v];else if(v instanceof Text||v.nodeType===Node.TEXT_NODE)y=c.text;else if(typeof v=="number")v&l.LEVEL&l.BLOCK?y=c.block:v&l.LEVEL&l.INLINE&&(y=c.inline);else if(v instanceof HTMLElement){var p=(v.getAttribute("class")||"").split(/\s+/);for(var f in p)if(y=s[p[f]],y)break;y=y||i[v.tagName]}return y==null?null:m&l.LEVEL&y.scope&&m&l.TYPE&y.scope?y:null}t.query=g;function h(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];if(v.length>1)return v.map(function(f){return h(f)});var y=v[0];if(typeof y.blotName!="string"&&typeof y.attrName!="string")throw new o("Invalid definition");if(y.blotName==="abstract")throw new o("Cannot register abstract class");if(c[y.blotName||y.attrName]=y,typeof y.keyName=="string")n[y.keyName]=y;else if(y.className!=null&&(s[y.className]=y),y.tagName!=null){Array.isArray(y.tagName)?y.tagName=y.tagName.map(function(f){return f.toUpperCase()}):y.tagName=y.tagName.toUpperCase();var p=Array.isArray(y.tagName)?y.tagName:[y.tagName];p.forEach(function(f){(i[f]==null||y.className==null)&&(i[f]=y)})}return y}t.register=h},function(e,t,r){var a=r(51),o=r(11),n=r(3),s=r(20),i="\0",c=function(l){Array.isArray(l)?this.ops=l:l!=null&&Array.isArray(l.ops)?this.ops=l.ops:this.ops=[]};c.prototype.insert=function(l,d){var u={};return l.length===0?this:(u.insert=l,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(u.attributes=d),this.push(u))},c.prototype.delete=function(l){return l<=0?this:this.push({delete:l})},c.prototype.retain=function(l,d){if(l<=0)return this;var u={retain:l};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(u.attributes=d),this.push(u)},c.prototype.push=function(l){var d=this.ops.length,u=this.ops[d-1];if(l=n(!0,{},l),typeof u=="object"){if(typeof l.delete=="number"&&typeof u.delete=="number")return this.ops[d-1]={delete:u.delete+l.delete},this;if(typeof u.delete=="number"&&l.insert!=null&&(d-=1,u=this.ops[d-1],typeof u!="object"))return this.ops.unshift(l),this;if(o(l.attributes,u.attributes)){if(typeof l.insert=="string"&&typeof u.insert=="string")return this.ops[d-1]={insert:u.insert+l.insert},typeof l.attributes=="object"&&(this.ops[d-1].attributes=l.attributes),this;if(typeof l.retain=="number"&&typeof u.retain=="number")return this.ops[d-1]={retain:u.retain+l.retain},typeof l.attributes=="object"&&(this.ops[d-1].attributes=l.attributes),this}}return d===this.ops.length?this.ops.push(l):this.ops.splice(d,0,l),this},c.prototype.chop=function(){var l=this.ops[this.ops.length-1];return l&&l.retain&&!l.attributes&&this.ops.pop(),this},c.prototype.filter=function(l){return this.ops.filter(l)},c.prototype.forEach=function(l){this.ops.forEach(l)},c.prototype.map=function(l){return this.ops.map(l)},c.prototype.partition=function(l){var d=[],u=[];return this.forEach(function(g){var h=l(g)?d:u;h.push(g)}),[d,u]},c.prototype.reduce=function(l,d){return this.ops.reduce(l,d)},c.prototype.changeLength=function(){return this.reduce(function(l,d){return d.insert?l+s.length(d):d.delete?l-d.delete:l},0)},c.prototype.length=function(){return this.reduce(function(l,d){return l+s.length(d)},0)},c.prototype.slice=function(l,d){l=l||0,typeof d!="number"&&(d=1/0);for(var u=[],g=s.iterator(this.ops),h=0;h<d&&g.hasNext();){var v;h<l?v=g.next(l-h):(v=g.next(d-h),u.push(v)),h+=s.length(v)}return new c(u)},c.prototype.compose=function(l){var d=s.iterator(this.ops),u=s.iterator(l.ops),g=[],h=u.peek();if(h!=null&&typeof h.retain=="number"&&h.attributes==null){for(var v=h.retain;d.peekType()==="insert"&&d.peekLength()<=v;)v-=d.peekLength(),g.push(d.next());h.retain-v>0&&u.next(h.retain-v)}for(var m=new c(g);d.hasNext()||u.hasNext();)if(u.peekType()==="insert")m.push(u.next());else if(d.peekType()==="delete")m.push(d.next());else{var y=Math.min(d.peekLength(),u.peekLength()),p=d.next(y),f=u.next(y);if(typeof f.retain=="number"){var x={};typeof p.retain=="number"?x.retain=y:x.insert=p.insert;var b=s.attributes.compose(p.attributes,f.attributes,typeof p.retain=="number");if(b&&(x.attributes=b),m.push(x),!u.hasNext()&&o(m.ops[m.ops.length-1],x)){var w=new c(d.rest());return m.concat(w).chop()}}else typeof f.delete=="number"&&typeof p.retain=="number"&&m.push(f)}return m.chop()},c.prototype.concat=function(l){var d=new c(this.ops.slice());return l.ops.length>0&&(d.push(l.ops[0]),d.ops=d.ops.concat(l.ops.slice(1))),d},c.prototype.diff=function(l,d){if(this.ops===l.ops)return new c;var u=[this,l].map(function(y){return y.map(function(p){if(p.insert!=null)return typeof p.insert=="string"?p.insert:i;var f=y===l?"on":"with";throw new Error("diff() called "+f+" non-document")}).join("")}),g=new c,h=a(u[0],u[1],d),v=s.iterator(this.ops),m=s.iterator(l.ops);return h.forEach(function(y){for(var p=y[1].length;p>0;){var f=0;switch(y[0]){case a.INSERT:f=Math.min(m.peekLength(),p),g.push(m.next(f));break;case a.DELETE:f=Math.min(p,v.peekLength()),v.next(f),g.delete(f);break;case a.EQUAL:f=Math.min(v.peekLength(),m.peekLength(),p);var x=v.next(f),b=m.next(f);o(x.insert,b.insert)?g.retain(f,s.attributes.diff(x.attributes,b.attributes)):g.push(b).delete(f);break}p-=f}}),g.chop()},c.prototype.eachLine=function(l,d){d=d||`
`;for(var u=s.iterator(this.ops),g=new c,h=0;u.hasNext();){if(u.peekType()!=="insert")return;var v=u.peek(),m=s.length(v)-u.peekLength(),y=typeof v.insert=="string"?v.insert.indexOf(d,m)-m:-1;if(y<0)g.push(u.next());else if(y>0)g.push(u.next(y));else{if(l(g,u.next(1).attributes||{},h)===!1)return;h+=1,g=new c}}g.length()>0&&l(g,{},h)},c.prototype.transform=function(l,d){if(d=!!d,typeof l=="number")return this.transformPosition(l,d);for(var u=s.iterator(this.ops),g=s.iterator(l.ops),h=new c;u.hasNext()||g.hasNext();)if(u.peekType()==="insert"&&(d||g.peekType()!=="insert"))h.retain(s.length(u.next()));else if(g.peekType()==="insert")h.push(g.next());else{var v=Math.min(u.peekLength(),g.peekLength()),m=u.next(v),y=g.next(v);if(m.delete)continue;y.delete?h.push(y):h.retain(v,s.attributes.transform(m.attributes,y.attributes,d))}return h.chop()},c.prototype.transformPosition=function(l,d){d=!!d;for(var u=s.iterator(this.ops),g=0;u.hasNext()&&g<=l;){var h=u.peekLength(),v=u.peekType();if(u.next(),v==="delete"){l-=Math.min(h,l-g);continue}else v==="insert"&&(g<l||!d)&&(l+=h);g+=h}return l},e.exports=c},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=function(u){return typeof Array.isArray=="function"?Array.isArray(u):a.call(u)==="[object Array]"},i=function(u){if(!u||a.call(u)!=="[object Object]")return!1;var g=r.call(u,"constructor"),h=u.constructor&&u.constructor.prototype&&r.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!g&&!h)return!1;var v;for(v in u);return typeof v>"u"||r.call(u,v)},c=function(u,g){o&&g.name==="__proto__"?o(u,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):u[g.name]=g.newValue},l=function(u,g){if(g==="__proto__")if(r.call(u,g)){if(n)return n(u,g).value}else return;return u[g]};e.exports=function d(){var u,g,h,v,m,y,p=arguments[0],f=1,x=arguments.length,b=!1;for(typeof p=="boolean"&&(b=p,p=arguments[1]||{},f=2),(p==null||typeof p!="object"&&typeof p!="function")&&(p={});f<x;++f)if(u=arguments[f],u!=null)for(g in u)h=l(p,g),v=l(u,g),p!==v&&(b&&v&&(i(v)||(m=s(v)))?(m?(m=!1,y=h&&s(h)?h:[]):y=h&&i(h)?h:{},c(p,{name:g,newValue:d(b,y,v)})):typeof v<"u"&&c(p,{name:g,newValue:v}));return p}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var a=function(){function S(k,E){for(var L=0;L<E.length;L++){var P=E[L];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,P.key,P)}}return function(k,E,L){return E&&S(k.prototype,E),L&&S(k,L),k}}(),o=function S(k,E,L){k===null&&(k=Function.prototype);var P=Object.getOwnPropertyDescriptor(k,E);if(P===void 0){var j=Object.getPrototypeOf(k);return j===null?void 0:S(j,E,L)}else{if("value"in P)return P.value;var M=P.get;return M===void 0?void 0:M.call(L)}},n=r(3),s=p(n),i=r(2),c=p(i),l=r(0),d=p(l),u=r(16),g=p(u),h=r(6),v=p(h),m=r(7),y=p(m);function p(S){return S&&S.__esModule?S:{default:S}}function f(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function x(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:S}function b(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}var w=1,N=function(S){b(k,S);function k(){return f(this,k),x(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return a(k,[{key:"attach",value:function(){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,s.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,P){var j=d.default.query(L,d.default.Scope.BLOCK_ATTRIBUTE);j!=null&&this.attributes.attribute(j,P)}},{key:"formatAt",value:function(L,P,j,M){this.format(j,M)}},{key:"insertAt",value:function(L,P,j){if(typeof P=="string"&&P.endsWith(`
`)){var M=d.default.create(I.blotName);this.parent.insertBefore(M,L===0?this:this.next),M.insertAt(0,P.slice(0,-1))}else o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,L,P,j)}}]),k}(d.default.Embed);N.scope=d.default.Scope.BLOCK_BLOT;var I=function(S){b(k,S);function k(E){f(this,k);var L=x(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E));return L.cache={},L}return a(k,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(L,P){return P.length()===0?L:L.insert(P.value(),C(P))},new c.default).insert(`
`,C(this))),this.cache.delta}},{key:"deleteAt",value:function(L,P){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,L,P),this.cache={}}},{key:"formatAt",value:function(L,P,j,M){P<=0||(d.default.query(j,d.default.Scope.BLOCK)?L+P===this.length()&&this.format(j,M):o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,L,Math.min(P,this.length()-L-1),j,M),this.cache={})}},{key:"insertAt",value:function(L,P,j){if(j!=null)return o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,L,P,j);if(P.length!==0){var M=P.split(`
`),q=M.shift();q.length>0&&(L<this.length()-1||this.children.tail==null?o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),q):this.children.tail.insertAt(this.children.tail.length(),q),this.cache={});var R=this;M.reduce(function(D,A){return R=R.split(D,!0),R.insertAt(0,A),A.length},L+q.length)}}},{key:"insertBefore",value:function(L,P){var j=this.children.head;o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,L,P),j instanceof g.default&&j.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"length",this).call(this)+w),this.cache.length}},{key:"moveChildren",value:function(L,P){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"moveChildren",this).call(this,L,P),this.cache={}}},{key:"optimize",value:function(L){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P&&(L===0||L>=this.length()-w)){var j=this.clone();return L===0?(this.parent.insertBefore(j,this),this):(this.parent.insertBefore(j,this.next),j)}else{var M=o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"split",this).call(this,L,P);return this.cache={},M}}}]),k}(d.default.Block);I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[v.default,d.default.Embed,y.default];function C(S){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null||(typeof S.formats=="function"&&(k=(0,s.default)(k,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope)?k:C(S.parent,k)}t.bubbleFormats=C,t.BlockEmbed=N,t.default=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},o=function(){function R(D,A){var B=[],F=!0,T=!1,U=void 0;try{for(var O=D[Symbol.iterator](),z;!(F=(z=O.next()).done)&&(B.push(z.value),!(A&&B.length===A));F=!0);}catch(X){T=!0,U=X}finally{try{!F&&O.return&&O.return()}finally{if(T)throw U}}return B}return function(D,A){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return R(D,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(){function R(D,A){for(var B=0;B<A.length;B++){var F=A[B];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}}return function(D,A,B){return A&&R(D.prototype,A),B&&R(D,B),D}}();r(50);var s=r(2),i=C(s),c=r(14),l=C(c),d=r(8),u=C(d),g=r(9),h=C(g),v=r(0),m=C(v),y=r(15),p=C(y),f=r(3),x=C(f),b=r(10),w=C(b),N=r(34),I=C(N);function C(R){return R&&R.__esModule?R:{default:R}}function S(R,D,A){return D in R?Object.defineProperty(R,D,{value:A,enumerable:!0,configurable:!0,writable:!0}):R[D]=A,R}function k(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}var E=(0,w.default)("quill"),L=function(){n(R,null,[{key:"debug",value:function(A){A===!0&&(A="log"),w.default.level(A)}},{key:"find",value:function(A){return A.__quill||m.default.find(A)}},{key:"import",value:function(A){return this.imports[A]==null&&E.error("Cannot import "+A+". Are you sure it was registered?"),this.imports[A]}},{key:"register",value:function(A,B){var F=this,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof A!="string"){var U=A.attrName||A.blotName;typeof U=="string"?this.register("formats/"+U,A,B):Object.keys(A).forEach(function(O){F.register(O,A[O],B)})}else this.imports[A]!=null&&!T&&E.warn("Overwriting "+A+" with",B),this.imports[A]=B,(A.startsWith("blots/")||A.startsWith("formats/"))&&B.blotName!=="abstract"?m.default.register(B):A.startsWith("modules")&&typeof B.register=="function"&&B.register()}}]);function R(D){var A=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(k(this,R),this.options=P(D,B),this.container=this.options.container,this.container==null)return E.error("Invalid Quill container",D);this.options.debug&&R.debug(this.options.debug);var F=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new u.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new l.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(u.default.events.EDITOR_CHANGE,function(U){U===u.default.events.TEXT_CHANGE&&A.root.classList.toggle("ql-blank",A.editor.isBlank())}),this.emitter.on(u.default.events.SCROLL_UPDATE,function(U,O){var z=A.selection.lastRange,X=z&&z.length===0?z.index:void 0;j.call(A,function(){return A.editor.update(null,O,X)},U)});var T=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+F+"<p><br></p></div>");this.setContents(T),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return n(R,[{key:"addContainer",value:function(A){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof A=="string"){var F=A;A=document.createElement("div"),A.classList.add(F)}return this.container.insertBefore(A,B),A}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(A,B,F){var T=this,U=M(A,B,F),O=o(U,4);return A=O[0],B=O[1],F=O[3],j.call(this,function(){return T.editor.deleteText(A,B)},F,A,-1*B)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(A),this.container.classList.toggle("ql-disabled",!A)}},{key:"focus",value:function(){var A=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=A,this.scrollIntoView()}},{key:"format",value:function(A,B){var F=this,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.default.sources.API;return j.call(this,function(){var U=F.getSelection(!0),O=new i.default;if(U==null)return O;if(m.default.query(A,m.default.Scope.BLOCK))O=F.editor.formatLine(U.index,U.length,S({},A,B));else{if(U.length===0)return F.selection.format(A,B),O;O=F.editor.formatText(U.index,U.length,S({},A,B))}return F.setSelection(U,u.default.sources.SILENT),O},T)}},{key:"formatLine",value:function(A,B,F,T,U){var O=this,z=void 0,X=M(A,B,F,T,U),J=o(X,4);return A=J[0],B=J[1],z=J[2],U=J[3],j.call(this,function(){return O.editor.formatLine(A,B,z)},U,A,0)}},{key:"formatText",value:function(A,B,F,T,U){var O=this,z=void 0,X=M(A,B,F,T,U),J=o(X,4);return A=J[0],B=J[1],z=J[2],U=J[3],j.call(this,function(){return O.editor.formatText(A,B,z)},U,A,0)}},{key:"getBounds",value:function(A){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=void 0;typeof A=="number"?F=this.selection.getBounds(A,B):F=this.selection.getBounds(A.index,A.length);var T=this.container.getBoundingClientRect();return{bottom:F.bottom-T.top,height:F.height,left:F.left-T.left,right:F.right-T.left,top:F.top-T.top,width:F.width}}},{key:"getContents",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-A,F=M(A,B),T=o(F,2);return A=T[0],B=T[1],this.editor.getContents(A,B)}},{key:"getFormat",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof A=="number"?this.editor.getFormat(A,B):this.editor.getFormat(A.index,A.length)}},{key:"getIndex",value:function(A){return A.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(A){return this.scroll.leaf(A)}},{key:"getLine",value:function(A){return this.scroll.line(A)}},{key:"getLines",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof A!="number"?this.scroll.lines(A.index,A.length):this.scroll.lines(A,B)}},{key:"getModule",value:function(A){return this.theme.modules[A]}},{key:"getSelection",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return A&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-A,F=M(A,B),T=o(F,2);return A=T[0],B=T[1],this.editor.getText(A,B)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(A,B,F){var T=this,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:R.sources.API;return j.call(this,function(){return T.editor.insertEmbed(A,B,F)},U,A)}},{key:"insertText",value:function(A,B,F,T,U){var O=this,z=void 0,X=M(A,0,F,T,U),J=o(X,4);return A=J[0],z=J[2],U=J[3],j.call(this,function(){return O.editor.insertText(A,B,z)},U,A,B.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(A,B,F){this.clipboard.dangerouslyPasteHTML(A,B,F)}},{key:"removeFormat",value:function(A,B,F){var T=this,U=M(A,B,F),O=o(U,4);return A=O[0],B=O[1],F=O[3],j.call(this,function(){return T.editor.removeFormat(A,B)},F,A)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(A){var B=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.default.sources.API;return j.call(this,function(){A=new i.default(A);var T=B.getLength(),U=B.editor.deleteText(0,T),O=B.editor.applyDelta(A),z=O.ops[O.ops.length-1];z!=null&&typeof z.insert=="string"&&z.insert[z.insert.length-1]===`
`&&(B.editor.deleteText(B.getLength()-1,1),O.delete(1));var X=U.compose(O);return X},F)}},{key:"setSelection",value:function(A,B,F){if(A==null)this.selection.setRange(null,B||R.sources.API);else{var T=M(A,B,F),U=o(T,4);A=U[0],B=U[1],F=U[3],this.selection.setRange(new y.Range(A,B),F),F!==u.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(A){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.default.sources.API,F=new i.default().insert(A);return this.setContents(F,B)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u.default.sources.USER,B=this.scroll.update(A);return this.selection.update(A),B}},{key:"updateContents",value:function(A){var B=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.default.sources.API;return j.call(this,function(){return A=new i.default(A),B.editor.applyDelta(A,F)},F,!0)}}]),R}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=u.default.events,L.sources=u.default.sources,L.version="1.3.7",L.imports={delta:i.default,parchment:m.default,"core/module":h.default,"core/theme":I.default};function P(R,D){if(D=(0,x.default)(!0,{container:R,modules:{clipboard:!0,keyboard:!0,history:!0}},D),!D.theme||D.theme===L.DEFAULTS.theme)D.theme=I.default;else if(D.theme=L.import("themes/"+D.theme),D.theme==null)throw new Error("Invalid theme "+D.theme+". Did you register it?");var A=(0,x.default)(!0,{},D.theme.DEFAULTS);[A,D].forEach(function(T){T.modules=T.modules||{},Object.keys(T.modules).forEach(function(U){T.modules[U]===!0&&(T.modules[U]={})})});var B=Object.keys(A.modules).concat(Object.keys(D.modules)),F=B.reduce(function(T,U){var O=L.import("modules/"+U);return O==null?E.error("Cannot load "+U+" module. Are you sure you registered it?"):T[U]=O.DEFAULTS||{},T},{});return D.modules!=null&&D.modules.toolbar&&D.modules.toolbar.constructor!==Object&&(D.modules.toolbar={container:D.modules.toolbar}),D=(0,x.default)(!0,{},L.DEFAULTS,{modules:F},A,D),["bounds","container","scrollingContainer"].forEach(function(T){typeof D[T]=="string"&&(D[T]=document.querySelector(D[T]))}),D.modules=Object.keys(D.modules).reduce(function(T,U){return D.modules[U]&&(T[U]=D.modules[U]),T},{}),D}function j(R,D,A,B){if(this.options.strict&&!this.isEnabled()&&D===u.default.sources.USER)return new i.default;var F=A==null?null:this.getSelection(),T=this.editor.delta,U=R();if(F!=null&&(A===!0&&(A=F.index),B==null?F=q(F,U,D):B!==0&&(F=q(F,A,B,D)),this.setSelection(F,u.default.sources.SILENT)),U.length()>0){var O,z=[u.default.events.TEXT_CHANGE,U,T,D];if((O=this.emitter).emit.apply(O,[u.default.events.EDITOR_CHANGE].concat(z)),D!==u.default.sources.SILENT){var X;(X=this.emitter).emit.apply(X,z)}}return U}function M(R,D,A,B,F){var T={};return typeof R.index=="number"&&typeof R.length=="number"?typeof D!="number"?(F=B,B=A,A=D,D=R.length,R=R.index):(D=R.length,R=R.index):typeof D!="number"&&(F=B,B=A,A=D,D=0),(typeof A>"u"?"undefined":a(A))==="object"?(T=A,F=B):typeof A=="string"&&(B!=null?T[A]=B:F=A),F=F||u.default.sources.API,[R,D,T,F]}function q(R,D,A,B){if(R==null)return null;var F=void 0,T=void 0;if(D instanceof i.default){var U=[R.index,R.index+R.length].map(function(J){return D.transformPosition(J,B!==u.default.sources.USER)}),O=o(U,2);F=O[0],T=O[1]}else{var z=[R.index,R.index+R.length].map(function(J){return J<D||J===D&&B===u.default.sources.USER?J:A>=0?J+A:Math.max(D,J+A)}),X=o(z,2);F=X[0],T=X[1]}return new y.Range(F,T-F)}t.expandConfig=P,t.overload=M,t.default=L},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function v(m,y){for(var p=0;p<y.length;p++){var f=y[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,y,p){return y&&v(m.prototype,y),p&&v(m,p),m}}(),o=function v(m,y,p){m===null&&(m=Function.prototype);var f=Object.getOwnPropertyDescriptor(m,y);if(f===void 0){var x=Object.getPrototypeOf(m);return x===null?void 0:v(x,y,p)}else{if("value"in f)return f.value;var b=f.get;return b===void 0?void 0:b.call(p)}},n=r(7),s=l(n),i=r(0),c=l(i);function l(v){return v&&v.__esModule?v:{default:v}}function d(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function u(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function g(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var h=function(v){g(m,v);function m(){return d(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"formatAt",value:function(p,f,x,b){if(m.compare(this.statics.blotName,x)<0&&c.default.query(x,c.default.Scope.BLOT)){var w=this.isolate(p,f);b&&w.wrap(x,b)}else o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,p,f,x,b)}},{key:"optimize",value:function(p){if(o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,p),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var f=this.parent.isolate(this.offset(),this.length());this.moveChildren(f),f.wrap(this)}}}],[{key:"compare",value:function(p,f){var x=m.order.indexOf(p),b=m.order.indexOf(f);return x>=0||b>=0?x-b:p===f?0:p<f?-1:1}}]),m}(c.default.Inline);h.allowedChildren=[h,c.default.Embed,s.default],h.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),o=n(a);function n(d){return d&&d.__esModule?d:{default:d}}function s(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function i(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function c(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var l=function(d){c(u,d);function u(){return s(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(o.default.Text);t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function y(p,f){for(var x=0;x<f.length;x++){var b=f[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,f,x){return f&&y(p.prototype,f),x&&y(p,x),p}}(),o=function y(p,f,x){p===null&&(p=Function.prototype);var b=Object.getOwnPropertyDescriptor(p,f);if(b===void 0){var w=Object.getPrototypeOf(p);return w===null?void 0:y(w,f,x)}else{if("value"in b)return b.value;var N=b.get;return N===void 0?void 0:N.call(x)}},n=r(54),s=l(n),i=r(10),c=l(i);function l(y){return y&&y.__esModule?y:{default:y}}function d(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function u(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function g(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}var h=(0,c.default)("quill:events"),v=["selectionchange","mousedown","mouseup","click"];v.forEach(function(y){document.addEventListener(y,function(){for(var p=arguments.length,f=Array(p),x=0;x<p;x++)f[x]=arguments[x];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(b){if(b.__quill&&b.__quill.emitter){var w;(w=b.__quill.emitter).handleDOM.apply(w,f)}})})});var m=function(y){g(p,y);function p(){d(this,p);var f=u(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return f.listeners={},f.on("error",h.error),f}return a(p,[{key:"emit",value:function(){h.log.apply(h,arguments),o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(x){for(var b=arguments.length,w=Array(b>1?b-1:0),N=1;N<b;N++)w[N-1]=arguments[N];(this.listeners[x.type]||[]).forEach(function(I){var C=I.node,S=I.handler;(x.target===C||C.contains(x.target))&&S.apply(void 0,[x].concat(w))})}},{key:"listenDOM",value:function(x,b,w){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push({node:b,handler:w})}}]),p}(s.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function a(n,s){if(!(n instanceof s))throw new TypeError("Cannot call a class as a function")}var o=function n(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,n),this.quill=s,this.options=i};o.DEFAULTS={},t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function n(i){if(a.indexOf(i)<=a.indexOf(o)){for(var c,l=arguments.length,d=Array(l>1?l-1:0),u=1;u<l;u++)d[u-1]=arguments[u];(c=console)[i].apply(c,d)}}function s(i){return a.reduce(function(c,l){return c[l]=n.bind(console,l,i),c},{})}n.level=s.level=function(i){o=i},t.default=s},function(e,t,r){var a=Array.prototype.slice,o=r(52),n=r(53),s=e.exports=function(d,u,g){return g||(g={}),d===u?!0:d instanceof Date&&u instanceof Date?d.getTime()===u.getTime():!d||!u||typeof d!="object"&&typeof u!="object"?g.strict?d===u:d==u:l(d,u,g)};function i(d){return d==null}function c(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function l(d,u,g){var h,v;if(i(d)||i(u)||d.prototype!==u.prototype)return!1;if(n(d))return n(u)?(d=a.call(d),u=a.call(u),s(d,u,g)):!1;if(c(d)){if(!c(u)||d.length!==u.length)return!1;for(h=0;h<d.length;h++)if(d[h]!==u[h])return!1;return!0}try{var m=o(d),y=o(u)}catch{return!1}if(m.length!=y.length)return!1;for(m.sort(),y.sort(),h=m.length-1;h>=0;h--)if(m[h]!=y[h])return!1;for(h=m.length-1;h>=0;h--)if(v=m[h],!s(d[v],u[v],g))return!1;return typeof d==typeof u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),o=function(){function n(s,i,c){c===void 0&&(c={}),this.attrName=s,this.keyName=i;var l=a.Scope.TYPE&a.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&a.Scope.LEVEL|l:this.scope=a.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return n.keys=function(s){return[].map.call(s.attributes,function(i){return i.name})},n.prototype.add=function(s,i){return this.canAdd(s,i)?(s.setAttribute(this.keyName,i),!0):!1},n.prototype.canAdd=function(s,i){var c=a.query(s,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof i=="string"?this.whitelist.indexOf(i.replace(/["']/g,""))>-1:this.whitelist.indexOf(i)>-1},n.prototype.remove=function(s){s.removeAttribute(this.keyName)},n.prototype.value=function(s){var i=s.getAttribute(this.keyName);return this.canAdd(s,i)&&i?i:""},n}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var a=function(){function N(I,C){var S=[],k=!0,E=!1,L=void 0;try{for(var P=I[Symbol.iterator](),j;!(k=(j=P.next()).done)&&(S.push(j.value),!(C&&S.length===C));k=!0);}catch(M){E=!0,L=M}finally{try{!k&&P.return&&P.return()}finally{if(E)throw L}}return S}return function(I,C){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return N(I,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function N(I,C){for(var S=0;S<C.length;S++){var k=C[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}return function(I,C,S){return C&&N(I.prototype,C),S&&N(I,S),I}}(),n=function N(I,C,S){I===null&&(I=Function.prototype);var k=Object.getOwnPropertyDescriptor(I,C);if(k===void 0){var E=Object.getPrototypeOf(I);return E===null?void 0:N(E,C,S)}else{if("value"in k)return k.value;var L=k.get;return L===void 0?void 0:L.call(S)}},s=r(2),i=y(s),c=r(0),l=y(c),d=r(4),u=y(d),g=r(6),h=y(g),v=r(7),m=y(v);function y(N){return N&&N.__esModule?N:{default:N}}function p(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}function f(N,I){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:N}function x(N,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);N.prototype=Object.create(I&&I.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(N,I):N.__proto__=I)}var b=function(N){x(I,N);function I(){return p(this,I),f(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return I}(h.default);b.blotName="code",b.tagName="CODE";var w=function(N){x(I,N);function I(){return p(this,I),f(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return o(I,[{key:"delta",value:function(){var S=this,k=this.domNode.textContent;return k.endsWith(`
`)&&(k=k.slice(0,-1)),k.split(`
`).reduce(function(E,L){return E.insert(L).insert(`
`,S.formats())},new i.default)}},{key:"format",value:function(S,k){if(!(S===this.statics.blotName&&k)){var E=this.descendant(m.default,this.length()-1),L=a(E,1),P=L[0];P?.deleteAt(P.length()-1,1),n(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,S,k)}}},{key:"formatAt",value:function(S,k,E,L){if(k!==0&&!(l.default.query(E,l.default.Scope.BLOCK)==null||E===this.statics.blotName&&L===this.statics.formats(this.domNode))){var P=this.newlineIndex(S);if(!(P<0||P>=S+k)){var j=this.newlineIndex(S,!0)+1,M=P-j+1,q=this.isolate(j,M),R=q.next;q.format(E,L),R instanceof I&&R.formatAt(0,S-j+k-M,E,L)}}}},{key:"insertAt",value:function(S,k,E){if(E==null){var L=this.descendant(m.default,S),P=a(L,2),j=P[0],M=P[1];j.insertAt(M,k)}}},{key:"length",value:function(){var S=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?S:S+1}},{key:"newlineIndex",value:function(S){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(k)return this.domNode.textContent.slice(0,S).lastIndexOf(`
`);var E=this.domNode.textContent.slice(S).indexOf(`
`);return E>-1?S+E:-1}},{key:"optimize",value:function(S){this.domNode.textContent.endsWith(`
`)||this.appendChild(l.default.create("text",`
`)),n(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,S);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===k.statics.formats(k.domNode)&&(k.optimize(S),k.moveChildren(this),k.remove())}},{key:"replace",value:function(S){n(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,S),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(k){var E=l.default.find(k);E==null?k.parentNode.removeChild(k):E instanceof l.default.Embed?E.remove():E.unwrap()})}}],[{key:"create",value:function(S){var k=n(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,S);return k.setAttribute("spellcheck",!1),k}},{key:"formats",value:function(){return!0}}]),I}(u.default);w.blotName="code-block",w.tagName="PRE",w.TAB="  ",t.Code=b,t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},o=function(){function R(D,A){var B=[],F=!0,T=!1,U=void 0;try{for(var O=D[Symbol.iterator](),z;!(F=(z=O.next()).done)&&(B.push(z.value),!(A&&B.length===A));F=!0);}catch(X){T=!0,U=X}finally{try{!F&&O.return&&O.return()}finally{if(T)throw U}}return B}return function(D,A){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return R(D,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(){function R(D,A){for(var B=0;B<A.length;B++){var F=A[B];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}}return function(D,A,B){return A&&R(D.prototype,A),B&&R(D,B),D}}(),s=r(2),i=k(s),c=r(20),l=k(c),d=r(0),u=k(d),g=r(13),h=k(g),v=r(24),m=k(v),y=r(4),p=k(y),f=r(16),x=k(f),b=r(21),w=k(b),N=r(11),I=k(N),C=r(3),S=k(C);function k(R){return R&&R.__esModule?R:{default:R}}function E(R,D,A){return D in R?Object.defineProperty(R,D,{value:A,enumerable:!0,configurable:!0,writable:!0}):R[D]=A,R}function L(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}var P=/^[ -~]*$/,j=function(){function R(D){L(this,R),this.scroll=D,this.delta=this.getDelta()}return n(R,[{key:"applyDelta",value:function(A){var B=this,F=!1;this.scroll.update();var T=this.scroll.length();return this.scroll.batchStart(),A=q(A),A.reduce(function(U,O){var z=O.retain||O.delete||O.insert.length||1,X=O.attributes||{};if(O.insert!=null){if(typeof O.insert=="string"){var J=O.insert;J.endsWith(`
`)&&F&&(F=!1,J=J.slice(0,-1)),U>=T&&!J.endsWith(`
`)&&(F=!0),B.scroll.insertAt(U,J);var K=B.scroll.line(U),ue=o(K,2),ve=ue[0],tt=ue[1],qe=(0,S.default)({},(0,y.bubbleFormats)(ve));if(ve instanceof p.default){var pe=ve.descendant(u.default.Leaf,tt),re=o(pe,1),Te=re[0];qe=(0,S.default)(qe,(0,y.bubbleFormats)(Te))}X=l.default.attributes.diff(qe,X)||{}}else if(a(O.insert)==="object"){var ne=Object.keys(O.insert)[0];if(ne==null)return U;B.scroll.insertAt(U,ne,O.insert[ne])}T+=z}return Object.keys(X).forEach(function(de){B.scroll.formatAt(U,z,de,X[de])}),U+z},0),A.reduce(function(U,O){return typeof O.delete=="number"?(B.scroll.deleteAt(U,O.delete),U):U+(O.retain||O.insert.length||1)},0),this.scroll.batchEnd(),this.update(A)}},{key:"deleteText",value:function(A,B){return this.scroll.deleteAt(A,B),this.update(new i.default().retain(A).delete(B))}},{key:"formatLine",value:function(A,B){var F=this,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(T).forEach(function(U){if(!(F.scroll.whitelist!=null&&!F.scroll.whitelist[U])){var O=F.scroll.lines(A,Math.max(B,1)),z=B;O.forEach(function(X){var J=X.length();if(!(X instanceof h.default))X.format(U,T[U]);else{var K=A-X.offset(F.scroll),ue=X.newlineIndex(K+z)-K+1;X.formatAt(K,ue,U,T[U])}z-=J})}}),this.scroll.optimize(),this.update(new i.default().retain(A).retain(B,(0,w.default)(T)))}},{key:"formatText",value:function(A,B){var F=this,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(T).forEach(function(U){F.scroll.formatAt(A,B,U,T[U])}),this.update(new i.default().retain(A).retain(B,(0,w.default)(T)))}},{key:"getContents",value:function(A,B){return this.delta.slice(A,A+B)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(A,B){return A.concat(B.delta())},new i.default)}},{key:"getFormat",value:function(A){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=[],T=[];B===0?this.scroll.path(A).forEach(function(O){var z=o(O,1),X=z[0];X instanceof p.default?F.push(X):X instanceof u.default.Leaf&&T.push(X)}):(F=this.scroll.lines(A,B),T=this.scroll.descendants(u.default.Leaf,A,B));var U=[F,T].map(function(O){if(O.length===0)return{};for(var z=(0,y.bubbleFormats)(O.shift());Object.keys(z).length>0;){var X=O.shift();if(X==null)return z;z=M((0,y.bubbleFormats)(X),z)}return z});return S.default.apply(S.default,U)}},{key:"getText",value:function(A,B){return this.getContents(A,B).filter(function(F){return typeof F.insert=="string"}).map(function(F){return F.insert}).join("")}},{key:"insertEmbed",value:function(A,B,F){return this.scroll.insertAt(A,B,F),this.update(new i.default().retain(A).insert(E({},B,F)))}},{key:"insertText",value:function(A,B){var F=this,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B=B.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(A,B),Object.keys(T).forEach(function(U){F.scroll.formatAt(A,B.length,U,T[U])}),this.update(new i.default().retain(A).insert(B,(0,w.default)(T)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var A=this.scroll.children.head;return A.statics.blotName!==p.default.blotName||A.children.length>1?!1:A.children.head instanceof x.default}},{key:"removeFormat",value:function(A,B){var F=this.getText(A,B),T=this.scroll.line(A+B),U=o(T,2),O=U[0],z=U[1],X=0,J=new i.default;O!=null&&(O instanceof h.default?X=O.newlineIndex(z)-z+1:X=O.length()-z,J=O.delta().slice(z,z+X-1).insert(`
`));var K=this.getContents(A,B+X),ue=K.diff(new i.default().insert(F).concat(J)),ve=new i.default().retain(A).concat(ue);return this.applyDelta(ve)}},{key:"update",value:function(A){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,T=this.delta;if(B.length===1&&B[0].type==="characterData"&&B[0].target.data.match(P)&&u.default.find(B[0].target)){var U=u.default.find(B[0].target),O=(0,y.bubbleFormats)(U),z=U.offset(this.scroll),X=B[0].oldValue.replace(m.default.CONTENTS,""),J=new i.default().insert(X),K=new i.default().insert(U.value()),ue=new i.default().retain(z).concat(J.diff(K,F));A=ue.reduce(function(ve,tt){return tt.insert?ve.insert(tt.insert,O):ve.push(tt)},new i.default),this.delta=T.compose(A)}else this.delta=this.getDelta(),(!A||!(0,I.default)(T.compose(A),this.delta))&&(A=T.diff(this.delta,F));return A}}]),R}();function M(R,D){return Object.keys(D).reduce(function(A,B){return R[B]==null||(D[B]===R[B]?A[B]=D[B]:Array.isArray(D[B])?D[B].indexOf(R[B])<0&&(A[B]=D[B].concat([R[B]])):A[B]=[D[B],R[B]]),A},{})}function q(R){return R.reduce(function(D,A){if(A.insert===1){var B=(0,w.default)(A.attributes);return delete B.image,D.insert({image:A.attributes.image},B)}if(A.attributes!=null&&(A.attributes.list===!0||A.attributes.bullet===!0)&&(A=(0,w.default)(A),A.attributes.list?A.attributes.list="ordered":(A.attributes.list="bullet",delete A.attributes.bullet)),typeof A.insert=="string"){var F=A.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return D.insert(F,A.attributes)}return D.push(A)},new i.default)}t.default=j},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var a=function(){function N(I,C){var S=[],k=!0,E=!1,L=void 0;try{for(var P=I[Symbol.iterator](),j;!(k=(j=P.next()).done)&&(S.push(j.value),!(C&&S.length===C));k=!0);}catch(M){E=!0,L=M}finally{try{!k&&P.return&&P.return()}finally{if(E)throw L}}return S}return function(I,C){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return N(I,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function N(I,C){for(var S=0;S<C.length;S++){var k=C[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}return function(I,C,S){return C&&N(I.prototype,C),S&&N(I,S),I}}(),n=r(0),s=m(n),i=r(21),c=m(i),l=r(11),d=m(l),u=r(8),g=m(u),h=r(10),v=m(h);function m(N){return N&&N.__esModule?N:{default:N}}function y(N){if(Array.isArray(N)){for(var I=0,C=Array(N.length);I<N.length;I++)C[I]=N[I];return C}else return Array.from(N)}function p(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}var f=(0,v.default)("quill:selection"),x=function N(I){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;p(this,N),this.index=I,this.length=C},b=function(){function N(I,C){var S=this;p(this,N),this.emitter=C,this.scroll=I,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=s.default.create("cursor",this),this.lastRange=this.savedRange=new x(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){S.mouseDown||setTimeout(S.update.bind(S,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(k,E){k===g.default.events.TEXT_CHANGE&&E.length()>0&&S.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(S.hasFocus()){var k=S.getNativeRange();k!=null&&k.start.node!==S.cursor.textNode&&S.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{S.setNativeRange(k.start.node,k.start.offset,k.end.node,k.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(k,E){if(E.range){var L=E.range,P=L.startNode,j=L.startOffset,M=L.endNode,q=L.endOffset;S.setNativeRange(P,j,M,q)}}),this.update(g.default.sources.SILENT)}return o(N,[{key:"handleComposition",value:function(){var C=this;this.root.addEventListener("compositionstart",function(){C.composing=!0}),this.root.addEventListener("compositionend",function(){if(C.composing=!1,C.cursor.parent){var S=C.cursor.restore();if(!S)return;setTimeout(function(){C.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)},1)}})}},{key:"handleDragging",value:function(){var C=this;this.emitter.listenDOM("mousedown",document.body,function(){C.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){C.mouseDown=!1,C.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(C,S){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[C])){this.scroll.update();var k=this.getNativeRange();if(!(k==null||!k.native.collapsed||s.default.query(C,s.default.Scope.BLOCK))){if(k.start.node!==this.cursor.textNode){var E=s.default.find(k.start.node,!1);if(E==null)return;if(E instanceof s.default.Leaf){var L=E.split(k.start.offset);E.parent.insertBefore(this.cursor,L)}else E.insertBefore(this.cursor,k.start.node);this.cursor.attach()}this.cursor.format(C,S),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(C){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,k=this.scroll.length();C=Math.min(C,k-1),S=Math.min(C+S,k-1)-C;var E=void 0,L=this.scroll.leaf(C),P=a(L,2),j=P[0],M=P[1];if(j==null)return null;var q=j.position(M,!0),R=a(q,2);E=R[0],M=R[1];var D=document.createRange();if(S>0){D.setStart(E,M);var A=this.scroll.leaf(C+S),B=a(A,2);if(j=B[0],M=B[1],j==null)return null;var F=j.position(M,!0),T=a(F,2);return E=T[0],M=T[1],D.setEnd(E,M),D.getBoundingClientRect()}else{var U="left",O=void 0;return E instanceof Text?(M<E.data.length?(D.setStart(E,M),D.setEnd(E,M+1)):(D.setStart(E,M-1),D.setEnd(E,M),U="right"),O=D.getBoundingClientRect()):(O=j.domNode.getBoundingClientRect(),M>0&&(U="right")),{bottom:O.top+O.height,height:O.height,left:O[U],right:O[U],top:O.top,width:0}}}},{key:"getNativeRange",value:function(){var C=document.getSelection();if(C==null||C.rangeCount<=0)return null;var S=C.getRangeAt(0);if(S==null)return null;var k=this.normalizeNative(S);return f.info("getNativeRange",k),k}},{key:"getRange",value:function(){var C=this.getNativeRange();if(C==null)return[null,null];var S=this.normalizedToRange(C);return[S,C]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(C){var S=this,k=[[C.start.node,C.start.offset]];C.native.collapsed||k.push([C.end.node,C.end.offset]);var E=k.map(function(j){var M=a(j,2),q=M[0],R=M[1],D=s.default.find(q,!0),A=D.offset(S.scroll);return R===0?A:D instanceof s.default.Container?A+D.length():A+D.index(q,R)}),L=Math.min(Math.max.apply(Math,y(E)),this.scroll.length()-1),P=Math.min.apply(Math,[L].concat(y(E)));return new x(P,L-P)}},{key:"normalizeNative",value:function(C){if(!w(this.root,C.startContainer)||!C.collapsed&&!w(this.root,C.endContainer))return null;var S={start:{node:C.startContainer,offset:C.startOffset},end:{node:C.endContainer,offset:C.endOffset},native:C};return[S.start,S.end].forEach(function(k){for(var E=k.node,L=k.offset;!(E instanceof Text)&&E.childNodes.length>0;)if(E.childNodes.length>L)E=E.childNodes[L],L=0;else if(E.childNodes.length===L)E=E.lastChild,L=E instanceof Text?E.data.length:E.childNodes.length+1;else break;k.node=E,k.offset=L}),S}},{key:"rangeToNative",value:function(C){var S=this,k=C.collapsed?[C.index]:[C.index,C.index+C.length],E=[],L=this.scroll.length();return k.forEach(function(P,j){P=Math.min(L-1,P);var M=void 0,q=S.scroll.leaf(P),R=a(q,2),D=R[0],A=R[1],B=D.position(A,j!==0),F=a(B,2);M=F[0],A=F[1],E.push(M,A)}),E.length<2&&(E=E.concat(E)),E}},{key:"scrollIntoView",value:function(C){var S=this.lastRange;if(S!=null){var k=this.getBounds(S.index,S.length);if(k!=null){var E=this.scroll.length()-1,L=this.scroll.line(Math.min(S.index,E)),P=a(L,1),j=P[0],M=j;if(S.length>0){var q=this.scroll.line(Math.min(S.index+S.length,E)),R=a(q,1);M=R[0]}if(!(j==null||M==null)){var D=C.getBoundingClientRect();k.top<D.top?C.scrollTop-=D.top-k.top:k.bottom>D.bottom&&(C.scrollTop+=k.bottom-D.bottom)}}}}},{key:"setNativeRange",value:function(C,S){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(f.info("setNativeRange",C,S,k,E),!(C!=null&&(this.root.parentNode==null||C.parentNode==null||k.parentNode==null))){var P=document.getSelection();if(P!=null)if(C!=null){this.hasFocus()||this.root.focus();var j=(this.getNativeRange()||{}).native;if(j==null||L||C!==j.startContainer||S!==j.startOffset||k!==j.endContainer||E!==j.endOffset){C.tagName=="BR"&&(S=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode),k.tagName=="BR"&&(E=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode);var M=document.createRange();M.setStart(C,S),M.setEnd(k,E),P.removeAllRanges(),P.addRange(M)}}else P.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(C){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof S=="string"&&(k=S,S=!1),f.info("setRange",C),C!=null){var E=this.rangeToNative(C);this.setNativeRange.apply(this,y(E).concat([S]))}else this.setNativeRange(null);this.update(k)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,S=this.lastRange,k=this.getRange(),E=a(k,2),L=E[0],P=E[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(S,this.lastRange)){var j;!this.composing&&P!=null&&P.native.collapsed&&P.start.node!==this.cursor.textNode&&this.cursor.restore();var M=[g.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(S),C];if((j=this.emitter).emit.apply(j,[g.default.events.EDITOR_CHANGE].concat(M)),C!==g.default.sources.SILENT){var q;(q=this.emitter).emit.apply(q,M)}}}}]),N}();function w(N,I){try{I.parentNode}catch{return!1}return I instanceof Text&&(I=I.parentNode),N.contains(I)}t.Range=x,t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function g(h,v){for(var m=0;m<v.length;m++){var y=v[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,v,m){return v&&g(h.prototype,v),m&&g(h,m),h}}(),o=function g(h,v,m){h===null&&(h=Function.prototype);var y=Object.getOwnPropertyDescriptor(h,v);if(y===void 0){var p=Object.getPrototypeOf(h);return p===null?void 0:g(p,v,m)}else{if("value"in y)return y.value;var f=y.get;return f===void 0?void 0:f.call(m)}},n=r(0),s=i(n);function i(g){return g&&g.__esModule?g:{default:g}}function c(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function l(g,h){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:g}function d(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}var u=function(g){d(h,g);function h(){return c(this,h),l(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return a(h,[{key:"insertInto",value:function(m,y){m.children.length===0?o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertInto",this).call(this,m,y):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),h}(s.default.Embed);u.blotName="break",u.tagName="BR",t.default=u},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var g in u)u.hasOwnProperty(g)&&(d[g]=u[g])};return function(d,u){l(d,u);function g(){this.constructor=d}d.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(44),n=r(30),s=r(1),i=function(l){a(d,l);function d(u){var g=l.call(this,u)||this;return g.build(),g}return d.prototype.appendChild=function(u){this.insertBefore(u)},d.prototype.attach=function(){l.prototype.attach.call(this),this.children.forEach(function(u){u.attach()})},d.prototype.build=function(){var u=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var h=c(g);u.insertBefore(h,u.children.head||void 0)}catch(v){if(v instanceof s.ParchmentError)return;throw v}})},d.prototype.deleteAt=function(u,g){if(u===0&&g===this.length())return this.remove();this.children.forEachAt(u,g,function(h,v,m){h.deleteAt(v,m)})},d.prototype.descendant=function(u,g){var h=this.children.find(g),v=h[0],m=h[1];return u.blotName==null&&u(v)||u.blotName!=null&&v instanceof u?[v,m]:v instanceof d?v.descendant(u,m):[null,-1]},d.prototype.descendants=function(u,g,h){g===void 0&&(g=0),h===void 0&&(h=Number.MAX_VALUE);var v=[],m=h;return this.children.forEachAt(g,h,function(y,p,f){(u.blotName==null&&u(y)||u.blotName!=null&&y instanceof u)&&v.push(y),y instanceof d&&(v=v.concat(y.descendants(u,p,m))),m-=f}),v},d.prototype.detach=function(){this.children.forEach(function(u){u.detach()}),l.prototype.detach.call(this)},d.prototype.formatAt=function(u,g,h,v){this.children.forEachAt(u,g,function(m,y,p){m.formatAt(y,p,h,v)})},d.prototype.insertAt=function(u,g,h){var v=this.children.find(u),m=v[0],y=v[1];if(m)m.insertAt(y,g,h);else{var p=h==null?s.create("text",g):s.create(g,h);this.appendChild(p)}},d.prototype.insertBefore=function(u,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(h){return u instanceof h}))throw new s.ParchmentError("Cannot insert "+u.statics.blotName+" into "+this.statics.blotName);u.insertInto(this,g)},d.prototype.length=function(){return this.children.reduce(function(u,g){return u+g.length()},0)},d.prototype.moveChildren=function(u,g){this.children.forEach(function(h){u.insertBefore(h,g)})},d.prototype.optimize=function(u){if(l.prototype.optimize.call(this,u),this.children.length===0)if(this.statics.defaultChild!=null){var g=s.create(this.statics.defaultChild);this.appendChild(g),g.optimize(u)}else this.remove()},d.prototype.path=function(u,g){g===void 0&&(g=!1);var h=this.children.find(u,g),v=h[0],m=h[1],y=[[this,u]];return v instanceof d?y.concat(v.path(m,g)):(v!=null&&y.push([v,m]),y)},d.prototype.removeChild=function(u){this.children.remove(u)},d.prototype.replace=function(u){u instanceof d&&u.moveChildren(this),l.prototype.replace.call(this,u)},d.prototype.split=function(u,g){if(g===void 0&&(g=!1),!g){if(u===0)return this;if(u===this.length())return this.next}var h=this.clone();return this.parent.insertBefore(h,this.next),this.children.forEachAt(u,this.length(),function(v,m,y){v=v.split(m,g),h.appendChild(v)}),h},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(u,g){var h=this,v=[],m=[];u.forEach(function(y){y.target===h.domNode&&y.type==="childList"&&(v.push.apply(v,y.addedNodes),m.push.apply(m,y.removedNodes))}),m.forEach(function(y){if(!(y.parentNode!=null&&y.tagName!=="IFRAME"&&document.body.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var p=s.find(y);p!=null&&(p.domNode.parentNode==null||p.domNode.parentNode===h.domNode)&&p.detach()}}),v.filter(function(y){return y.parentNode==h.domNode}).sort(function(y,p){return y===p?0:y.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(y){var p=null;y.nextSibling!=null&&(p=s.find(y.nextSibling));var f=c(y);(f.next!=p||f.next==null)&&(f.parent!=null&&f.parent.removeChild(h),h.insertBefore(f,p||void 0))})},d}(n.default);function c(l){var d=s.find(l);if(d==null)try{d=s.create(l)}catch{d=s.create(s.Scope.INLINE),[].slice.call(l.childNodes).forEach(function(g){d.domNode.appendChild(g)}),l.parentNode&&l.parentNode.replaceChild(d.domNode,l),d.attach()}return d}t.default=i},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var g in u)u.hasOwnProperty(g)&&(d[g]=u[g])};return function(d,u){l(d,u);function g(){this.constructor=d}d.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(12),n=r(31),s=r(17),i=r(1),c=function(l){a(d,l);function d(u){var g=l.call(this,u)||this;return g.attributes=new n.default(g.domNode),g}return d.formats=function(u){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return u.tagName.toLowerCase()},d.prototype.format=function(u,g){var h=i.query(u);h instanceof o.default?this.attributes.attribute(h,g):g&&h!=null&&(u!==this.statics.blotName||this.formats()[u]!==g)&&this.replaceWith(u,g)},d.prototype.formats=function(){var u=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(u[this.statics.blotName]=g),u},d.prototype.replaceWith=function(u,g){var h=l.prototype.replaceWith.call(this,u,g);return this.attributes.copy(h),h},d.prototype.update=function(u,g){var h=this;l.prototype.update.call(this,u,g),u.some(function(v){return v.target===h.domNode&&v.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(u,g){var h=l.prototype.wrap.call(this,u,g);return h instanceof d&&h.statics.scope===this.statics.scope&&this.attributes.move(h),h},d}(s.default);t.default=c},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var d in l)l.hasOwnProperty(d)&&(c[d]=l[d])};return function(c,l){i(c,l);function d(){this.constructor=c}c.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(30),n=r(1),s=function(i){a(c,i);function c(){return i!==null&&i.apply(this,arguments)||this}return c.value=function(l){return!0},c.prototype.index=function(l,d){return this.domNode===l||this.domNode.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},c.prototype.position=function(l,d){var u=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return l>0&&(u+=1),[this.parent.domNode,u]},c.prototype.value=function(){var l;return l={},l[this.statics.blotName]=this.statics.value(this.domNode)||!0,l},c.scope=n.Scope.INLINE_BLOT,c}(o.default);t.default=s},function(e,t,r){var a=r(11),o=r(3),n={attributes:{compose:function(i,c,l){typeof i!="object"&&(i={}),typeof c!="object"&&(c={});var d=o(!0,{},c);l||(d=Object.keys(d).reduce(function(g,h){return d[h]!=null&&(g[h]=d[h]),g},{}));for(var u in i)i[u]!==void 0&&c[u]===void 0&&(d[u]=i[u]);return Object.keys(d).length>0?d:void 0},diff:function(i,c){typeof i!="object"&&(i={}),typeof c!="object"&&(c={});var l=Object.keys(i).concat(Object.keys(c)).reduce(function(d,u){return a(i[u],c[u])||(d[u]=c[u]===void 0?null:c[u]),d},{});return Object.keys(l).length>0?l:void 0},transform:function(i,c,l){if(typeof i!="object")return c;if(typeof c=="object"){if(!l)return c;var d=Object.keys(c).reduce(function(u,g){return i[g]===void 0&&(u[g]=c[g]),u},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(i){return new s(i)},length:function(i){return typeof i.delete=="number"?i.delete:typeof i.retain=="number"?i.retain:typeof i.insert=="string"?i.insert.length:1}};function s(i){this.ops=i,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(i){i||(i=1/0);var c=this.ops[this.index];if(c){var l=this.offset,d=n.length(c);if(i>=d-l?(i=d-l,this.index+=1,this.offset=0):this.offset+=i,typeof c.delete=="number")return{delete:i};var u={};return c.attributes&&(u.attributes=c.attributes),typeof c.retain=="number"?u.retain=i:typeof c.insert=="string"?u.insert=c.insert.substr(l,i):u.insert=c.insert,u}else return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?n.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,c=this.index,l=this.next(),d=this.ops.slice(this.index);return this.offset=i,this.index=c,[l].concat(d)}else return[]},e.exports=n},function(e,t){var r=function(){"use strict";function a(h,v){return v!=null&&h instanceof v}var o;try{o=Map}catch{o=function(){}}var n;try{n=Set}catch{n=function(){}}var s;try{s=Promise}catch{s=function(){}}function i(h,v,m,y,p){typeof v=="object"&&(m=v.depth,y=v.prototype,p=v.includeNonEnumerable,v=v.circular);var f=[],x=[],b=typeof Buffer<"u";typeof v>"u"&&(v=!0),typeof m>"u"&&(m=1/0);function w(N,I){if(N===null)return null;if(I===0)return N;var C,S;if(typeof N!="object")return N;if(a(N,o))C=new o;else if(a(N,n))C=new n;else if(a(N,s))C=new s(function(D,A){N.then(function(B){D(w(B,I-1))},function(B){A(w(B,I-1))})});else if(i.__isArray(N))C=[];else if(i.__isRegExp(N))C=new RegExp(N.source,g(N)),N.lastIndex&&(C.lastIndex=N.lastIndex);else if(i.__isDate(N))C=new Date(N.getTime());else{if(b&&Buffer.isBuffer(N))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(N.length):C=new Buffer(N.length),N.copy(C),C;a(N,Error)?C=Object.create(N):typeof y>"u"?(S=Object.getPrototypeOf(N),C=Object.create(S)):(C=Object.create(y),S=y)}if(v){var k=f.indexOf(N);if(k!=-1)return x[k];f.push(N),x.push(C)}a(N,o)&&N.forEach(function(D,A){var B=w(A,I-1),F=w(D,I-1);C.set(B,F)}),a(N,n)&&N.forEach(function(D){var A=w(D,I-1);C.add(A)});for(var E in N){var L;S&&(L=Object.getOwnPropertyDescriptor(S,E)),!(L&&L.set==null)&&(C[E]=w(N[E],I-1))}if(Object.getOwnPropertySymbols)for(var P=Object.getOwnPropertySymbols(N),E=0;E<P.length;E++){var j=P[E],M=Object.getOwnPropertyDescriptor(N,j);M&&!M.enumerable&&!p||(C[j]=w(N[j],I-1),M.enumerable||Object.defineProperty(C,j,{enumerable:!1}))}if(p)for(var q=Object.getOwnPropertyNames(N),E=0;E<q.length;E++){var R=q[E],M=Object.getOwnPropertyDescriptor(N,R);M&&M.enumerable||(C[R]=w(N[R],I-1),Object.defineProperty(C,R,{enumerable:!1}))}return C}return w(h,m)}i.clonePrototype=function(v){if(v===null)return null;var m=function(){};return m.prototype=v,new m};function c(h){return Object.prototype.toString.call(h)}i.__objToStr=c;function l(h){return typeof h=="object"&&c(h)==="[object Date]"}i.__isDate=l;function d(h){return typeof h=="object"&&c(h)==="[object Array]"}i.__isArray=d;function u(h){return typeof h=="object"&&c(h)==="[object RegExp]"}i.__isRegExp=u;function g(h){var v="";return h.global&&(v+="g"),h.ignoreCase&&(v+="i"),h.multiline&&(v+="m"),v}return i.__getRegExpFlags=g,i}();typeof e=="object"&&e.exports&&(e.exports=r)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function C(S,k){var E=[],L=!0,P=!1,j=void 0;try{for(var M=S[Symbol.iterator](),q;!(L=(q=M.next()).done)&&(E.push(q.value),!(k&&E.length===k));L=!0);}catch(R){P=!0,j=R}finally{try{!L&&M.return&&M.return()}finally{if(P)throw j}}return E}return function(S,k){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return C(S,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(S,k){for(var E=0;E<k.length;E++){var L=k[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,k,E){return k&&C(S.prototype,k),E&&C(S,E),S}}(),n=function C(S,k,E){S===null&&(S=Function.prototype);var L=Object.getOwnPropertyDescriptor(S,k);if(L===void 0){var P=Object.getPrototypeOf(S);return P===null?void 0:C(P,k,E)}else{if("value"in L)return L.value;var j=L.get;return j===void 0?void 0:j.call(E)}},s=r(0),i=f(s),c=r(8),l=f(c),d=r(4),u=f(d),g=r(16),h=f(g),v=r(13),m=f(v),y=r(25),p=f(y);function f(C){return C&&C.__esModule?C:{default:C}}function x(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function b(C,S){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:C}function w(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(C,S):C.__proto__=S)}function N(C){return C instanceof u.default||C instanceof d.BlockEmbed}var I=function(C){w(S,C);function S(k,E){x(this,S);var L=b(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,k));return L.emitter=E.emitter,Array.isArray(E.whitelist)&&(L.whitelist=E.whitelist.reduce(function(P,j){return P[j]=!0,P},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return o(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(E,L){var P=this.line(E),j=a(P,2),M=j[0],q=j[1],R=this.line(E+L),D=a(R,1),A=D[0];if(n(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,E,L),A!=null&&M!==A&&q>0){if(M instanceof d.BlockEmbed||A instanceof d.BlockEmbed){this.optimize();return}if(M instanceof m.default){var B=M.newlineIndex(M.length(),!0);if(B>-1&&(M=M.split(B+1),M===A)){this.optimize();return}}else if(A instanceof m.default){var F=A.newlineIndex(0);F>-1&&A.split(F+1)}var T=A.children.head instanceof h.default?null:A.children.head;M.moveChildren(A,T),M.remove()}this.optimize()}},{key:"enable",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",E)}},{key:"formatAt",value:function(E,L,P,j){this.whitelist!=null&&!this.whitelist[P]||(n(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,E,L,P,j),this.optimize())}},{key:"insertAt",value:function(E,L,P){if(!(P!=null&&this.whitelist!=null&&!this.whitelist[L])){if(E>=this.length())if(P==null||i.default.query(L,i.default.Scope.BLOCK)==null){var j=i.default.create(this.statics.defaultChild);this.appendChild(j),P==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),j.insertAt(0,L,P)}else{var M=i.default.create(L,P);this.appendChild(M)}else n(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,E,L,P);this.optimize()}}},{key:"insertBefore",value:function(E,L){if(E.statics.scope===i.default.Scope.INLINE_BLOT){var P=i.default.create(this.statics.defaultChild);P.appendChild(E),E=P}n(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,E,L)}},{key:"leaf",value:function(E){return this.path(E).pop()||[null,-1]}},{key:"line",value:function(E){return E===this.length()?this.line(E-1):this.descendant(N,E)}},{key:"lines",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,P=function j(M,q,R){var D=[],A=R;return M.children.forEachAt(q,R,function(B,F,T){N(B)?D.push(B):B instanceof i.default.Container&&(D=D.concat(j(B,F,A))),A-=T}),D};return P(this,E,L)}},{key:"optimize",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(n(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,E,L),E.length>0&&this.emitter.emit(l.default.events.SCROLL_OPTIMIZE,E,L))}},{key:"path",value:function(E){return n(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,E).slice(1)}},{key:"update",value:function(E){if(this.batch!==!0){var L=l.default.sources.USER;typeof E=="string"&&(L=E),Array.isArray(E)||(E=this.observer.takeRecords()),E.length>0&&this.emitter.emit(l.default.events.SCROLL_BEFORE_UPDATE,L,E),n(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,E.concat([])),E.length>0&&this.emitter.emit(l.default.events.SCROLL_UPDATE,L,E)}}}]),S}(i.default.Scroll);I.blotName="scroll",I.className="ql-editor",I.tagName="DIV",I.defaultChild="block",I.allowedChildren=[u.default,d.BlockEmbed,p.default],t.default=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},o=function(){function O(z,X){var J=[],K=!0,ue=!1,ve=void 0;try{for(var tt=z[Symbol.iterator](),qe;!(K=(qe=tt.next()).done)&&(J.push(qe.value),!(X&&J.length===X));K=!0);}catch(pe){ue=!0,ve=pe}finally{try{!K&&tt.return&&tt.return()}finally{if(ue)throw ve}}return J}return function(z,X){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return O(z,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(){function O(z,X){for(var J=0;J<X.length;J++){var K=X[J];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(z,K.key,K)}}return function(z,X,J){return X&&O(z.prototype,X),J&&O(z,J),z}}(),s=r(21),i=C(s),c=r(11),l=C(c),d=r(3),u=C(d),g=r(2),h=C(g),v=r(20),m=C(v),y=r(0),p=C(y),f=r(5),x=C(f),b=r(10),w=C(b),N=r(9),I=C(N);function C(O){return O&&O.__esModule?O:{default:O}}function S(O,z,X){return z in O?Object.defineProperty(O,z,{value:X,enumerable:!0,configurable:!0,writable:!0}):O[z]=X,O}function k(O,z){if(!(O instanceof z))throw new TypeError("Cannot call a class as a function")}function E(O,z){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:O}function L(O,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);O.prototype=Object.create(z&&z.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(O,z):O.__proto__=z)}var P=(0,w.default)("quill:keyboard"),j=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",M=function(O){L(z,O),n(z,null,[{key:"match",value:function(J,K){return K=U(K),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ue){return!!K[ue]!==J[ue]&&K[ue]!==null})?!1:K.key===(J.which||J.keyCode)}}]);function z(X,J){k(this,z);var K=E(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,X,J));return K.bindings={},Object.keys(K.options.bindings).forEach(function(ue){ue==="list autofill"&&X.scroll.whitelist!=null&&!X.scroll.whitelist.list||K.options.bindings[ue]&&K.addBinding(K.options.bindings[ue])}),K.addBinding({key:z.keys.ENTER,shiftKey:null},B),K.addBinding({key:z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(K.addBinding({key:z.keys.BACKSPACE},{collapsed:!0},R),K.addBinding({key:z.keys.DELETE},{collapsed:!0},D)):(K.addBinding({key:z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},R),K.addBinding({key:z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},D)),K.addBinding({key:z.keys.BACKSPACE},{collapsed:!1},A),K.addBinding({key:z.keys.DELETE},{collapsed:!1},A),K.addBinding({key:z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},R),K.listen(),K}return n(z,[{key:"addBinding",value:function(J){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ve=U(J);if(ve==null||ve.key==null)return P.warn("Attempted to add invalid keyboard binding",ve);typeof K=="function"&&(K={handler:K}),typeof ue=="function"&&(ue={handler:ue}),ve=(0,u.default)(ve,K,ue),this.bindings[ve.key]=this.bindings[ve.key]||[],this.bindings[ve.key].push(ve)}},{key:"listen",value:function(){var J=this;this.quill.root.addEventListener("keydown",function(K){if(!K.defaultPrevented){var ue=K.which||K.keyCode,ve=(J.bindings[ue]||[]).filter(function(Ft){return z.match(K,Ft)});if(ve.length!==0){var tt=J.quill.getSelection();if(!(tt==null||!J.quill.hasFocus())){var qe=J.quill.getLine(tt.index),pe=o(qe,2),re=pe[0],Te=pe[1],ne=J.quill.getLeaf(tt.index),de=o(ne,2),Re=de[0],Be=de[1],xe=tt.length===0?[Re,Be]:J.quill.getLeaf(tt.index+tt.length),Et=o(xe,2),ft=Et[0],Lt=Et[1],ze=Re instanceof p.default.Text?Re.value().slice(0,Be):"",Le=ft instanceof p.default.Text?ft.value().slice(Lt):"",Qe={collapsed:tt.length===0,empty:tt.length===0&&re.length()<=1,format:J.quill.getFormat(tt),offset:Te,prefix:ze,suffix:Le},ir=ve.some(function(Ft){if(Ft.collapsed!=null&&Ft.collapsed!==Qe.collapsed||Ft.empty!=null&&Ft.empty!==Qe.empty||Ft.offset!=null&&Ft.offset!==Qe.offset)return!1;if(Array.isArray(Ft.format)){if(Ft.format.every(function(hr){return Qe.format[hr]==null}))return!1}else if(a(Ft.format)==="object"&&!Object.keys(Ft.format).every(function(hr){return Ft.format[hr]===!0?Qe.format[hr]!=null:Ft.format[hr]===!1?Qe.format[hr]==null:(0,l.default)(Ft.format[hr],Qe.format[hr])}))return!1;return Ft.prefix!=null&&!Ft.prefix.test(Qe.prefix)||Ft.suffix!=null&&!Ft.suffix.test(Qe.suffix)?!1:Ft.handler.call(J,tt,Qe)!==!0});ir&&K.preventDefault()}}}})}}]),z}(I.default);M.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},M.DEFAULTS={bindings:{bold:T("bold"),italic:T("italic"),underline:T("underline"),indent:{key:M.keys.TAB,format:["blockquote","indent","list"],handler:function(z,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","+1",x.default.sources.USER)}},outdent:{key:M.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(z,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","-1",x.default.sources.USER)}},"outdent backspace":{key:M.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(z,X){X.format.indent!=null?this.quill.format("indent","-1",x.default.sources.USER):X.format.list!=null&&this.quill.format("list",!1,x.default.sources.USER)}},"indent code-block":F(!0),"outdent code-block":F(!1),"remove tab":{key:M.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(z){this.quill.deleteText(z.index-1,1,x.default.sources.USER)}},tab:{key:M.keys.TAB,handler:function(z){this.quill.history.cutoff();var X=new h.default().retain(z.index).delete(z.length).insert("	");this.quill.updateContents(X,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index+1,x.default.sources.SILENT)}},"list empty enter":{key:M.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(z,X){this.quill.format("list",!1,x.default.sources.USER),X.format.indent&&this.quill.format("indent",!1,x.default.sources.USER)}},"checklist enter":{key:M.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(z){var X=this.quill.getLine(z.index),J=o(X,2),K=J[0],ue=J[1],ve=(0,u.default)({},K.formats(),{list:"checked"}),tt=new h.default().retain(z.index).insert(`
`,ve).retain(K.length()-ue-1).retain(1,{list:"unchecked"});this.quill.updateContents(tt,x.default.sources.USER),this.quill.setSelection(z.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:M.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(z,X){var J=this.quill.getLine(z.index),K=o(J,2),ue=K[0],ve=K[1],tt=new h.default().retain(z.index).insert(`
`,X.format).retain(ue.length()-ve-1).retain(1,{header:null});this.quill.updateContents(tt,x.default.sources.USER),this.quill.setSelection(z.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(z,X){var J=X.prefix.length,K=this.quill.getLine(z.index),ue=o(K,2),ve=ue[0],tt=ue[1];if(tt>J)return!0;var qe=void 0;switch(X.prefix.trim()){case"[]":case"[ ]":qe="unchecked";break;case"[x]":qe="checked";break;case"-":case"*":qe="bullet";break;default:qe="ordered"}this.quill.insertText(z.index," ",x.default.sources.USER),this.quill.history.cutoff();var pe=new h.default().retain(z.index-tt).delete(J+1).retain(ve.length()-2-tt).retain(1,{list:qe});this.quill.updateContents(pe,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index-J,x.default.sources.SILENT)}},"code exit":{key:M.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(z){var X=this.quill.getLine(z.index),J=o(X,2),K=J[0],ue=J[1],ve=new h.default().retain(z.index+K.length()-ue-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ve,x.default.sources.USER)}},"embed left":q(M.keys.LEFT,!1),"embed left shift":q(M.keys.LEFT,!0),"embed right":q(M.keys.RIGHT,!1),"embed right shift":q(M.keys.RIGHT,!0)}};function q(O,z){var X,J=O===M.keys.LEFT?"prefix":"suffix";return X={key:O,shiftKey:z,altKey:null},S(X,J,/^$/),S(X,"handler",function(ue){var ve=ue.index;O===M.keys.RIGHT&&(ve+=ue.length+1);var tt=this.quill.getLeaf(ve),qe=o(tt,1),pe=qe[0];return pe instanceof p.default.Embed?(O===M.keys.LEFT?z?this.quill.setSelection(ue.index-1,ue.length+1,x.default.sources.USER):this.quill.setSelection(ue.index-1,x.default.sources.USER):z?this.quill.setSelection(ue.index,ue.length+1,x.default.sources.USER):this.quill.setSelection(ue.index+ue.length+1,x.default.sources.USER),!1):!0}),X}function R(O,z){if(!(O.index===0||this.quill.getLength()<=1)){var X=this.quill.getLine(O.index),J=o(X,1),K=J[0],ue={};if(z.offset===0){var ve=this.quill.getLine(O.index-1),tt=o(ve,1),qe=tt[0];if(qe!=null&&qe.length()>1){var pe=K.formats(),re=this.quill.getFormat(O.index-1,1);ue=m.default.attributes.diff(pe,re)||{}}}var Te=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(z.prefix)?2:1;this.quill.deleteText(O.index-Te,Te,x.default.sources.USER),Object.keys(ue).length>0&&this.quill.formatLine(O.index-Te,Te,ue,x.default.sources.USER),this.quill.focus()}}function D(O,z){var X=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(z.suffix)?2:1;if(!(O.index>=this.quill.getLength()-X)){var J={},K=0,ue=this.quill.getLine(O.index),ve=o(ue,1),tt=ve[0];if(z.offset>=tt.length()-1){var qe=this.quill.getLine(O.index+1),pe=o(qe,1),re=pe[0];if(re){var Te=tt.formats(),ne=this.quill.getFormat(O.index,1);J=m.default.attributes.diff(Te,ne)||{},K=re.length()}}this.quill.deleteText(O.index,X,x.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(O.index+K-1,X,J,x.default.sources.USER)}}function A(O){var z=this.quill.getLines(O),X={};if(z.length>1){var J=z[0].formats(),K=z[z.length-1].formats();X=m.default.attributes.diff(K,J)||{}}this.quill.deleteText(O,x.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(O.index,1,X,x.default.sources.USER),this.quill.setSelection(O.index,x.default.sources.SILENT),this.quill.focus()}function B(O,z){var X=this;O.length>0&&this.quill.scroll.deleteAt(O.index,O.length);var J=Object.keys(z.format).reduce(function(K,ue){return p.default.query(ue,p.default.Scope.BLOCK)&&!Array.isArray(z.format[ue])&&(K[ue]=z.format[ue]),K},{});this.quill.insertText(O.index,`
`,J,x.default.sources.USER),this.quill.setSelection(O.index+1,x.default.sources.SILENT),this.quill.focus(),Object.keys(z.format).forEach(function(K){J[K]==null&&(Array.isArray(z.format[K])||K!=="link"&&X.quill.format(K,z.format[K],x.default.sources.USER))})}function F(O){return{key:M.keys.TAB,shiftKey:!O,format:{"code-block":!0},handler:function(X){var J=p.default.query("code-block"),K=X.index,ue=X.length,ve=this.quill.scroll.descendant(J,K),tt=o(ve,2),qe=tt[0],pe=tt[1];if(qe!=null){var re=this.quill.getIndex(qe),Te=qe.newlineIndex(pe,!0)+1,ne=qe.newlineIndex(re+pe+ue),de=qe.domNode.textContent.slice(Te,ne).split(`
`);pe=0,de.forEach(function(Re,Be){O?(qe.insertAt(Te+pe,J.TAB),pe+=J.TAB.length,Be===0?K+=J.TAB.length:ue+=J.TAB.length):Re.startsWith(J.TAB)&&(qe.deleteAt(Te+pe,J.TAB.length),pe-=J.TAB.length,Be===0?K-=J.TAB.length:ue-=J.TAB.length),pe+=Re.length+1}),this.quill.update(x.default.sources.USER),this.quill.setSelection(K,ue,x.default.sources.SILENT)}}}}function T(O){return{key:O[0].toUpperCase(),shortKey:!0,handler:function(X,J){this.quill.format(O,!J.format[O],x.default.sources.USER)}}}function U(O){if(typeof O=="string"||typeof O=="number")return U({key:O});if((typeof O>"u"?"undefined":a(O))==="object"&&(O=(0,i.default)(O,!1)),typeof O.key=="string")if(M.keys[O.key.toUpperCase()]!=null)O.key=M.keys[O.key.toUpperCase()];else if(O.key.length===1)O.key=O.key.toUpperCase().charCodeAt(0);else return null;return O.shortKey&&(O[j]=O.shortKey,delete O.shortKey),O}t.default=M,t.SHORTKEY=j},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function m(y,p){var f=[],x=!0,b=!1,w=void 0;try{for(var N=y[Symbol.iterator](),I;!(x=(I=N.next()).done)&&(f.push(I.value),!(p&&f.length===p));x=!0);}catch(C){b=!0,w=C}finally{try{!x&&N.return&&N.return()}finally{if(b)throw w}}return f}return function(y,p){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return m(y,p);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function m(y,p,f){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,p);if(x===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:m(b,p,f)}else{if("value"in x)return x.value;var w=x.get;return w===void 0?void 0:w.call(f)}},n=function(){function m(y,p){for(var f=0;f<p.length;f++){var x=p[f];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,p,f){return p&&m(y.prototype,p),f&&m(y,f),y}}(),s=r(0),i=d(s),c=r(7),l=d(c);function d(m){return m&&m.__esModule?m:{default:m}}function u(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function g(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function h(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var v=function(m){h(y,m),n(y,null,[{key:"value",value:function(){}}]);function y(p,f){u(this,y);var x=g(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,p));return x.selection=f,x.textNode=document.createTextNode(y.CONTENTS),x.domNode.appendChild(x.textNode),x._length=0,x}return n(y,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(f,x){if(this._length!==0)return o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,f,x);for(var b=this,w=0;b!=null&&b.statics.scope!==i.default.Scope.BLOCK_BLOT;)w+=b.offset(b.parent),b=b.parent;b!=null&&(this._length=y.CONTENTS.length,b.optimize(),b.formatAt(w,y.CONTENTS.length,f,x),this._length=0)}},{key:"index",value:function(f,x){return f===this.textNode?0:o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,f,x)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var f=this.textNode,x=this.selection.getNativeRange(),b=void 0,w=void 0,N=void 0;if(x!=null&&x.start.node===f&&x.end.node===f){var I=[f,x.start.offset,x.end.offset];b=I[0],w=I[1],N=I[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==y.CONTENTS){var C=this.textNode.data.split(y.CONTENTS).join("");this.next instanceof l.default?(b=this.next.domNode,this.next.insertAt(0,C),this.textNode.data=y.CONTENTS):(this.textNode.data=C,this.parent.insertBefore(i.default.create(this.textNode),this),this.textNode=document.createTextNode(y.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),w!=null){var S=[w,N].map(function(E){return Math.max(0,Math.min(b.data.length,E-1))}),k=a(S,2);return w=k[0],N=k[1],{startNode:b,startOffset:w,endNode:b,endOffset:N}}}}},{key:"update",value:function(f,x){var b=this;if(f.some(function(N){return N.type==="characterData"&&N.target===b.textNode})){var w=this.restore();w&&(x.range=w)}}},{key:"value",value:function(){return""}}]),y}(i.default.Embed);v.blotName="cursor",v.className="ql-cursor",v.tagName="span",v.CONTENTS="\uFEFF",t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),o=i(a),n=r(4),s=i(n);function i(g){return g&&g.__esModule?g:{default:g}}function c(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function l(g,h){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:g}function d(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}var u=function(g){d(h,g);function h(){return c(this,h),l(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default.Container);u.allowedChildren=[s.default,n.BlockEmbed,u],t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var a=function(){function v(m,y){for(var p=0;p<y.length;p++){var f=y[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,y,p){return y&&v(m.prototype,y),p&&v(m,p),m}}(),o=function v(m,y,p){m===null&&(m=Function.prototype);var f=Object.getOwnPropertyDescriptor(m,y);if(f===void 0){var x=Object.getPrototypeOf(m);return x===null?void 0:v(x,y,p)}else{if("value"in f)return f.value;var b=f.get;return b===void 0?void 0:b.call(p)}},n=r(0),s=i(n);function i(v){return v&&v.__esModule?v:{default:v}}function c(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function l(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function d(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var u=function(v){d(m,v);function m(){return c(this,m),l(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"value",value:function(p){var f=o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,p);return f.startsWith("rgb(")?(f=f.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+f.split(",").map(function(x){return("00"+parseInt(x).toString(16)).slice(-2)}).join("")):f}}]),m}(s.default.Attributor.Style),g=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),h=new u("color","color",{scope:s.default.Scope.INLINE});t.ColorAttributor=u,t.ColorClass=g,t.ColorStyle=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var a=function(){function h(v,m){for(var y=0;y<m.length;y++){var p=m[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,m,y){return m&&h(v.prototype,m),y&&h(v,y),v}}(),o=function h(v,m,y){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,m);if(p===void 0){var f=Object.getPrototypeOf(v);return f===null?void 0:h(f,m,y)}else{if("value"in p)return p.value;var x=p.get;return x===void 0?void 0:x.call(y)}},n=r(6),s=i(n);function i(h){return h&&h.__esModule?h:{default:h}}function c(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function l(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:h}function d(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}var u=function(h){d(v,h);function v(){return c(this,v),l(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"format",value:function(y,p){if(y!==this.statics.blotName||!p)return o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,y,p);p=this.constructor.sanitize(p),this.domNode.setAttribute("href",p)}}],[{key:"create",value:function(y){var p=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,y);return y=this.sanitize(y),p.setAttribute("href",y),p.setAttribute("rel","noopener noreferrer"),p.setAttribute("target","_blank"),p}},{key:"formats",value:function(y){return y.getAttribute("href")}},{key:"sanitize",value:function(y){return g(y,this.PROTOCOL_WHITELIST)?y:this.SANITIZED_URL}}]),v}(s.default);u.blotName="link",u.tagName="A",u.SANITIZED_URL="about:blank",u.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(h,v){var m=document.createElement("a");m.href=h;var y=m.href.slice(0,m.href.indexOf(":"));return v.indexOf(y)>-1}t.default=u,t.sanitize=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o=function(){function v(m,y){for(var p=0;p<y.length;p++){var f=y[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,y,p){return y&&v(m.prototype,y),p&&v(m,p),m}}(),n=r(23),s=l(n),i=r(107),c=l(i);function l(v){return v&&v.__esModule?v:{default:v}}function d(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}var u=0;function g(v,m){v.setAttribute(m,v.getAttribute(m)!=="true")}var h=function(){function v(m){var y=this;d(this,v),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){y.togglePicker()}),this.label.addEventListener("keydown",function(p){switch(p.keyCode){case s.default.keys.ENTER:y.togglePicker();break;case s.default.keys.ESCAPE:y.escape(),p.preventDefault();break;default:}}),this.select.addEventListener("change",this.update.bind(this))}return o(v,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(y){var p=this,f=document.createElement("span");return f.tabIndex="0",f.setAttribute("role","button"),f.classList.add("ql-picker-item"),y.hasAttribute("value")&&f.setAttribute("data-value",y.getAttribute("value")),y.textContent&&f.setAttribute("data-label",y.textContent),f.addEventListener("click",function(){p.selectItem(f,!0)}),f.addEventListener("keydown",function(x){switch(x.keyCode){case s.default.keys.ENTER:p.selectItem(f,!0),x.preventDefault();break;case s.default.keys.ESCAPE:p.escape(),x.preventDefault();break;default:}}),f}},{key:"buildLabel",value:function(){var y=document.createElement("span");return y.classList.add("ql-picker-label"),y.innerHTML=c.default,y.tabIndex="0",y.setAttribute("role","button"),y.setAttribute("aria-expanded","false"),this.container.appendChild(y),y}},{key:"buildOptions",value:function(){var y=this,p=document.createElement("span");p.classList.add("ql-picker-options"),p.setAttribute("aria-hidden","true"),p.tabIndex="-1",p.id="ql-picker-options-"+u,u+=1,this.label.setAttribute("aria-controls",p.id),this.options=p,[].slice.call(this.select.options).forEach(function(f){var x=y.buildItem(f);p.appendChild(x),f.selected===!0&&y.selectItem(x)}),this.container.appendChild(p)}},{key:"buildPicker",value:function(){var y=this;[].slice.call(this.select.attributes).forEach(function(p){y.container.setAttribute(p.name,p.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var y=this;this.close(),setTimeout(function(){return y.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(y){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=this.container.querySelector(".ql-selected");if(y!==f&&(f?.classList.remove("ql-selected"),y!=null&&(y.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(y.parentNode.children,y),y.hasAttribute("data-value")?this.label.setAttribute("data-value",y.getAttribute("data-value")):this.label.removeAttribute("data-value"),y.hasAttribute("data-label")?this.label.setAttribute("data-label",y.getAttribute("data-label")):this.label.removeAttribute("data-label"),p))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var x=document.createEvent("Event");x.initEvent("change",!0,!0),this.select.dispatchEvent(x)}this.close()}}},{key:"update",value:function(){var y=void 0;if(this.select.selectedIndex>-1){var p=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];y=this.select.options[this.select.selectedIndex],this.selectItem(p)}else this.selectItem(null);var f=y!=null&&y!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",f)}}]),v}();t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),o=P(a),n=r(5),s=P(n),i=r(4),c=P(i),l=r(16),d=P(l),u=r(25),g=P(u),h=r(24),v=P(h),m=r(35),y=P(m),p=r(6),f=P(p),x=r(22),b=P(x),w=r(7),N=P(w),I=r(55),C=P(I),S=r(42),k=P(S),E=r(23),L=P(E);function P(j){return j&&j.__esModule?j:{default:j}}s.default.register({"blots/block":c.default,"blots/block/embed":i.BlockEmbed,"blots/break":d.default,"blots/container":g.default,"blots/cursor":v.default,"blots/embed":y.default,"blots/inline":f.default,"blots/scroll":b.default,"blots/text":N.default,"modules/clipboard":C.default,"modules/history":k.default,"modules/keyboard":L.default}),o.default.register(c.default,d.default,v.default,f.default,b.default,N.default),t.default=s.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),o=function(){function n(s){this.domNode=s,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(n.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),n.create=function(s){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var i;return Array.isArray(this.tagName)?(typeof s=="string"&&(s=s.toUpperCase(),parseInt(s).toString()===s&&(s=parseInt(s))),typeof s=="number"?i=document.createElement(this.tagName[s-1]):this.tagName.indexOf(s)>-1?i=document.createElement(s):i=document.createElement(this.tagName[0])):i=document.createElement(this.tagName),this.className&&i.classList.add(this.className),i},n.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},n.prototype.clone=function(){var s=this.domNode.cloneNode(!1);return a.create(s)},n.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},n.prototype.deleteAt=function(s,i){var c=this.isolate(s,i);c.remove()},n.prototype.formatAt=function(s,i,c,l){var d=this.isolate(s,i);if(a.query(c,a.Scope.BLOT)!=null&&l)d.wrap(c,l);else if(a.query(c,a.Scope.ATTRIBUTE)!=null){var u=a.create(this.statics.scope);d.wrap(u),u.format(c,l)}},n.prototype.insertAt=function(s,i,c){var l=c==null?a.create("text",i):a.create(i,c),d=this.split(s);this.parent.insertBefore(l,d)},n.prototype.insertInto=function(s,i){i===void 0&&(i=null),this.parent!=null&&this.parent.children.remove(this);var c=null;s.children.insertBefore(this,i),i!=null&&(c=i.domNode),(this.domNode.parentNode!=s.domNode||this.domNode.nextSibling!=c)&&s.domNode.insertBefore(this.domNode,c),this.parent=s,this.attach()},n.prototype.isolate=function(s,i){var c=this.split(s);return c.split(i),c},n.prototype.length=function(){return 1},n.prototype.offset=function(s){return s===void 0&&(s=this.parent),this.parent==null||this==s?0:this.parent.children.offset(this)+this.parent.offset(s)},n.prototype.optimize=function(s){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},n.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},n.prototype.replace=function(s){s.parent!=null&&(s.parent.insertBefore(this,s.next),s.remove())},n.prototype.replaceWith=function(s,i){var c=typeof s=="string"?a.create(s,i):s;return c.replace(this),c},n.prototype.split=function(s,i){return s===0?this:this.next},n.prototype.update=function(s,i){},n.prototype.wrap=function(s,i){var c=typeof s=="string"?a.create(s,i):s;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},n.blotName="abstract",n}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(12),o=r(32),n=r(33),s=r(1),i=function(){function c(l){this.attributes={},this.domNode=l,this.build()}return c.prototype.attribute=function(l,d){d?l.add(this.domNode,d)&&(l.value(this.domNode)!=null?this.attributes[l.attrName]=l:delete this.attributes[l.attrName]):(l.remove(this.domNode),delete this.attributes[l.attrName])},c.prototype.build=function(){var l=this;this.attributes={};var d=a.default.keys(this.domNode),u=o.default.keys(this.domNode),g=n.default.keys(this.domNode);d.concat(u).concat(g).forEach(function(h){var v=s.query(h,s.Scope.ATTRIBUTE);v instanceof a.default&&(l.attributes[v.attrName]=v)})},c.prototype.copy=function(l){var d=this;Object.keys(this.attributes).forEach(function(u){var g=d.attributes[u].value(d.domNode);l.format(u,g)})},c.prototype.move=function(l){var d=this;this.copy(l),Object.keys(this.attributes).forEach(function(u){d.attributes[u].remove(d.domNode)}),this.attributes={}},c.prototype.values=function(){var l=this;return Object.keys(this.attributes).reduce(function(d,u){return d[u]=l.attributes[u].value(l.domNode),d},{})},c}();t.default=i},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var d in l)l.hasOwnProperty(d)&&(c[d]=l[d])};return function(c,l){i(c,l);function d(){this.constructor=c}c.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(12);function n(i,c){var l=i.getAttribute("class")||"";return l.split(/\s+/).filter(function(d){return d.indexOf(c+"-")===0})}var s=function(i){a(c,i);function c(){return i!==null&&i.apply(this,arguments)||this}return c.keys=function(l){return(l.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},c.prototype.add=function(l,d){return this.canAdd(l,d)?(this.remove(l),l.classList.add(this.keyName+"-"+d),!0):!1},c.prototype.remove=function(l){var d=n(l,this.keyName);d.forEach(function(u){l.classList.remove(u)}),l.classList.length===0&&l.removeAttribute("class")},c.prototype.value=function(l){var d=n(l,this.keyName)[0]||"",u=d.slice(this.keyName.length+1);return this.canAdd(l,u)?u:""},c}(o.default);t.default=s},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var d in l)l.hasOwnProperty(d)&&(c[d]=l[d])};return function(c,l){i(c,l);function d(){this.constructor=c}c.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(12);function n(i){var c=i.split("-"),l=c.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return c[0]+l}var s=function(i){a(c,i);function c(){return i!==null&&i.apply(this,arguments)||this}return c.keys=function(l){return(l.getAttribute("style")||"").split(";").map(function(d){var u=d.split(":");return u[0].trim()})},c.prototype.add=function(l,d){return this.canAdd(l,d)?(l.style[n(this.keyName)]=d,!0):!1},c.prototype.remove=function(l){l.style[n(this.keyName)]="",l.getAttribute("style")||l.removeAttribute("style")},c.prototype.value=function(l){var d=l.style[n(this.keyName)];return this.canAdd(l,d)?d:""},c}(o.default);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function s(i,c){for(var l=0;l<c.length;l++){var d=c[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(i,d.key,d)}}return function(i,c,l){return c&&s(i.prototype,c),l&&s(i,l),i}}();function o(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}var n=function(){function s(i,c){o(this,s),this.quill=i,this.options=c,this.modules={}}return a(s,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(l){c.modules[l]==null&&c.addModule(l)})}},{key:"addModule",value:function(c){var l=this.quill.constructor.import("modules/"+c);return this.modules[c]=new l(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),s}();n.DEFAULTS={modules:{}},n.themes={default:n},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function m(y,p){for(var f=0;f<p.length;f++){var x=p[f];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,p,f){return p&&m(y.prototype,p),f&&m(y,f),y}}(),o=function m(y,p,f){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,p);if(x===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:m(b,p,f)}else{if("value"in x)return x.value;var w=x.get;return w===void 0?void 0:w.call(f)}},n=r(0),s=l(n),i=r(7),c=l(i);function l(m){return m&&m.__esModule?m:{default:m}}function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function u(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function g(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h="\uFEFF",v=function(m){g(y,m);function y(p){d(this,y);var f=u(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,p));return f.contentNode=document.createElement("span"),f.contentNode.setAttribute("contenteditable",!1),[].slice.call(f.domNode.childNodes).forEach(function(x){f.contentNode.appendChild(x)}),f.leftGuard=document.createTextNode(h),f.rightGuard=document.createTextNode(h),f.domNode.appendChild(f.leftGuard),f.domNode.appendChild(f.contentNode),f.domNode.appendChild(f.rightGuard),f}return a(y,[{key:"index",value:function(f,x){return f===this.leftGuard?0:f===this.rightGuard?1:o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,f,x)}},{key:"restore",value:function(f){var x=void 0,b=void 0,w=f.data.split(h).join("");if(f===this.leftGuard)if(this.prev instanceof c.default){var N=this.prev.length();this.prev.insertAt(N,w),x={startNode:this.prev.domNode,startOffset:N+w.length}}else b=document.createTextNode(w),this.parent.insertBefore(s.default.create(b),this),x={startNode:b,startOffset:w.length};else f===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,w),x={startNode:this.next.domNode,startOffset:w.length}):(b=document.createTextNode(w),this.parent.insertBefore(s.default.create(b),this.next),x={startNode:b,startOffset:w.length}));return f.data=h,x}},{key:"update",value:function(f,x){var b=this;f.forEach(function(w){if(w.type==="characterData"&&(w.target===b.leftGuard||w.target===b.rightGuard)){var N=b.restore(w.target);N&&(x.range=N)}})}}]),y}(s.default.Embed);t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var a=r(0),o=n(a);function n(d){return d&&d.__esModule?d:{default:d}}var s={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},i=new o.default.Attributor.Attribute("align","align",s),c=new o.default.Attributor.Class("align","ql-align",s),l=new o.default.Attributor.Style("align","text-align",s);t.AlignAttribute=i,t.AlignClass=c,t.AlignStyle=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var a=r(0),o=s(a),n=r(26);function s(l){return l&&l.__esModule?l:{default:l}}var i=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new n.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});t.BackgroundClass=i,t.BackgroundStyle=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var a=r(0),o=n(a);function n(d){return d&&d.__esModule?d:{default:d}}var s={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},i=new o.default.Attributor.Attribute("direction","dir",s),c=new o.default.Attributor.Class("direction","ql-direction",s),l=new o.default.Attributor.Style("direction","direction",s);t.DirectionAttribute=i,t.DirectionClass=c,t.DirectionStyle=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var a=function(){function m(y,p){for(var f=0;f<p.length;f++){var x=p[f];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,p,f){return p&&m(y.prototype,p),f&&m(y,f),y}}(),o=function m(y,p,f){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,p);if(x===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:m(b,p,f)}else{if("value"in x)return x.value;var w=x.get;return w===void 0?void 0:w.call(f)}},n=r(0),s=i(n);function i(m){return m&&m.__esModule?m:{default:m}}function c(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function l(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var u={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new s.default.Attributor.Class("font","ql-font",u),h=function(m){d(y,m);function y(){return c(this,y),l(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"value",value:function(f){return o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,f).replace(/["']/g,"")}}]),y}(s.default.Attributor.Style),v=new h("font","font-family",u);t.FontStyle=v,t.FontClass=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var a=r(0),o=n(a);function n(c){return c&&c.__esModule?c:{default:c}}var s=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),i=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=s,t.SizeStyle=i},function(e,t,r){"use strict";e.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var a=function(){function p(f,x){for(var b=0;b<x.length;b++){var w=x[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}return function(f,x,b){return x&&p(f.prototype,x),b&&p(f,b),f}}(),o=r(0),n=d(o),s=r(5),i=d(s),c=r(9),l=d(c);function d(p){return p&&p.__esModule?p:{default:p}}function u(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}function g(p,f){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:p}function h(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}var v=function(p){h(f,p);function f(x,b){u(this,f);var w=g(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,x,b));return w.lastRecorded=0,w.ignoreChange=!1,w.clear(),w.quill.on(i.default.events.EDITOR_CHANGE,function(N,I,C,S){N!==i.default.events.TEXT_CHANGE||w.ignoreChange||(!w.options.userOnly||S===i.default.sources.USER?w.record(I,C):w.transform(I))}),w.quill.keyboard.addBinding({key:"Z",shortKey:!0},w.undo.bind(w)),w.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},w.redo.bind(w)),/Win/i.test(navigator.platform)&&w.quill.keyboard.addBinding({key:"Y",shortKey:!0},w.redo.bind(w)),w}return a(f,[{key:"change",value:function(b,w){if(this.stack[b].length!==0){var N=this.stack[b].pop();this.stack[w].push(N),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(N[b],i.default.sources.USER),this.ignoreChange=!1;var I=y(N[b]);this.quill.setSelection(I)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(b,w){if(b.ops.length!==0){this.stack.redo=[];var N=this.quill.getContents().diff(w),I=Date.now();if(this.lastRecorded+this.options.delay>I&&this.stack.undo.length>0){var C=this.stack.undo.pop();N=N.compose(C.undo),b=C.redo.compose(b)}else this.lastRecorded=I;this.stack.undo.push({redo:b,undo:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(b){this.stack.undo.forEach(function(w){w.undo=b.transform(w.undo,!0),w.redo=b.transform(w.redo,!0)}),this.stack.redo.forEach(function(w){w.undo=b.transform(w.undo,!0),w.redo=b.transform(w.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),f}(l.default);v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(p){var f=p.ops[p.ops.length-1];return f==null?!1:f.insert!=null?typeof f.insert=="string"&&f.insert.endsWith(`
`):f.attributes!=null?Object.keys(f.attributes).some(function(x){return n.default.query(x,n.default.Scope.BLOCK)!=null}):!1}function y(p){var f=p.reduce(function(b,w){return b+=w.delete||0,b},0),x=p.length()-f;return m(p)&&(x-=1),x}t.default=v,t.getLastChangeIndex=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var a=function(){function B(F,T){for(var U=0;U<T.length;U++){var O=T[U];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(F,O.key,O)}}return function(F,T,U){return T&&B(F.prototype,T),U&&B(F,U),F}}(),o=function B(F,T,U){F===null&&(F=Function.prototype);var O=Object.getOwnPropertyDescriptor(F,T);if(O===void 0){var z=Object.getPrototypeOf(F);return z===null?void 0:B(z,T,U)}else{if("value"in O)return O.value;var X=O.get;return X===void 0?void 0:X.call(U)}},n=r(3),s=I(n),i=r(2),c=I(i),l=r(8),d=I(l),u=r(23),g=I(u),h=r(34),v=I(h),m=r(59),y=I(m),p=r(60),f=I(p),x=r(28),b=I(x),w=r(61),N=I(w);function I(B){return B&&B.__esModule?B:{default:B}}function C(B,F){if(!(B instanceof F))throw new TypeError("Cannot call a class as a function")}function S(B,F){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:B}function k(B,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);B.prototype=Object.create(F&&F.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(B,F):B.__proto__=F)}var E=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],P=[!1,"serif","monospace"],j=["1","2","3",!1],M=["small",!1,"large","huge"],q=function(B){k(F,B);function F(T,U){C(this,F);var O=S(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,T,U)),z=function X(J){if(!document.body.contains(T.root))return document.body.removeEventListener("click",X);O.tooltip!=null&&!O.tooltip.root.contains(J.target)&&document.activeElement!==O.tooltip.textbox&&!O.quill.hasFocus()&&O.tooltip.hide(),O.pickers!=null&&O.pickers.forEach(function(K){K.container.contains(J.target)||K.close()})};return T.emitter.listenDOM("click",document.body,z),O}return a(F,[{key:"addModule",value:function(U){var O=o(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"addModule",this).call(this,U);return U==="toolbar"&&this.extendToolbar(O),O}},{key:"buildButtons",value:function(U,O){U.forEach(function(z){var X=z.getAttribute("class")||"";X.split(/\s+/).forEach(function(J){if(J.startsWith("ql-")&&(J=J.slice(3),O[J]!=null))if(J==="direction")z.innerHTML=O[J][""]+O[J].rtl;else if(typeof O[J]=="string")z.innerHTML=O[J];else{var K=z.value||"";K!=null&&O[J][K]&&(z.innerHTML=O[J][K])}})})}},{key:"buildPickers",value:function(U,O){var z=this;this.pickers=U.map(function(J){if(J.classList.contains("ql-align"))return J.querySelector("option")==null&&A(J,E),new f.default(J,O.align);if(J.classList.contains("ql-background")||J.classList.contains("ql-color")){var K=J.classList.contains("ql-background")?"background":"color";return J.querySelector("option")==null&&A(J,L,K==="background"?"#ffffff":"#000000"),new y.default(J,O[K])}else return J.querySelector("option")==null&&(J.classList.contains("ql-font")?A(J,P):J.classList.contains("ql-header")?A(J,j):J.classList.contains("ql-size")&&A(J,M)),new b.default(J)});var X=function(){z.pickers.forEach(function(K){K.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,X)}}]),F}(v.default);q.DEFAULTS=(0,s.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var F=this,T=this.container.querySelector("input.ql-image[type=file]");T==null&&(T=document.createElement("input"),T.setAttribute("type","file"),T.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),T.classList.add("ql-image"),T.addEventListener("change",function(){if(T.files!=null&&T.files[0]!=null){var U=new FileReader;U.onload=function(O){var z=F.quill.getSelection(!0);F.quill.updateContents(new c.default().retain(z.index).delete(z.length).insert({image:O.target.result}),d.default.sources.USER),F.quill.setSelection(z.index+1,d.default.sources.SILENT),T.value=""},U.readAsDataURL(T.files[0])}}),this.container.appendChild(T)),T.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var R=function(B){k(F,B);function F(T,U){C(this,F);var O=S(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,T,U));return O.textbox=O.root.querySelector('input[type="text"]'),O.listen(),O}return a(F,[{key:"listen",value:function(){var U=this;this.textbox.addEventListener("keydown",function(O){g.default.match(O,"enter")?(U.save(),O.preventDefault()):g.default.match(O,"escape")&&(U.cancel(),O.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),O!=null?this.textbox.value=O:U!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+U)||""),this.root.setAttribute("data-mode",U)}},{key:"restoreFocus",value:function(){var U=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=U}},{key:"save",value:function(){var U=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var O=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",U,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",U,d.default.sources.USER)),this.quill.root.scrollTop=O;break}case"video":U=D(U);case"formula":{if(!U)break;var z=this.quill.getSelection(!0);if(z!=null){var X=z.index+z.length;this.quill.insertEmbed(X,this.root.getAttribute("data-mode"),U,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(X+1," ",d.default.sources.USER),this.quill.setSelection(X+2,d.default.sources.USER)}break}default:}this.textbox.value="",this.hide()}}]),F}(N.default);function D(B){var F=B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return F?(F[1]||"https")+"://www.youtube.com/embed/"+F[2]+"?showinfo=0":(F=B.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(F[1]||"https")+"://player.vimeo.com/video/"+F[2]+"/":B}function A(B,F){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;F.forEach(function(U){var O=document.createElement("option");U===T?O.setAttribute("selected","selected"):O.setAttribute("value",U),B.appendChild(O)})}t.BaseTooltip=R,t.default=q},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];this.insertBefore(n[0],null),n.length>1&&this.append.apply(this,n.slice(1))},o.prototype.contains=function(n){for(var s,i=this.iterator();s=i();)if(s===n)return!0;return!1},o.prototype.insertBefore=function(n,s){n&&(n.next=s,s!=null?(n.prev=s.prev,s.prev!=null&&(s.prev.next=n),s.prev=n,s===this.head&&(this.head=n)):this.tail!=null?(this.tail.next=n,n.prev=this.tail,this.tail=n):(n.prev=null,this.head=this.tail=n),this.length+=1)},o.prototype.offset=function(n){for(var s=0,i=this.head;i!=null;){if(i===n)return s;s+=i.length(),i=i.next}return-1},o.prototype.remove=function(n){this.contains(n)&&(n.prev!=null&&(n.prev.next=n.next),n.next!=null&&(n.next.prev=n.prev),n===this.head&&(this.head=n.next),n===this.tail&&(this.tail=n.prev),this.length-=1)},o.prototype.iterator=function(n){return n===void 0&&(n=this.head),function(){var s=n;return n!=null&&(n=n.next),s}},o.prototype.find=function(n,s){s===void 0&&(s=!1);for(var i,c=this.iterator();i=c();){var l=i.length();if(n<l||s&&n===l&&(i.next==null||i.next.length()!==0))return[i,n];n-=l}return[null,0]},o.prototype.forEach=function(n){for(var s,i=this.iterator();s=i();)n(s)},o.prototype.forEachAt=function(n,s,i){if(!(s<=0))for(var c=this.find(n),l=c[0],d=c[1],u,g=n-d,h=this.iterator(l);(u=h())&&g<n+s;){var v=u.length();n>g?i(u,n-g,Math.min(s,g+v-n)):i(u,0,Math.min(v,n+s-g)),g+=v}},o.prototype.map=function(n){return this.reduce(function(s,i){return s.push(n(i)),s},[])},o.prototype.reduce=function(n,s){for(var i,c=this.iterator();i=c();)s=n(s,i);return s},o}();t.default=a},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var g in u)u.hasOwnProperty(g)&&(d[g]=u[g])};return function(d,u){l(d,u);function g(){this.constructor=d}d.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(17),n=r(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},i=100,c=function(l){a(d,l);function d(u){var g=l.call(this,u)||this;return g.scroll=g,g.observer=new MutationObserver(function(h){g.update(h)}),g.observer.observe(g.domNode,s),g.attach(),g}return d.prototype.detach=function(){l.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(u,g){this.update(),u===0&&g===this.length()?this.children.forEach(function(h){h.remove()}):l.prototype.deleteAt.call(this,u,g)},d.prototype.formatAt=function(u,g,h,v){this.update(),l.prototype.formatAt.call(this,u,g,h,v)},d.prototype.insertAt=function(u,g,h){this.update(),l.prototype.insertAt.call(this,u,g,h)},d.prototype.optimize=function(u,g){var h=this;u===void 0&&(u=[]),g===void 0&&(g={}),l.prototype.optimize.call(this,g);for(var v=[].slice.call(this.observer.takeRecords());v.length>0;)u.push(v.pop());for(var m=function(x,b){b===void 0&&(b=!0),!(x==null||x===h)&&x.domNode.parentNode!=null&&(x.domNode[n.DATA_KEY].mutations==null&&(x.domNode[n.DATA_KEY].mutations=[]),b&&m(x.parent))},y=function(x){x.domNode[n.DATA_KEY]==null||x.domNode[n.DATA_KEY].mutations==null||(x instanceof o.default&&x.children.forEach(y),x.optimize(g))},p=u,f=0;p.length>0;f+=1){if(f>=i)throw new Error("[Parchment] Maximum optimize iterations reached");for(p.forEach(function(x){var b=n.find(x.target,!0);b!=null&&(b.domNode===x.target&&(x.type==="childList"?(m(n.find(x.previousSibling,!1)),[].forEach.call(x.addedNodes,function(w){var N=n.find(w,!1);m(N,!1),N instanceof o.default&&N.children.forEach(function(I){m(I,!1)})})):x.type==="attributes"&&m(b.prev)),m(b))}),this.children.forEach(y),p=[].slice.call(this.observer.takeRecords()),v=p.slice();v.length>0;)u.push(v.pop())}},d.prototype.update=function(u,g){var h=this;g===void 0&&(g={}),u=u||this.observer.takeRecords(),u.map(function(v){var m=n.find(v.target,!0);return m==null?null:m.domNode[n.DATA_KEY].mutations==null?(m.domNode[n.DATA_KEY].mutations=[v],m):(m.domNode[n.DATA_KEY].mutations.push(v),null)}).forEach(function(v){v==null||v===h||v.domNode[n.DATA_KEY]==null||v.update(v.domNode[n.DATA_KEY].mutations||[],g)}),this.domNode[n.DATA_KEY].mutations!=null&&l.prototype.update.call(this,this.domNode[n.DATA_KEY].mutations,g),this.optimize(u,g)},d.blotName="scroll",d.defaultChild="block",d.scope=n.Scope.BLOCK_BLOT,d.tagName="DIV",d}(o.default);t.default=c},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var u in d)d.hasOwnProperty(u)&&(l[u]=d[u])};return function(l,d){c(l,d);function u(){this.constructor=l}l.prototype=d===null?Object.create(d):(u.prototype=d.prototype,new u)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(18),n=r(1);function s(c,l){if(Object.keys(c).length!==Object.keys(l).length)return!1;for(var d in c)if(c[d]!==l[d])return!1;return!0}var i=function(c){a(l,c);function l(){return c!==null&&c.apply(this,arguments)||this}return l.formats=function(d){if(d.tagName!==l.tagName)return c.formats.call(this,d)},l.prototype.format=function(d,u){var g=this;d===this.statics.blotName&&!u?(this.children.forEach(function(h){h instanceof o.default||(h=h.wrap(l.blotName,!0)),g.attributes.copy(h)}),this.unwrap()):c.prototype.format.call(this,d,u)},l.prototype.formatAt=function(d,u,g,h){if(this.formats()[g]!=null||n.query(g,n.Scope.ATTRIBUTE)){var v=this.isolate(d,u);v.format(g,h)}else c.prototype.formatAt.call(this,d,u,g,h)},l.prototype.optimize=function(d){c.prototype.optimize.call(this,d);var u=this.formats();if(Object.keys(u).length===0)return this.unwrap();var g=this.next;g instanceof l&&g.prev===this&&s(u,g.formats())&&(g.moveChildren(this),g.remove())},l.blotName="inline",l.scope=n.Scope.INLINE_BLOT,l.tagName="SPAN",l}(o.default);t.default=i},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var d in l)l.hasOwnProperty(d)&&(c[d]=l[d])};return function(c,l){i(c,l);function d(){this.constructor=c}c.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(18),n=r(1),s=function(i){a(c,i);function c(){return i!==null&&i.apply(this,arguments)||this}return c.formats=function(l){var d=n.query(c.blotName).tagName;if(l.tagName!==d)return i.formats.call(this,l)},c.prototype.format=function(l,d){n.query(l,n.Scope.BLOCK)!=null&&(l===this.statics.blotName&&!d?this.replaceWith(c.blotName):i.prototype.format.call(this,l,d))},c.prototype.formatAt=function(l,d,u,g){n.query(u,n.Scope.BLOCK)!=null?this.format(u,g):i.prototype.formatAt.call(this,l,d,u,g)},c.prototype.insertAt=function(l,d,u){if(u==null||n.query(d,n.Scope.INLINE)!=null)i.prototype.insertAt.call(this,l,d,u);else{var g=this.split(l),h=n.create(d,u);g.parent.insertBefore(h,g)}},c.prototype.update=function(l,d){navigator.userAgent.match(/Trident/)?this.build():i.prototype.update.call(this,l,d)},c.blotName="block",c.scope=n.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);t.default=s},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,c){i.__proto__=c}||function(i,c){for(var l in c)c.hasOwnProperty(l)&&(i[l]=c[l])};return function(i,c){s(i,c);function l(){this.constructor=i}i.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(19),n=function(s){a(i,s);function i(){return s!==null&&s.apply(this,arguments)||this}return i.formats=function(c){},i.prototype.format=function(c,l){s.prototype.formatAt.call(this,0,this.length(),c,l)},i.prototype.formatAt=function(c,l,d,u){c===0&&l===this.length()?this.format(d,u):s.prototype.formatAt.call(this,c,l,d,u)},i.prototype.formats=function(){return this.statics.formats(this.domNode)},i}(o.default);t.default=n},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var d in l)l.hasOwnProperty(d)&&(c[d]=l[d])};return function(c,l){i(c,l);function d(){this.constructor=c}c.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(19),n=r(1),s=function(i){a(c,i);function c(l){var d=i.call(this,l)||this;return d.text=d.statics.value(d.domNode),d}return c.create=function(l){return document.createTextNode(l)},c.value=function(l){var d=l.data;return d.normalize&&(d=d.normalize()),d},c.prototype.deleteAt=function(l,d){this.domNode.data=this.text=this.text.slice(0,l)+this.text.slice(l+d)},c.prototype.index=function(l,d){return this.domNode===l?d:-1},c.prototype.insertAt=function(l,d,u){u==null?(this.text=this.text.slice(0,l)+d+this.text.slice(l),this.domNode.data=this.text):i.prototype.insertAt.call(this,l,d,u)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(l){i.prototype.optimize.call(this,l),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(l,d){return d===void 0&&(d=!1),[this.domNode,l]},c.prototype.split=function(l,d){if(d===void 0&&(d=!1),!d){if(l===0)return this;if(l===this.length())return this.next}var u=n.create(this.domNode.splitText(l));return this.parent.insertBefore(u,this.next),this.text=this.statics.value(this.domNode),u},c.prototype.update=function(l,d){var u=this;l.some(function(g){return g.type==="characterData"&&g.target===u.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=n.Scope.INLINE_BLOT,c}(o.default);t.default=s},function(e,t,r){"use strict";var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(n,s){return arguments.length>1&&!this.contains(n)==!s?s:o.call(this,n)}}String.prototype.startsWith||(String.prototype.startsWith=function(n,s){return s=s||0,this.substr(s,n.length)===n}),String.prototype.endsWith||(String.prototype.endsWith=function(n,s){var i=this.toString();(typeof s!="number"||!isFinite(s)||Math.floor(s)!==s||s>i.length)&&(s=i.length),s-=n.length;var c=i.indexOf(n,s);return c!==-1&&c===s}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(s){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof s!="function")throw new TypeError("predicate must be a function");for(var i=Object(this),c=i.length>>>0,l=arguments[1],d,u=0;u<c;u++)if(d=i[u],s.call(l,d,u,i))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){var r=-1,a=1,o=0;function n(f,x,b){if(f==x)return f?[[o,f]]:[];(b<0||f.length<b)&&(b=null);var w=l(f,x),N=f.substring(0,w);f=f.substring(w),x=x.substring(w),w=d(f,x);var I=f.substring(f.length-w);f=f.substring(0,f.length-w),x=x.substring(0,x.length-w);var C=s(f,x);return N&&C.unshift([o,N]),I&&C.push([o,I]),g(C),b!=null&&(C=m(C,b)),C=y(C),C}function s(f,x){var b;if(!f)return[[a,x]];if(!x)return[[r,f]];var w=f.length>x.length?f:x,N=f.length>x.length?x:f,I=w.indexOf(N);if(I!=-1)return b=[[a,w.substring(0,I)],[o,N],[a,w.substring(I+N.length)]],f.length>x.length&&(b[0][0]=b[2][0]=r),b;if(N.length==1)return[[r,f],[a,x]];var C=u(f,x);if(C){var S=C[0],k=C[1],E=C[2],L=C[3],P=C[4],j=n(S,E),M=n(k,L);return j.concat([[o,P]],M)}return i(f,x)}function i(f,x){for(var b=f.length,w=x.length,N=Math.ceil((b+w)/2),I=N,C=2*N,S=new Array(C),k=new Array(C),E=0;E<C;E++)S[E]=-1,k[E]=-1;S[I+1]=0,k[I+1]=0;for(var L=b-w,P=L%2!=0,j=0,M=0,q=0,R=0,D=0;D<N;D++){for(var A=-D+j;A<=D-M;A+=2){var B=I+A,F;A==-D||A!=D&&S[B-1]<S[B+1]?F=S[B+1]:F=S[B-1]+1;for(var T=F-A;F<b&&T<w&&f.charAt(F)==x.charAt(T);)F++,T++;if(S[B]=F,F>b)M+=2;else if(T>w)j+=2;else if(P){var U=I+L-A;if(U>=0&&U<C&&k[U]!=-1){var O=b-k[U];if(F>=O)return c(f,x,F,T)}}}for(var z=-D+q;z<=D-R;z+=2){var U=I+z,O;z==-D||z!=D&&k[U-1]<k[U+1]?O=k[U+1]:O=k[U-1]+1;for(var X=O-z;O<b&&X<w&&f.charAt(b-O-1)==x.charAt(w-X-1);)O++,X++;if(k[U]=O,O>b)R+=2;else if(X>w)q+=2;else if(!P){var B=I+L-z;if(B>=0&&B<C&&S[B]!=-1){var F=S[B],T=I+F-B;if(O=b-O,F>=O)return c(f,x,F,T)}}}}return[[r,f],[a,x]]}function c(f,x,b,w){var N=f.substring(0,b),I=x.substring(0,w),C=f.substring(b),S=x.substring(w),k=n(N,I),E=n(C,S);return k.concat(E)}function l(f,x){if(!f||!x||f.charAt(0)!=x.charAt(0))return 0;for(var b=0,w=Math.min(f.length,x.length),N=w,I=0;b<N;)f.substring(I,N)==x.substring(I,N)?(b=N,I=b):w=N,N=Math.floor((w-b)/2+b);return N}function d(f,x){if(!f||!x||f.charAt(f.length-1)!=x.charAt(x.length-1))return 0;for(var b=0,w=Math.min(f.length,x.length),N=w,I=0;b<N;)f.substring(f.length-N,f.length-I)==x.substring(x.length-N,x.length-I)?(b=N,I=b):w=N,N=Math.floor((w-b)/2+b);return N}function u(f,x){var b=f.length>x.length?f:x,w=f.length>x.length?x:f;if(b.length<4||w.length*2<b.length)return null;function N(M,q,R){for(var D=M.substring(R,R+Math.floor(M.length/4)),A=-1,B="",F,T,U,O;(A=q.indexOf(D,A+1))!=-1;){var z=l(M.substring(R),q.substring(A)),X=d(M.substring(0,R),q.substring(0,A));B.length<X+z&&(B=q.substring(A-X,A)+q.substring(A,A+z),F=M.substring(0,R-X),T=M.substring(R+z),U=q.substring(0,A-X),O=q.substring(A+z))}return B.length*2>=M.length?[F,T,U,O,B]:null}var I=N(b,w,Math.ceil(b.length/4)),C=N(b,w,Math.ceil(b.length/2)),S;if(!I&&!C)return null;C?I?S=I[4].length>C[4].length?I:C:S=C:S=I;var k,E,L,P;f.length>x.length?(k=S[0],E=S[1],L=S[2],P=S[3]):(L=S[0],P=S[1],k=S[2],E=S[3]);var j=S[4];return[k,E,L,P,j]}function g(f){f.push([o,""]);for(var x=0,b=0,w=0,N="",I="",C;x<f.length;)switch(f[x][0]){case a:w++,I+=f[x][1],x++;break;case r:b++,N+=f[x][1],x++;break;case o:b+w>1?(b!==0&&w!==0&&(C=l(I,N),C!==0&&(x-b-w>0&&f[x-b-w-1][0]==o?f[x-b-w-1][1]+=I.substring(0,C):(f.splice(0,0,[o,I.substring(0,C)]),x++),I=I.substring(C),N=N.substring(C)),C=d(I,N),C!==0&&(f[x][1]=I.substring(I.length-C)+f[x][1],I=I.substring(0,I.length-C),N=N.substring(0,N.length-C))),b===0?f.splice(x-w,b+w,[a,I]):w===0?f.splice(x-b,b+w,[r,N]):f.splice(x-b-w,b+w,[r,N],[a,I]),x=x-b-w+(b?1:0)+(w?1:0)+1):x!==0&&f[x-1][0]==o?(f[x-1][1]+=f[x][1],f.splice(x,1)):x++,w=0,b=0,N="",I="";break}f[f.length-1][1]===""&&f.pop();var S=!1;for(x=1;x<f.length-1;)f[x-1][0]==o&&f[x+1][0]==o&&(f[x][1].substring(f[x][1].length-f[x-1][1].length)==f[x-1][1]?(f[x][1]=f[x-1][1]+f[x][1].substring(0,f[x][1].length-f[x-1][1].length),f[x+1][1]=f[x-1][1]+f[x+1][1],f.splice(x-1,1),S=!0):f[x][1].substring(0,f[x+1][1].length)==f[x+1][1]&&(f[x-1][1]+=f[x+1][1],f[x][1]=f[x][1].substring(f[x+1][1].length)+f[x+1][1],f.splice(x+1,1),S=!0)),x++;S&&g(f)}var h=n;h.INSERT=a,h.DELETE=r,h.EQUAL=o,e.exports=h;function v(f,x){if(x===0)return[o,f];for(var b=0,w=0;w<f.length;w++){var N=f[w];if(N[0]===r||N[0]===o){var I=b+N[1].length;if(x===I)return[w+1,f];if(x<I){f=f.slice();var C=x-b,S=[N[0],N[1].slice(0,C)],k=[N[0],N[1].slice(C)];return f.splice(w,1,S,k),[w+1,f]}else b=I}}throw new Error("cursor_pos is out of bounds!")}function m(f,x){var b=v(f,x),w=b[1],N=b[0],I=w[N],C=w[N+1];if(I==null)return f;if(I[0]!==o)return f;if(C!=null&&I[1]+C[1]===C[1]+I[1])return w.splice(N,2,C,I),p(w,N,2);if(C!=null&&C[1].indexOf(I[1])===0){w.splice(N,2,[C[0],I[1]],[0,I[1]]);var S=C[1].slice(I[1].length);return S.length>0&&w.splice(N+2,0,[C[0],S]),p(w,N,3)}else return f}function y(f){for(var x=!1,b=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},w=function(C){return C.charCodeAt(C.length-1)>=55296&&C.charCodeAt(C.length-1)<=56319},N=2;N<f.length;N+=1)f[N-2][0]===o&&w(f[N-2][1])&&f[N-1][0]===r&&b(f[N-1][1])&&f[N][0]===a&&b(f[N][1])&&(x=!0,f[N-1][1]=f[N-2][1].slice(-1)+f[N-1][1],f[N][1]=f[N-2][1].slice(-1)+f[N][1],f[N-2][1]=f[N-2][1].slice(0,-1));if(!x)return f;for(var I=[],N=0;N<f.length;N+=1)f[N][1].length>0&&I.push(f[N]);return I}function p(f,x,b){for(var w=x+b-1;w>=0&&w>=x-1;w--)if(w+1<f.length){var N=f[w],I=f[w+1];N[0]===I[1]&&f.splice(w,2,[N[0],N[1]+I[1]])}return f}},function(e,t){t=e.exports=typeof Object.keys=="function"?Object.keys:r,t.shim=r;function r(a){var o=[];for(var n in a)o.push(n);return o}},function(e,t){var r=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";t=e.exports=r?a:o,t.supported=a;function a(n){return Object.prototype.toString.call(n)=="[object Arguments]"}t.unsupported=o;function o(n){return n&&typeof n=="object"&&typeof n.length=="number"&&Object.prototype.hasOwnProperty.call(n,"callee")&&!Object.prototype.propertyIsEnumerable.call(n,"callee")||!1}},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function n(i,c,l){this.fn=i,this.context=c,this.once=l||!1}function s(){this._events=new o,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],l,d;if(this._eventsCount===0)return c;for(d in l=this._events)r.call(l,d)&&c.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(l)):c},s.prototype.listeners=function(c,l){var d=a?a+c:c,u=this._events[d];if(l)return!!u;if(!u)return[];if(u.fn)return[u.fn];for(var g=0,h=u.length,v=new Array(h);g<h;g++)v[g]=u[g].fn;return v},s.prototype.emit=function(c,l,d,u,g,h){var v=a?a+c:c;if(!this._events[v])return!1;var m=this._events[v],y=arguments.length,p,f;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),y){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,l),!0;case 3:return m.fn.call(m.context,l,d),!0;case 4:return m.fn.call(m.context,l,d,u),!0;case 5:return m.fn.call(m.context,l,d,u,g),!0;case 6:return m.fn.call(m.context,l,d,u,g,h),!0}for(f=1,p=new Array(y-1);f<y;f++)p[f-1]=arguments[f];m.fn.apply(m.context,p)}else{var x=m.length,b;for(f=0;f<x;f++)switch(m[f].once&&this.removeListener(c,m[f].fn,void 0,!0),y){case 1:m[f].fn.call(m[f].context);break;case 2:m[f].fn.call(m[f].context,l);break;case 3:m[f].fn.call(m[f].context,l,d);break;case 4:m[f].fn.call(m[f].context,l,d,u);break;default:if(!p)for(b=1,p=new Array(y-1);b<y;b++)p[b-1]=arguments[b];m[f].fn.apply(m[f].context,p)}}return!0},s.prototype.on=function(c,l,d){var u=new n(l,d||this),g=a?a+c:c;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],u]:this._events[g].push(u):(this._events[g]=u,this._eventsCount++),this},s.prototype.once=function(c,l,d){var u=new n(l,d||this,!0),g=a?a+c:c;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],u]:this._events[g].push(u):(this._events[g]=u,this._eventsCount++),this},s.prototype.removeListener=function(c,l,d,u){var g=a?a+c:c;if(!this._events[g])return this;if(!l)return--this._eventsCount===0?this._events=new o:delete this._events[g],this;var h=this._events[g];if(h.fn)h.fn===l&&(!u||h.once)&&(!d||h.context===d)&&(--this._eventsCount===0?this._events=new o:delete this._events[g]);else{for(var v=0,m=[],y=h.length;v<y;v++)(h[v].fn!==l||u&&!h[v].once||d&&h[v].context!==d)&&m.push(h[v]);m.length?this._events[g]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new o:delete this._events[g]}return this},s.prototype.removeAllListeners=function(c){var l;return c?(l=a?a+c:c,this._events[l]&&(--this._eventsCount===0?this._events=new o:delete this._events[l])):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=a,s.EventEmitter=s,typeof e<"u"&&(e.exports=s)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},o=function(){function ne(de,Re){var Be=[],xe=!0,Et=!1,ft=void 0;try{for(var Lt=de[Symbol.iterator](),ze;!(xe=(ze=Lt.next()).done)&&(Be.push(ze.value),!(Re&&Be.length===Re));xe=!0);}catch(Le){Et=!0,ft=Le}finally{try{!xe&&Lt.return&&Lt.return()}finally{if(Et)throw ft}}return Be}return function(de,Re){if(Array.isArray(de))return de;if(Symbol.iterator in Object(de))return ne(de,Re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(){function ne(de,Re){for(var Be=0;Be<Re.length;Be++){var xe=Re[Be];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(de,xe.key,xe)}}return function(de,Re,Be){return Re&&ne(de.prototype,Re),Be&&ne(de,Be),de}}(),s=r(3),i=k(s),c=r(2),l=k(c),d=r(0),u=k(d),g=r(5),h=k(g),v=r(10),m=k(v),y=r(9),p=k(y),f=r(36),x=r(37),b=r(13),w=k(b),N=r(26),I=r(38),C=r(39),S=r(40);function k(ne){return ne&&ne.__esModule?ne:{default:ne}}function E(ne,de,Re){return de in ne?Object.defineProperty(ne,de,{value:Re,enumerable:!0,configurable:!0,writable:!0}):ne[de]=Re,ne}function L(ne,de){if(!(ne instanceof de))throw new TypeError("Cannot call a class as a function")}function P(ne,de){if(!ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de&&(typeof de=="object"||typeof de=="function")?de:ne}function j(ne,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof de);ne.prototype=Object.create(de&&de.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(ne,de):ne.__proto__=de)}var M=(0,m.default)("quill:clipboard"),q="__ql-matcher",R=[[Node.TEXT_NODE,Te],[Node.TEXT_NODE,qe],["br",ue],[Node.ELEMENT_NODE,qe],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,re],["li",tt],["b",X.bind(X,"bold")],["i",X.bind(X,"italic")],["style",ve]],D=[f.AlignAttribute,I.DirectionAttribute].reduce(function(ne,de){return ne[de.keyName]=de,ne},{}),A=[f.AlignStyle,x.BackgroundStyle,N.ColorStyle,I.DirectionStyle,C.FontStyle,S.SizeStyle].reduce(function(ne,de){return ne[de.keyName]=de,ne},{}),B=function(ne){j(de,ne);function de(Re,Be){L(this,de);var xe=P(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,Re,Be));return xe.quill.root.addEventListener("paste",xe.onPaste.bind(xe)),xe.container=xe.quill.addContainer("ql-clipboard"),xe.container.setAttribute("contenteditable",!0),xe.container.setAttribute("tabindex",-1),xe.matchers=[],R.concat(xe.options.matchers).forEach(function(Et){var ft=o(Et,2),Lt=ft[0],ze=ft[1];!Be.matchVisual&&ze===pe||xe.addMatcher(Lt,ze)}),xe}return n(de,[{key:"addMatcher",value:function(Be,xe){this.matchers.push([Be,xe])}},{key:"convert",value:function(Be){if(typeof Be=="string")return this.container.innerHTML=Be.replace(/\>\r?\n +\</g,"><"),this.convert();var xe=this.quill.getFormat(this.quill.selection.savedRange.index);if(xe[w.default.blotName]){var Et=this.container.innerText;return this.container.innerHTML="",new l.default().insert(Et,E({},w.default.blotName,xe[w.default.blotName]))}var ft=this.prepareMatching(),Lt=o(ft,2),ze=Lt[0],Le=Lt[1],Qe=z(this.container,ze,Le);return U(Qe,`
`)&&Qe.ops[Qe.ops.length-1].attributes==null&&(Qe=Qe.compose(new l.default().retain(Qe.length()-1).delete(1))),M.log("convert",this.container.innerHTML,Qe),this.container.innerHTML="",Qe}},{key:"dangerouslyPasteHTML",value:function(Be,xe){var Et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;if(typeof Be=="string")this.quill.setContents(this.convert(Be),xe),this.quill.setSelection(0,h.default.sources.SILENT);else{var ft=this.convert(xe);this.quill.updateContents(new l.default().retain(Be).concat(ft),Et),this.quill.setSelection(Be+ft.length(),h.default.sources.SILENT)}}},{key:"onPaste",value:function(Be){var xe=this;if(!(Be.defaultPrevented||!this.quill.isEnabled())){var Et=this.quill.getSelection(),ft=new l.default().retain(Et.index),Lt=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(h.default.sources.SILENT),setTimeout(function(){ft=ft.concat(xe.convert()).delete(Et.length),xe.quill.updateContents(ft,h.default.sources.USER),xe.quill.setSelection(ft.length()-Et.length,h.default.sources.SILENT),xe.quill.scrollingContainer.scrollTop=Lt,xe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Be=this,xe=[],Et=[];return this.matchers.forEach(function(ft){var Lt=o(ft,2),ze=Lt[0],Le=Lt[1];switch(ze){case Node.TEXT_NODE:Et.push(Le);break;case Node.ELEMENT_NODE:xe.push(Le);break;default:[].forEach.call(Be.container.querySelectorAll(ze),function(Qe){Qe[q]=Qe[q]||[],Qe[q].push(Le)});break}}),[xe,Et]}}]),de}(p.default);B.DEFAULTS={matchers:[],matchVisual:!0};function F(ne,de,Re){return(typeof de>"u"?"undefined":a(de))==="object"?Object.keys(de).reduce(function(Be,xe){return F(Be,xe,de[xe])},ne):ne.reduce(function(Be,xe){return xe.attributes&&xe.attributes[de]?Be.push(xe):Be.insert(xe.insert,(0,i.default)({},E({},de,Re),xe.attributes))},new l.default)}function T(ne){if(ne.nodeType!==Node.ELEMENT_NODE)return{};var de="__ql-computed-style";return ne[de]||(ne[de]=window.getComputedStyle(ne))}function U(ne,de){for(var Re="",Be=ne.ops.length-1;Be>=0&&Re.length<de.length;--Be){var xe=ne.ops[Be];if(typeof xe.insert!="string")break;Re=xe.insert+Re}return Re.slice(-1*de.length)===de}function O(ne){if(ne.childNodes.length===0)return!1;var de=T(ne);return["block","list-item"].indexOf(de.display)>-1}function z(ne,de,Re){return ne.nodeType===ne.TEXT_NODE?Re.reduce(function(Be,xe){return xe(ne,Be)},new l.default):ne.nodeType===ne.ELEMENT_NODE?[].reduce.call(ne.childNodes||[],function(Be,xe){var Et=z(xe,de,Re);return xe.nodeType===ne.ELEMENT_NODE&&(Et=de.reduce(function(ft,Lt){return Lt(xe,ft)},Et),Et=(xe[q]||[]).reduce(function(ft,Lt){return Lt(xe,ft)},Et)),Be.concat(Et)},new l.default):new l.default}function X(ne,de,Re){return F(Re,ne,!0)}function J(ne,de){var Re=u.default.Attributor.Attribute.keys(ne),Be=u.default.Attributor.Class.keys(ne),xe=u.default.Attributor.Style.keys(ne),Et={};return Re.concat(Be).concat(xe).forEach(function(ft){var Lt=u.default.query(ft,u.default.Scope.ATTRIBUTE);Lt!=null&&(Et[Lt.attrName]=Lt.value(ne),Et[Lt.attrName])||(Lt=D[ft],Lt!=null&&(Lt.attrName===ft||Lt.keyName===ft)&&(Et[Lt.attrName]=Lt.value(ne)||void 0),Lt=A[ft],Lt!=null&&(Lt.attrName===ft||Lt.keyName===ft)&&(Lt=A[ft],Et[Lt.attrName]=Lt.value(ne)||void 0))}),Object.keys(Et).length>0&&(de=F(de,Et)),de}function K(ne,de){var Re=u.default.query(ne);if(Re==null)return de;if(Re.prototype instanceof u.default.Embed){var Be={},xe=Re.value(ne);xe!=null&&(Be[Re.blotName]=xe,de=new l.default().insert(Be,Re.formats(ne)))}else typeof Re.formats=="function"&&(de=F(de,Re.blotName,Re.formats(ne)));return de}function ue(ne,de){return U(de,`
`)||de.insert(`
`),de}function ve(){return new l.default}function tt(ne,de){var Re=u.default.query(ne);if(Re==null||Re.blotName!=="list-item"||!U(de,`
`))return de;for(var Be=-1,xe=ne.parentNode;!xe.classList.contains("ql-clipboard");)(u.default.query(xe)||{}).blotName==="list"&&(Be+=1),xe=xe.parentNode;return Be<=0?de:de.compose(new l.default().retain(de.length()-1).retain(1,{indent:Be}))}function qe(ne,de){return U(de,`
`)||(O(ne)||de.length()>0&&ne.nextSibling&&O(ne.nextSibling))&&de.insert(`
`),de}function pe(ne,de){if(O(ne)&&ne.nextElementSibling!=null&&!U(de,`

`)){var Re=ne.offsetHeight+parseFloat(T(ne).marginTop)+parseFloat(T(ne).marginBottom);ne.nextElementSibling.offsetTop>ne.offsetTop+Re*1.5&&de.insert(`
`)}return de}function re(ne,de){var Re={},Be=ne.style||{};return Be.fontStyle&&T(ne).fontStyle==="italic"&&(Re.italic=!0),Be.fontWeight&&(T(ne).fontWeight.startsWith("bold")||parseInt(T(ne).fontWeight)>=700)&&(Re.bold=!0),Object.keys(Re).length>0&&(de=F(de,Re)),parseFloat(Be.textIndent||0)>0&&(de=new l.default().insert("	").concat(de)),de}function Te(ne,de){var Re=ne.data;if(ne.parentNode.tagName==="O:P")return de.insert(Re.trim());if(Re.trim().length===0&&ne.parentNode.classList.contains("ql-clipboard"))return de;if(!T(ne.parentNode).whiteSpace.startsWith("pre")){var Be=function(Et,ft){return ft=ft.replace(/[^\u00a0]/g,""),ft.length<1&&Et?" ":ft};Re=Re.replace(/\r\n/g," ").replace(/\n/g," "),Re=Re.replace(/\s\s+/g,Be.bind(Be,!0)),(ne.previousSibling==null&&O(ne.parentNode)||ne.previousSibling!=null&&O(ne.previousSibling))&&(Re=Re.replace(/^\s+/,Be.bind(Be,!1))),(ne.nextSibling==null&&O(ne.parentNode)||ne.nextSibling!=null&&O(ne.nextSibling))&&(Re=Re.replace(/\s+$/,Be.bind(Be,!1)))}return de.insert(Re)}t.default=B,t.matchAttributor=J,t.matchBlot=K,t.matchNewline=qe,t.matchSpacing=pe,t.matchText=Te},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function g(h,v){for(var m=0;m<v.length;m++){var y=v[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,v,m){return v&&g(h.prototype,v),m&&g(h,m),h}}(),o=function g(h,v,m){h===null&&(h=Function.prototype);var y=Object.getOwnPropertyDescriptor(h,v);if(y===void 0){var p=Object.getPrototypeOf(h);return p===null?void 0:g(p,v,m)}else{if("value"in y)return y.value;var f=y.get;return f===void 0?void 0:f.call(m)}},n=r(6),s=i(n);function i(g){return g&&g.__esModule?g:{default:g}}function c(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function l(g,h){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:g}function d(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}var u=function(g){d(h,g);function h(){return c(this,h),l(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return a(h,[{key:"optimize",value:function(m){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),h}(s.default);u.blotName="bold",u.tagName=["STRONG","B"],t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var a=function(){function S(k,E){var L=[],P=!0,j=!1,M=void 0;try{for(var q=k[Symbol.iterator](),R;!(P=(R=q.next()).done)&&(L.push(R.value),!(E&&L.length===E));P=!0);}catch(D){j=!0,M=D}finally{try{!P&&q.return&&q.return()}finally{if(j)throw M}}return L}return function(k,E){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return S(k,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function S(k,E){for(var L=0;L<E.length;L++){var P=E[L];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,P.key,P)}}return function(k,E,L){return E&&S(k.prototype,E),L&&S(k,L),k}}(),n=r(2),s=m(n),i=r(0),c=m(i),l=r(5),d=m(l),u=r(10),g=m(u),h=r(9),v=m(h);function m(S){return S&&S.__esModule?S:{default:S}}function y(S,k,E){return k in S?Object.defineProperty(S,k,{value:E,enumerable:!0,configurable:!0,writable:!0}):S[k]=E,S}function p(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function f(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:S}function x(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}var b=(0,g.default)("quill:toolbar"),w=function(S){x(k,S);function k(E,L){p(this,k);var P=f(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E,L));if(Array.isArray(P.options.container)){var j=document.createElement("div");I(j,P.options.container),E.container.parentNode.insertBefore(j,E.container),P.container=j}else typeof P.options.container=="string"?P.container=document.querySelector(P.options.container):P.container=P.options.container;if(!(P.container instanceof HTMLElement)){var M;return M=b.error("Container required for toolbar",P.options),f(P,M)}return P.container.classList.add("ql-toolbar"),P.controls=[],P.handlers={},Object.keys(P.options.handlers).forEach(function(q){P.addHandler(q,P.options.handlers[q])}),[].forEach.call(P.container.querySelectorAll("button, select"),function(q){P.attach(q)}),P.quill.on(d.default.events.EDITOR_CHANGE,function(q,R){q===d.default.events.SELECTION_CHANGE&&P.update(R)}),P.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var q=P.quill.selection.getRange(),R=a(q,1),D=R[0];P.update(D)}),P}return o(k,[{key:"addHandler",value:function(L,P){this.handlers[L]=P}},{key:"attach",value:function(L){var P=this,j=[].find.call(L.classList,function(q){return q.indexOf("ql-")===0});if(j){if(j=j.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[j]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[j]==null){b.warn("ignoring attaching to disabled format",j,L);return}if(c.default.query(j)==null){b.warn("ignoring attaching to nonexistent format",j,L);return}}var M=L.tagName==="SELECT"?"change":"click";L.addEventListener(M,function(q){var R=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var D=L.options[L.selectedIndex];D.hasAttribute("selected")?R=!1:R=D.value||!1}else L.classList.contains("ql-active")?R=!1:R=L.value||!L.hasAttribute("value"),q.preventDefault();P.quill.focus();var A=P.quill.selection.getRange(),B=a(A,1),F=B[0];if(P.handlers[j]!=null)P.handlers[j].call(P,R);else if(c.default.query(j).prototype instanceof c.default.Embed){if(R=prompt("Enter "+j),!R)return;P.quill.updateContents(new s.default().retain(F.index).delete(F.length).insert(y({},j,R)),d.default.sources.USER)}else P.quill.format(j,R,d.default.sources.USER);P.update(F)}),this.controls.push([j,L])}}},{key:"update",value:function(L){var P=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(j){var M=a(j,2),q=M[0],R=M[1];if(R.tagName==="SELECT"){var D=void 0;if(L==null)D=null;else if(P[q]==null)D=R.querySelector("option[selected]");else if(!Array.isArray(P[q])){var A=P[q];typeof A=="string"&&(A=A.replace(/\"/g,'\\"')),D=R.querySelector('option[value="'+A+'"]')}D==null?(R.value="",R.selectedIndex=-1):D.selected=!0}else if(L==null)R.classList.remove("ql-active");else if(R.hasAttribute("value")){var B=P[q]===R.getAttribute("value")||P[q]!=null&&P[q].toString()===R.getAttribute("value")||P[q]==null&&!R.getAttribute("value");R.classList.toggle("ql-active",B)}else R.classList.toggle("ql-active",P[q]!=null)})}}]),k}(v.default);w.DEFAULTS={};function N(S,k,E){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+k),E!=null&&(L.value=E),S.appendChild(L)}function I(S,k){Array.isArray(k[0])||(k=[k]),k.forEach(function(E){var L=document.createElement("span");L.classList.add("ql-formats"),E.forEach(function(P){if(typeof P=="string")N(L,P);else{var j=Object.keys(P)[0],M=P[j];Array.isArray(M)?C(L,j,M):N(L,j,M)}}),S.appendChild(L)})}function C(S,k,E){var L=document.createElement("select");L.classList.add("ql-"+k),E.forEach(function(P){var j=document.createElement("option");P!==!1?j.setAttribute("value",P):j.setAttribute("selected","selected"),L.appendChild(j)}),S.appendChild(L)}w.DEFAULTS={container:null,handlers:{clean:function(){var k=this,E=this.quill.getSelection();if(E!=null)if(E.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(P){c.default.query(P,c.default.Scope.INLINE)!=null&&k.quill.format(P,!1)})}else this.quill.removeFormat(E,d.default.sources.USER)},direction:function(k){var E=this.quill.getFormat().align;k==="rtl"&&E==null?this.quill.format("align","right",d.default.sources.USER):!k&&E==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",k,d.default.sources.USER)},indent:function(k){var E=this.quill.getSelection(),L=this.quill.getFormat(E),P=parseInt(L.indent||0);if(k==="+1"||k==="-1"){var j=k==="+1"?1:-1;L.direction==="rtl"&&(j*=-1),this.quill.format("indent",P+j,d.default.sources.USER)}},link:function(k){k===!0&&(k=prompt("Enter link URL:")),this.quill.format("link",k,d.default.sources.USER)},list:function(k){var E=this.quill.getSelection(),L=this.quill.getFormat(E);k==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",k,d.default.sources.USER)}}},t.default=w,t.addControls=I},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function g(h,v){for(var m=0;m<v.length;m++){var y=v[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,v,m){return v&&g(h.prototype,v),m&&g(h,m),h}}(),o=function g(h,v,m){h===null&&(h=Function.prototype);var y=Object.getOwnPropertyDescriptor(h,v);if(y===void 0){var p=Object.getPrototypeOf(h);return p===null?void 0:g(p,v,m)}else{if("value"in y)return y.value;var f=y.get;return f===void 0?void 0:f.call(m)}},n=r(28),s=i(n);function i(g){return g&&g.__esModule?g:{default:g}}function c(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function l(g,h){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:g}function d(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}var u=function(g){d(h,g);function h(v,m){c(this,h);var y=l(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,v));return y.label.innerHTML=m,y.container.classList.add("ql-color-picker"),[].slice.call(y.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(p){p.classList.add("ql-primary")}),y}return a(h,[{key:"buildItem",value:function(m){var y=o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"buildItem",this).call(this,m);return y.style.backgroundColor=m.getAttribute("value")||"",y}},{key:"selectItem",value:function(m,y){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"selectItem",this).call(this,m,y);var p=this.label.querySelector(".ql-color-label"),f=m&&m.getAttribute("data-value")||"";p&&(p.tagName==="line"?p.style.stroke=f:p.style.fill=f)}}]),h}(s.default);t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function g(h,v){for(var m=0;m<v.length;m++){var y=v[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,v,m){return v&&g(h.prototype,v),m&&g(h,m),h}}(),o=function g(h,v,m){h===null&&(h=Function.prototype);var y=Object.getOwnPropertyDescriptor(h,v);if(y===void 0){var p=Object.getPrototypeOf(h);return p===null?void 0:g(p,v,m)}else{if("value"in y)return y.value;var f=y.get;return f===void 0?void 0:f.call(m)}},n=r(28),s=i(n);function i(g){return g&&g.__esModule?g:{default:g}}function c(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function l(g,h){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:g}function d(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}var u=function(g){d(h,g);function h(v,m){c(this,h);var y=l(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,v));return y.container.classList.add("ql-icon-picker"),[].forEach.call(y.container.querySelectorAll(".ql-picker-item"),function(p){p.innerHTML=m[p.getAttribute("data-value")||""]}),y.defaultItem=y.container.querySelector(".ql-selected"),y.selectItem(y.defaultItem),y}return a(h,[{key:"selectItem",value:function(m,y){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"selectItem",this).call(this,m,y),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),h}(s.default);t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function s(i,c){for(var l=0;l<c.length;l++){var d=c[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(i,d.key,d)}}return function(i,c,l){return c&&s(i.prototype,c),l&&s(i,l),i}}();function o(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}var n=function(){function s(i,c){var l=this;o(this,s),this.quill=i,this.boundsContainer=c||document.body,this.root=i.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){l.root.style.marginTop=-1*l.quill.root.scrollTop+"px"}),this.hide()}return a(s,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var l=c.left+c.width/2-this.root.offsetWidth/2,d=c.bottom+this.quill.root.scrollTop;this.root.style.left=l+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var u=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),h=0;if(g.right>u.right&&(h=u.right-g.right,this.root.style.left=l+h+"px"),g.left<u.left&&(h=u.left-g.left,this.root.style.left=l+h+"px"),g.bottom>u.bottom){var v=g.bottom-g.top,m=c.bottom-c.top+v;this.root.style.top=d-m+"px",this.root.classList.add("ql-flip")}return h}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),s}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function C(S,k){var E=[],L=!0,P=!1,j=void 0;try{for(var M=S[Symbol.iterator](),q;!(L=(q=M.next()).done)&&(E.push(q.value),!(k&&E.length===k));L=!0);}catch(R){P=!0,j=R}finally{try{!L&&M.return&&M.return()}finally{if(P)throw j}}return E}return function(S,k){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return C(S,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function C(S,k,E){S===null&&(S=Function.prototype);var L=Object.getOwnPropertyDescriptor(S,k);if(L===void 0){var P=Object.getPrototypeOf(S);return P===null?void 0:C(P,k,E)}else{if("value"in L)return L.value;var j=L.get;return j===void 0?void 0:j.call(E)}},n=function(){function C(S,k){for(var E=0;E<k.length;E++){var L=k[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,k,E){return k&&C(S.prototype,k),E&&C(S,E),S}}(),s=r(3),i=p(s),c=r(8),l=p(c),d=r(43),u=p(d),g=r(27),h=p(g),v=r(15),m=r(41),y=p(m);function p(C){return C&&C.__esModule?C:{default:C}}function f(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function x(C,S){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:C}function b(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(C,S):C.__proto__=S)}var w=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],N=function(C){b(S,C);function S(k,E){f(this,S),E.modules.toolbar!=null&&E.modules.toolbar.container==null&&(E.modules.toolbar.container=w);var L=x(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,k,E));return L.quill.container.classList.add("ql-snow"),L}return n(S,[{key:"extendToolbar",value:function(E){E.container.classList.add("ql-snow"),this.buildButtons([].slice.call(E.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(E.container.querySelectorAll("select")),y.default),this.tooltip=new I(this.quill,this.options.bounds),E.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,P){E.handlers.link.call(E,!P.format.link)})}}]),S}(u.default);N.DEFAULTS=(0,i.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){if(S){var k=this.quill.getSelection();if(k==null||k.length==0)return;var E=this.quill.getText(k);/^\S+@\S+\.\S+$/.test(E)&&E.indexOf("mailto:")!==0&&(E="mailto:"+E);var L=this.quill.theme.tooltip;L.edit("link",E)}else this.quill.format("link",!1)}}}}});var I=function(C){b(S,C);function S(k,E){f(this,S);var L=x(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,k,E));return L.preview=L.root.querySelector("a.ql-preview"),L}return n(S,[{key:"listen",value:function(){var E=this;o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){E.root.classList.contains("ql-editing")?E.save():E.edit("link",E.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(E.linkRange!=null){var P=E.linkRange;E.restoreFocus(),E.quill.formatText(P,"link",!1,l.default.sources.USER),delete E.linkRange}L.preventDefault(),E.hide()}),this.quill.on(l.default.events.SELECTION_CHANGE,function(L,P,j){if(L!=null){if(L.length===0&&j===l.default.sources.USER){var M=E.quill.scroll.descendant(h.default,L.index),q=a(M,2),R=q[0],D=q[1];if(R!=null){E.linkRange=new v.Range(L.index-D,R.length());var A=h.default.formats(R.domNode);E.preview.textContent=A,E.preview.setAttribute("href",A),E.show(),E.position(E.quill.getBounds(E.linkRange));return}}else delete E.linkRange;E.hide()}})}},{key:"show",value:function(){o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),S}(d.BaseTooltip);I.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=N},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(29),o=xe(a),n=r(36),s=r(38),i=r(64),c=r(65),l=xe(c),d=r(66),u=xe(d),g=r(67),h=xe(g),v=r(37),m=r(26),y=r(39),p=r(40),f=r(56),x=xe(f),b=r(68),w=xe(b),N=r(27),I=xe(N),C=r(69),S=xe(C),k=r(70),E=xe(k),L=r(71),P=xe(L),j=r(72),M=xe(j),q=r(73),R=xe(q),D=r(13),A=xe(D),B=r(74),F=xe(B),T=r(75),U=xe(T),O=r(57),z=xe(O),X=r(41),J=xe(X),K=r(28),ue=xe(K),ve=r(59),tt=xe(ve),qe=r(60),pe=xe(qe),re=r(61),Te=xe(re),ne=r(108),de=xe(ne),Re=r(62),Be=xe(Re);function xe(Et){return Et&&Et.__esModule?Et:{default:Et}}o.default.register({"attributors/attribute/direction":s.DirectionAttribute,"attributors/class/align":n.AlignClass,"attributors/class/background":v.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":s.DirectionClass,"attributors/class/font":y.FontClass,"attributors/class/size":p.SizeClass,"attributors/style/align":n.AlignStyle,"attributors/style/background":v.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":s.DirectionStyle,"attributors/style/font":y.FontStyle,"attributors/style/size":p.SizeStyle},!0),o.default.register({"formats/align":n.AlignClass,"formats/direction":s.DirectionClass,"formats/indent":i.IndentClass,"formats/background":v.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":y.FontClass,"formats/size":p.SizeClass,"formats/blockquote":l.default,"formats/code-block":A.default,"formats/header":u.default,"formats/list":h.default,"formats/bold":x.default,"formats/code":D.Code,"formats/italic":w.default,"formats/link":I.default,"formats/script":S.default,"formats/strike":E.default,"formats/underline":P.default,"formats/image":M.default,"formats/video":R.default,"formats/list/item":g.ListItem,"modules/formula":F.default,"modules/syntax":U.default,"modules/toolbar":z.default,"themes/bubble":de.default,"themes/snow":Be.default,"ui/icons":J.default,"ui/picker":ue.default,"ui/icon-picker":pe.default,"ui/color-picker":tt.default,"ui/tooltip":Te.default},!0),t.default=o.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var a=function(){function h(v,m){for(var y=0;y<m.length;y++){var p=m[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,m,y){return m&&h(v.prototype,m),y&&h(v,y),v}}(),o=function h(v,m,y){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,m);if(p===void 0){var f=Object.getPrototypeOf(v);return f===null?void 0:h(f,m,y)}else{if("value"in p)return p.value;var x=p.get;return x===void 0?void 0:x.call(y)}},n=r(0),s=i(n);function i(h){return h&&h.__esModule?h:{default:h}}function c(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function l(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:h}function d(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}var u=function(h){d(v,h);function v(){return c(this,v),l(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"add",value:function(y,p){if(p==="+1"||p==="-1"){var f=this.value(y)||0;p=p==="+1"?f+1:f-1}return p===0?(this.remove(y),!0):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"add",this).call(this,y,p)}},{key:"canAdd",value:function(y,p){return o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,y,p)||o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,y,parseInt(p))}},{key:"value",value:function(y){return parseInt(o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,y))||void 0}}]),v}(s.default.Attributor.Class),g=new u("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(4),o=n(a);function n(d){return d&&d.__esModule?d:{default:d}}function s(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function i(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function c(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var l=function(d){c(u,d);function u(){return s(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(o.default);l.blotName="blockquote",l.tagName="blockquote",t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function u(g,h){for(var v=0;v<h.length;v++){var m=h[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(g,m.key,m)}}return function(g,h,v){return h&&u(g.prototype,h),v&&u(g,v),g}}(),o=r(4),n=s(o);function s(u){return u&&u.__esModule?u:{default:u}}function i(u,g){if(!(u instanceof g))throw new TypeError("Cannot call a class as a function")}function c(u,g){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:u}function l(u,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);u.prototype=Object.create(g&&g.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(u,g):u.__proto__=g)}var d=function(u){l(g,u);function g(){return i(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,null,[{key:"formats",value:function(v){return this.tagName.indexOf(v.tagName)+1}}]),g}(n.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var a=function(){function f(x,b){for(var w=0;w<b.length;w++){var N=b[w];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,b,w){return b&&f(x.prototype,b),w&&f(x,w),x}}(),o=function f(x,b,w){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,b);if(N===void 0){var I=Object.getPrototypeOf(x);return I===null?void 0:f(I,b,w)}else{if("value"in N)return N.value;var C=N.get;return C===void 0?void 0:C.call(w)}},n=r(0),s=u(n),i=r(4),c=u(i),l=r(25),d=u(l);function u(f){return f&&f.__esModule?f:{default:f}}function g(f,x,b){return x in f?Object.defineProperty(f,x,{value:b,enumerable:!0,configurable:!0,writable:!0}):f[x]=b,f}function h(f,x){if(!(f instanceof x))throw new TypeError("Cannot call a class as a function")}function v(f,x){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:f}function m(f,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);f.prototype=Object.create(x&&x.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(f,x):f.__proto__=x)}var y=function(f){m(x,f);function x(){return h(this,x),v(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"format",value:function(w,N){w===p.blotName&&!N?this.replaceWith(s.default.create(this.statics.scope)):o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,w,N)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(w,N){return this.parent.isolate(this.offset(this.parent),this.length()),w===this.parent.statics.blotName?(this.parent.replaceWith(w,N),this):(this.parent.unwrap(),o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replaceWith",this).call(this,w,N))}}],[{key:"formats",value:function(w){return w.tagName===this.tagName?void 0:o(x.__proto__||Object.getPrototypeOf(x),"formats",this).call(this,w)}}]),x}(c.default);y.blotName="list-item",y.tagName="LI";var p=function(f){m(x,f),a(x,null,[{key:"create",value:function(w){var N=w==="ordered"?"OL":"UL",I=o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,N);return(w==="checked"||w==="unchecked")&&I.setAttribute("data-checked",w==="checked"),I}},{key:"formats",value:function(w){if(w.tagName==="OL")return"ordered";if(w.tagName==="UL")return w.hasAttribute("data-checked")?w.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function x(b){h(this,x);var w=v(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,b)),N=function(C){if(C.target.parentNode===b){var S=w.statics.formats(b),k=s.default.find(C.target);S==="checked"?k.format("list","unchecked"):S==="unchecked"&&k.format("list","checked")}};return b.addEventListener("touchstart",N),b.addEventListener("mousedown",N),w}return a(x,[{key:"format",value:function(w,N){this.children.length>0&&this.children.tail.format(w,N)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(w,N){if(w instanceof y)o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,w,N);else{var I=N==null?this.length():N.offset(this),C=this.split(I);C.parent.insertBefore(w,C)}}},{key:"optimize",value:function(w){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,w);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&N.domNode.tagName===this.domNode.tagName&&N.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(N.moveChildren(this),N.remove())}},{key:"replace",value:function(w){if(w.statics.blotName!==this.statics.blotName){var N=s.default.create(this.statics.defaultChild);w.moveChildren(N),this.appendChild(N)}o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replace",this).call(this,w)}}]),x}(d.default);p.blotName="list",p.scope=s.default.Scope.BLOCK_BLOT,p.tagName=["OL","UL"],p.defaultChild="list-item",p.allowedChildren=[y],t.ListItem=y,t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(56),o=n(a);function n(d){return d&&d.__esModule?d:{default:d}}function s(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function i(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function c(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var l=function(d){c(u,d);function u(){return s(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(o.default);l.blotName="italic",l.tagName=["EM","I"],t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function g(h,v){for(var m=0;m<v.length;m++){var y=v[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,v,m){return v&&g(h.prototype,v),m&&g(h,m),h}}(),o=function g(h,v,m){h===null&&(h=Function.prototype);var y=Object.getOwnPropertyDescriptor(h,v);if(y===void 0){var p=Object.getPrototypeOf(h);return p===null?void 0:g(p,v,m)}else{if("value"in y)return y.value;var f=y.get;return f===void 0?void 0:f.call(m)}},n=r(6),s=i(n);function i(g){return g&&g.__esModule?g:{default:g}}function c(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function l(g,h){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:g}function d(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}var u=function(g){d(h,g);function h(){return c(this,h),l(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return a(h,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):o(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),h}(s.default);u.blotName="script",u.tagName=["SUB","SUP"],t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(6),o=n(a);function n(d){return d&&d.__esModule?d:{default:d}}function s(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function i(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function c(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var l=function(d){c(u,d);function u(){return s(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(o.default);l.blotName="strike",l.tagName="S",t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(6),o=n(a);function n(d){return d&&d.__esModule?d:{default:d}}function s(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function i(d,u){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:d}function c(d,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);d.prototype=Object.create(u&&u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(d,u):d.__proto__=u)}var l=function(d){c(u,d);function u(){return s(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(o.default);l.blotName="underline",l.tagName="U",t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function v(m,y){for(var p=0;p<y.length;p++){var f=y[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,y,p){return y&&v(m.prototype,y),p&&v(m,p),m}}(),o=function v(m,y,p){m===null&&(m=Function.prototype);var f=Object.getOwnPropertyDescriptor(m,y);if(f===void 0){var x=Object.getPrototypeOf(m);return x===null?void 0:v(x,y,p)}else{if("value"in f)return f.value;var b=f.get;return b===void 0?void 0:b.call(p)}},n=r(0),s=c(n),i=r(27);function c(v){return v&&v.__esModule?v:{default:v}}function l(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function d(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function u(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var g=["alt","height","width"],h=function(v){u(m,v);function m(){return l(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"format",value:function(p,f){g.indexOf(p)>-1?f?this.domNode.setAttribute(p,f):this.domNode.removeAttribute(p):o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,p,f)}}],[{key:"create",value:function(p){var f=o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,p);return typeof p=="string"&&f.setAttribute("src",this.sanitize(p)),f}},{key:"formats",value:function(p){return g.reduce(function(f,x){return p.hasAttribute(x)&&(f[x]=p.getAttribute(x)),f},{})}},{key:"match",value:function(p){return/\.(jpe?g|gif|png)$/.test(p)||/^data:image\/.+;base64/.test(p)}},{key:"sanitize",value:function(p){return(0,i.sanitize)(p,["http","https","data"])?p:"//:0"}},{key:"value",value:function(p){return p.getAttribute("src")}}]),m}(s.default.Embed);h.blotName="image",h.tagName="IMG",t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function v(m,y){for(var p=0;p<y.length;p++){var f=y[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,y,p){return y&&v(m.prototype,y),p&&v(m,p),m}}(),o=function v(m,y,p){m===null&&(m=Function.prototype);var f=Object.getOwnPropertyDescriptor(m,y);if(f===void 0){var x=Object.getPrototypeOf(m);return x===null?void 0:v(x,y,p)}else{if("value"in f)return f.value;var b=f.get;return b===void 0?void 0:b.call(p)}},n=r(4),s=r(27),i=c(s);function c(v){return v&&v.__esModule?v:{default:v}}function l(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function d(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function u(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var g=["height","width"],h=function(v){u(m,v);function m(){return l(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"format",value:function(p,f){g.indexOf(p)>-1?f?this.domNode.setAttribute(p,f):this.domNode.removeAttribute(p):o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,p,f)}}],[{key:"create",value:function(p){var f=o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,p);return f.setAttribute("frameborder","0"),f.setAttribute("allowfullscreen",!0),f.setAttribute("src",this.sanitize(p)),f}},{key:"formats",value:function(p){return g.reduce(function(f,x){return p.hasAttribute(x)&&(f[x]=p.getAttribute(x)),f},{})}},{key:"sanitize",value:function(p){return i.default.sanitize(p)}},{key:"value",value:function(p){return p.getAttribute("src")}}]),m}(n.BlockEmbed);h.blotName="video",h.className="ql-video",h.tagName="IFRAME",t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var a=function(){function p(f,x){for(var b=0;b<x.length;b++){var w=x[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}return function(f,x,b){return x&&p(f.prototype,x),b&&p(f,b),f}}(),o=function p(f,x,b){f===null&&(f=Function.prototype);var w=Object.getOwnPropertyDescriptor(f,x);if(w===void 0){var N=Object.getPrototypeOf(f);return N===null?void 0:p(N,x,b)}else{if("value"in w)return w.value;var I=w.get;return I===void 0?void 0:I.call(b)}},n=r(35),s=u(n),i=r(5),c=u(i),l=r(9),d=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function g(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}function h(p,f){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:p}function v(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}var m=function(p){v(f,p);function f(){return g(this,f),h(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return a(f,null,[{key:"create",value:function(b){var w=o(f.__proto__||Object.getPrototypeOf(f),"create",this).call(this,b);return typeof b=="string"&&(window.katex.render(b,w,{throwOnError:!1,errorColor:"#f00"}),w.setAttribute("data-value",b)),w}},{key:"value",value:function(b){return b.getAttribute("data-value")}}]),f}(s.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var y=function(p){v(f,p),a(f,null,[{key:"register",value:function(){c.default.register(m,!0)}}]);function f(){g(this,f);var x=h(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return x}return f}(d.default);t.FormulaBlot=m,t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var a=function(){function b(w,N){for(var I=0;I<N.length;I++){var C=N[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,N,I){return N&&b(w.prototype,N),I&&b(w,I),w}}(),o=function b(w,N,I){w===null&&(w=Function.prototype);var C=Object.getOwnPropertyDescriptor(w,N);if(C===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:b(S,N,I)}else{if("value"in C)return C.value;var k=C.get;return k===void 0?void 0:k.call(I)}},n=r(0),s=h(n),i=r(5),c=h(i),l=r(9),d=h(l),u=r(13),g=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function v(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function m(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function y(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var p=function(b){y(w,b);function w(){return v(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"replaceWith",value:function(I){this.domNode.textContent=this.domNode.textContent,this.attach(),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,I)}},{key:"highlight",value:function(I){var C=this.domNode.textContent;this.cachedText!==C&&((C.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=I(C),this.domNode.normalize(),this.attach()),this.cachedText=C)}}]),w}(g.default);p.className="ql-syntax";var f=new s.default.Attributor.Class("token","hljs",{scope:s.default.Scope.INLINE}),x=function(b){y(w,b),a(w,null,[{key:"register",value:function(){c.default.register(f,!0),c.default.register(p,!0)}}]);function w(N,I){v(this,w);var C=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,N,I));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var S=null;return C.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(S),S=setTimeout(function(){C.highlight(),S=null},C.options.interval)}),C.highlight(),C}return a(w,[{key:"highlight",value:function(){var I=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var C=this.quill.getSelection();this.quill.scroll.descendants(p).forEach(function(S){S.highlight(I.options.highlight)}),this.quill.update(c.default.sources.SILENT),C!=null&&this.quill.setSelection(C,c.default.sources.SILENT)}}}]),w}(d.default);x.DEFAULTS={highlight:function(){return window.hljs==null?null:function(b){var w=window.hljs.highlightAuto(b);return w.value}}(),interval:1e3},t.CodeBlock=p,t.CodeToken=f,t.default=x},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var a=function w(N,I,C){N===null&&(N=Function.prototype);var S=Object.getOwnPropertyDescriptor(N,I);if(S===void 0){var k=Object.getPrototypeOf(N);return k===null?void 0:w(k,I,C)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(C)}},o=function(){function w(N,I){for(var C=0;C<I.length;C++){var S=I[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(N,S.key,S)}}return function(N,I,C){return I&&w(N.prototype,I),C&&w(N,C),N}}(),n=r(3),s=v(n),i=r(8),c=v(i),l=r(43),d=v(l),u=r(15),g=r(41),h=v(g);function v(w){return w&&w.__esModule?w:{default:w}}function m(w,N){if(!(w instanceof N))throw new TypeError("Cannot call a class as a function")}function y(w,N){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:w}function p(w,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);w.prototype=Object.create(N&&N.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(w,N):w.__proto__=N)}var f=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],x=function(w){p(N,w);function N(I,C){m(this,N),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=f);var S=y(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,I,C));return S.quill.container.classList.add("ql-bubble"),S}return o(N,[{key:"extendToolbar",value:function(C){this.tooltip=new b(this.quill,this.options.bounds),this.tooltip.root.appendChild(C.container),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),h.default)}}]),N}(d.default);x.DEFAULTS=(0,s.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){N?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var b=function(w){p(N,w);function N(I,C){m(this,N);var S=y(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,I,C));return S.quill.on(c.default.events.EDITOR_CHANGE,function(k,E,L,P){if(k===c.default.events.SELECTION_CHANGE)if(E!=null&&E.length>0&&P===c.default.sources.USER){S.show(),S.root.style.left="0px",S.root.style.width="",S.root.style.width=S.root.offsetWidth+"px";var j=S.quill.getLines(E.index,E.length);if(j.length===1)S.position(S.quill.getBounds(E));else{var M=j[j.length-1],q=S.quill.getIndex(M),R=Math.min(M.length()-1,E.index+E.length-q),D=S.quill.getBounds(new u.Range(q,R));S.position(D)}}else document.activeElement!==S.textbox&&S.quill.hasFocus()&&S.hide()}),S}return o(N,[{key:"listen",value:function(){var C=this;a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){C.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!C.root.classList.contains("ql-hidden")){var S=C.quill.getSelection();S!=null&&C.position(C.quill.getBounds(S))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(C){var S=a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"position",this).call(this,C),k=this.root.querySelector(".ql-tooltip-arrow");if(k.style.marginLeft="",S===0)return S;k.style.marginLeft=-1*S-k.offsetWidth/2+"px"}}]),N}(l.BaseTooltip);b.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=b,t.default=x},function(e,t,r){e.exports=r(63)}]).default})});var JA=Ae((bi,XA)=>{"use strict";var QW=bi&&bi.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var n in o)o.hasOwnProperty(n)&&(a[n]=o[n])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),nv=bi&&bi.__assign||function(){return nv=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},nv.apply(this,arguments)},YW=bi&&bi.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var a=Array(e),o=0,t=0;t<r;t++)for(var n=arguments[t],s=0,i=n.length;s<i;s++,o++)a[o]=n[s];return a},sv=bi&&bi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},qs=sv(he()),XW=sv(Xi()),Gp=sv(GA()),QA=sv(KA()),JW=function(e){QW(t,e);function t(r){var a=e.call(this,r)||this;a.dirtyProps=["modules","formats","bounds","theme","children"],a.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],a.state={generation:0},a.selection=null,a.onEditorChange=function(n,s,i,c){var l,d,u,g;n==="text-change"?(d=(l=a).onEditorChangeText)===null||d===void 0||d.call(l,a.editor.root.innerHTML,s,c,a.unprivilegedEditor):n==="selection-change"&&((g=(u=a).onEditorChangeSelection)===null||g===void 0||g.call(u,s,c,a.unprivilegedEditor))};var o=a.isControlled()?r.value:r.defaultValue;return a.value=o??"",a}return t.prototype.validateProps=function(r){var a;if(qs.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(qs.default.Children.count(r.children)){var o=qs.default.Children.only(r.children);if(((a=o)===null||a===void 0?void 0:a.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(r,a){var o=this,n;if(this.validateProps(r),!this.editor||this.state.generation!==a.generation)return!0;if("value"in r){var s=this.getEditorContents(),i=(n=r.value,n??"");this.isEqualValue(i,s)||this.setEditorContents(this.editor,i)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),YW(this.cleanProps,this.dirtyProps).some(function(c){return!Gp.default(r[c],o.props[c])})},t.prototype.shouldComponentRegenerate=function(r){var a=this;return this.dirtyProps.some(function(o){return!Gp.default(r[o],a.props[o])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(r,a){var o=this;if(this.editor&&this.shouldComponentRegenerate(r)){var n=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==a.generation){var i=this.regenerationSnapshot,n=i.delta,c=i.selection;delete this.regenerationSnapshot,this.instantiateEditor();var l=this.editor;l.setContents(n),YA(function(){return o.setEditorSelection(l,c)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(r,a){var o=new QA.default(r,a);return a.tabIndex!=null&&this.setEditorTabIndex(o,a.tabIndex),this.hookEditor(o),o},t.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(r){return r&&r.ops},t.prototype.isEqualValue=function(r,a){return this.isDelta(r)&&this.isDelta(a)?Gp.default(r.ops,a.ops):Gp.default(r,a)},t.prototype.setEditorContents=function(r,a){var o=this;this.value=a;var n=this.getEditorSelection();typeof a=="string"?r.setContents(r.clipboard.convert(a)):r.setContents(a),YA(function(){return o.setEditorSelection(r,n)})},t.prototype.setEditorSelection=function(r,a){if(this.selection=a,a){var o=r.getLength();a.index=Math.max(0,Math.min(a.index,o-1)),a.length=Math.max(0,Math.min(a.length,o-1-a.index)),r.setSelection(a)}},t.prototype.setEditorTabIndex=function(r,a){var o,n;!((n=(o=r)===null||o===void 0?void 0:o.scroll)===null||n===void 0)&&n.domNode&&(r.scroll.domNode.tabIndex=a)},t.prototype.setEditorReadOnly=function(r,a){a?r.disable():r.enable()},t.prototype.makeUnprivilegedEditor=function(r){var a=r;return{getHTML:function(){return a.root.innerHTML},getLength:a.getLength.bind(a),getText:a.getText.bind(a),getContents:a.getContents.bind(a),getSelection:a.getSelection.bind(a),getBounds:a.getBounds.bind(a)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=XW.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},t.prototype.renderEditingArea=function(){var r=this,a=this.props,o=a.children,n=a.preserveWhitespace,s=this.state.generation,i={key:s,ref:function(c){r.editingArea=c}};return qs.default.Children.count(o)?qs.default.cloneElement(qs.default.Children.only(o),i):n?qs.default.createElement("pre",nv({},i)):qs.default.createElement("div",nv({},i))},t.prototype.render=function(){var r;return qs.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(r,a,o,n){var s,i;if(this.editor){var c=this.isDelta(this.value)?n.getContents():n.getHTML();c!==this.getEditorContents()&&(this.lastDeltaChangeSet=a,this.value=c,(i=(s=this.props).onChange)===null||i===void 0||i.call(s,r,a,o,n))}},t.prototype.onEditorChangeSelection=function(r,a,o){var n,s,i,c,l,d;if(this.editor){var u=this.getEditorSelection(),g=!u&&r,h=u&&!r;Gp.default(r,u)||(this.selection=r,(s=(n=this.props).onChangeSelection)===null||s===void 0||s.call(n,r,a,o),g?(c=(i=this.props).onFocus)===null||c===void 0||c.call(i,r,a,o):h&&((d=(l=this.props).onBlur)===null||d===void 0||d.call(l,u,a,o)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=QA.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(qs.default.Component);function YA(e){Promise.resolve().then(e)}XA.exports=JW});var WT=Ae((Ixe,VT)=>{"use strict";var XK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";VT.exports=XK});var YT=Ae((Rxe,QT)=>{"use strict";var JK=WT();function GT(){}function KT(){}KT.resetWarningCache=GT;QT.exports=function(){function e(a,o,n,s,i,c){if(c!==JK){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:KT,resetWarningCache:GT};return r.PropTypes=r,r}});var JT=Ae((Txe,XT)=>{XT.exports=YT()();var Axe,Pxe});var o6=Ae(Gk=>{"use strict";Gk.__esModule=!0;Gk.default=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var a=e.name||"",o=(e.type||"").toLowerCase(),n=o.replace(/\/.*$/,"");return r.some(function(s){var i=s.trim().toLowerCase();return i.charAt(0)==="."?a.toLowerCase().endsWith(i):i.endsWith("/*")?n===i.replace(/\/.*$/,""):o===i})}return!0}});var eD=H(jS());var Dn=H(he());var Mr=H(he()),p7=H(Xi());var ct=H(he());function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},em.apply(this,arguments)}var Hn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hn||(Hn={}));var US="popstate";function VS(e){e===void 0&&(e={});function t(a,o){let{pathname:n,search:s,hash:i}=a.location;return lb("",{pathname:n,search:s,hash:i},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){return typeof o=="string"?o:$l(o)}return LO(t,r,null,e)}function $r(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function WS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function EO(){return Math.random().toString(36).substr(2,8)}function zS(e,t){return{usr:e.state,key:e.key,idx:t}}function lb(e,t,r,a){return r===void 0&&(r=null),em({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ei(t):t,{state:r,key:t&&t.key||a||EO()})}function $l(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function ei(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function LO(e,t,r,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:n=!1}=a,s=o.history,i=Hn.Pop,c=null,l=d();l==null&&(l=0,s.replaceState(em({},s.state,{idx:l}),""));function d(){return(s.state||{idx:null}).idx}function u(){i=Hn.Pop;let y=d(),p=y==null?null:y-l;l=y,c&&c({action:i,location:m.location,delta:p})}function g(y,p){i=Hn.Push;let f=lb(m.location,y,p);r&&r(f,y),l=d()+1;let x=zS(f,l),b=m.createHref(f);try{s.pushState(x,"",b)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;o.location.assign(b)}n&&c&&c({action:i,location:m.location,delta:1})}function h(y,p){i=Hn.Replace;let f=lb(m.location,y,p);r&&r(f,y),l=d();let x=zS(f,l),b=m.createHref(f);s.replaceState(x,"",b),n&&c&&c({action:i,location:m.location,delta:0})}function v(y){let p=o.location.origin!=="null"?o.location.origin:o.location.href,f=typeof y=="string"?y:$l(y);return f=f.replace(/ $/,"%20"),$r(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let m={get action(){return i},get location(){return e(o,s)},listen(y){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(US,u),c=y,()=>{o.removeEventListener(US,u),c=null}},createHref(y){return t(o,y)},createURL:v,encodeLocation(y){let p=v(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:g,replace:h,go(y){return s.go(y)}};return m}var $S;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($S||($S={}));function $h(e,t,r){return r===void 0&&(r="/"),IO(e,t,r,!1)}function IO(e,t,r,a){let o=typeof t=="string"?ei(t):t,n=tm(o.pathname||"/",r);if(n==null)return null;let s=GS(e);RO(s);let i=null;for(let c=0;i==null&&c<s.length;++c){let l=QS(n);i=BO(s[c],l,a)}return i}function GS(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let o=(n,s,i)=>{let c={relativePath:i===void 0?n.path||"":i,caseSensitive:n.caseSensitive===!0,childrenIndex:s,route:n};c.relativePath.startsWith("/")&&($r(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let l=ks([a,c.relativePath]),d=r.concat(c);n.children&&n.children.length>0&&($r(n.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),GS(n.children,t,d,l)),!(n.path==null&&!n.index)&&t.push({path:l,score:MO(l,n.index),routesMeta:d})};return e.forEach((n,s)=>{var i;if(n.path===""||!((i=n.path)!=null&&i.includes("?")))o(n,s);else for(let c of KS(n.path))o(n,s,c)}),t}function KS(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,o=r.endsWith("?"),n=r.replace(/\?$/,"");if(a.length===0)return o?[n,""]:[n];let s=KS(a.join("/")),i=[];return i.push(...s.map(c=>c===""?n:[n,c].join("/"))),o&&i.push(...s),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function RO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:_O(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var AO=/^:[\w-]+$/,PO=3,TO=2,DO=1,FO=10,OO=-2,HS=e=>e==="*";function MO(e,t){let r=e.split("/"),a=r.length;return r.some(HS)&&(a+=OO),t&&(a+=TO),r.filter(o=>!HS(o)).reduce((o,n)=>o+(AO.test(n)?PO:n===""?DO:FO),a)}function _O(e,t){return e.length===t.length&&e.slice(0,-1).every((a,o)=>a===t[o])?e[e.length-1]-t[t.length-1]:0}function BO(e,t,r){r===void 0&&(r=!1);let{routesMeta:a}=e,o={},n="/",s=[];for(let i=0;i<a.length;++i){let c=a[i],l=i===a.length-1,d=n==="/"?t:t.slice(n.length)||"/",u=wd({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},d),g=c.route;if(!u&&l&&r&&!a[a.length-1].route.index&&(u=wd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!u)return null;Object.assign(o,u.params),s.push({params:o,pathname:ks([n,u.pathname]),pathnameBase:zO(ks([n,u.pathnameBase])),route:g}),u.pathnameBase!=="/"&&(n=ks([n,u.pathnameBase]))}return s}function wd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=qO(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let n=o[0],s=n.replace(/(.)\/+$/,"$1"),i=o.slice(1);return{params:a.reduce((l,d,u)=>{let{paramName:g,isOptional:h}=d;if(g==="*"){let m=i[u]||"";s=n.slice(0,n.length-m.length).replace(/(.)\/+$/,"$1")}let v=i[u];return h&&!v?l[g]=void 0:l[g]=(v||"").replace(/%2F/g,"/"),l},{}),pathname:n,pathnameBase:s,pattern:e}}function qO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),WS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,i,c)=>(a.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function QS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return WS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function tm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function cb(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:o=""}=typeof e=="string"?ei(e):e;return{pathname:r?r.startsWith("/")?r:jO(r,t):t,search:$O(a),hash:HO(o)}}function jO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function ib(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Hh(e,t){let r=UO(e);return t?r.map((a,o)=>o===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Vh(e,t,r,a){a===void 0&&(a=!1);let o;typeof e=="string"?o=ei(e):(o=em({},e),$r(!o.pathname||!o.pathname.includes("?"),ib("?","pathname","search",o)),$r(!o.pathname||!o.pathname.includes("#"),ib("#","pathname","hash",o)),$r(!o.search||!o.search.includes("#"),ib("#","search","hash",o)));let n=e===""||o.pathname==="",s=n?"/":o.pathname,i;if(s==null)i=r;else{let u=t.length-1;if(!a&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),u-=1;o.pathname=g.join("/")}i=u>=0?t[u]:"/"}let c=cb(o,i),l=s&&s!=="/"&&s.endsWith("/"),d=(n||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(l||d)&&(c.pathname+="/"),c}var ks=e=>e.join("/").replace(/\/\/+/g,"/"),zO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$O=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Wh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var YS=["post","put","patch","delete"],cY=new Set(YS),VO=["get",...YS],dY=new Set(VO);var uY=Symbol("deferred");function rm(){return rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rm.apply(this,arguments)}var om=ct.createContext(null),ub=ct.createContext(null);var Ns=ct.createContext(null),nm=ct.createContext(null),Vn=ct.createContext({outlet:null,matches:[],isDataRoute:!1}),ZS=ct.createContext(null);function fb(e,t){let{relative:r}=t===void 0?{}:t;Hl()||$r(!1);let{basename:a,navigator:o}=ct.useContext(Ns),{hash:n,pathname:s,search:i}=Kh(e,{relative:r}),c=s;return a!=="/"&&(c=s==="/"?a:ks([a,s])),o.createHref({pathname:c,search:i,hash:n})}function Hl(){return ct.useContext(nm)!=null}function lr(){return Hl()||$r(!1),ct.useContext(nm).location}function eE(e){ct.useContext(Ns).static||ct.useLayoutEffect(e)}function ht(){let{isDataRoute:e}=ct.useContext(Vn);return e?i7():ZO()}function ZO(){Hl()||$r(!1);let e=ct.useContext(om),{basename:t,future:r,navigator:a}=ct.useContext(Ns),{matches:o}=ct.useContext(Vn),{pathname:n}=lr(),s=JSON.stringify(Hh(o,r.v7_relativeSplatPath)),i=ct.useRef(!1);return eE(()=>{i.current=!0}),ct.useCallback(function(l,d){if(d===void 0&&(d={}),!i.current)return;if(typeof l=="number"){a.go(l);return}let u=Vh(l,JSON.parse(s),n,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:ks([t,u.pathname])),(d.replace?a.replace:a.push)(u,d.state,d)},[t,a,s,n,e])}function ya(){let{matches:e}=ct.useContext(Vn),t=e[e.length-1];return t?t.params:{}}function Kh(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=ct.useContext(Ns),{matches:o}=ct.useContext(Vn),{pathname:n}=lr(),s=JSON.stringify(Hh(o,a.v7_relativeSplatPath));return ct.useMemo(()=>Vh(e,JSON.parse(s),n,r==="path"),[e,s,n,r])}function tE(e,t){return rE(e,t)}function rE(e,t,r,a){Hl()||$r(!1);let{navigator:o}=ct.useContext(Ns),{matches:n}=ct.useContext(Vn),s=n[n.length-1],i=s?s.params:{},c=s?s.pathname:"/",l=s?s.pathnameBase:"/",d=s&&s.route,u=lr(),g;if(t){var h;let f=typeof t=="string"?ei(t):t;l==="/"||(h=f.pathname)!=null&&h.startsWith(l)||$r(!1),g=f}else g=u;let v=g.pathname||"/",m=v;if(l!=="/"){let f=l.replace(/^\//,"").split("/");m="/"+v.replace(/^\//,"").split("/").slice(f.length).join("/")}let y=$h(e,{pathname:m}),p=a7(y&&y.map(f=>Object.assign({},f,{params:Object.assign({},i,f.params),pathname:ks([l,o.encodeLocation?o.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?l:ks([l,o.encodeLocation?o.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),n,r,a);return t&&p?ct.createElement(nm.Provider,{value:{location:rm({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Hn.Pop}},p):p}function e7(){let e=nE(),t=Wh(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},n={padding:"2px 4px",backgroundColor:a};return ct.createElement(ct.Fragment,null,ct.createElement("h2",null,"Unexpected Application Error!"),ct.createElement("h3",{style:{fontStyle:"italic"}},t),r?ct.createElement("pre",{style:o},r):null,null)}var t7=ct.createElement(e7,null),db=class extends ct.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?ct.createElement(Vn.Provider,{value:this.props.routeContext},ct.createElement(ZS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r7(e){let{routeContext:t,match:r,children:a}=e,o=ct.useContext(om);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),ct.createElement(Vn.Provider,{value:t},a)}function a7(e,t,r,a){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var n;if(!r)return null;if(r.errors)e=r.matches;else if((n=a)!=null&&n.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=(o=r)==null?void 0:o.errors;if(i!=null){let d=s.findIndex(u=>u.route.id&&i?.[u.route.id]!==void 0);d>=0||$r(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,l=-1;if(r&&a&&a.v7_partialHydration)for(let d=0;d<s.length;d++){let u=s[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=d),u.route.id){let{loaderData:g,errors:h}=r,v=u.route.loader&&g[u.route.id]===void 0&&(!h||h[u.route.id]===void 0);if(u.route.lazy||v){c=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((d,u,g)=>{let h,v=!1,m=null,y=null;r&&(h=i&&u.route.id?i[u.route.id]:void 0,m=u.route.errorElement||t7,c&&(l<0&&g===0?(l7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,y=null):l===g&&(v=!0,y=u.route.hydrateFallbackElement||null)));let p=t.concat(s.slice(0,g+1)),f=()=>{let x;return h?x=m:v?x=y:u.route.Component?x=ct.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=d,ct.createElement(r7,{match:u,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:x})};return r&&(u.route.ErrorBoundary||u.route.errorElement||g===0)?ct.createElement(db,{location:r.location,revalidation:r.revalidation,component:m,error:h,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var aE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(aE||{}),Gh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Gh||{});function o7(e){let t=ct.useContext(om);return t||$r(!1),t}function n7(e){let t=ct.useContext(ub);return t||$r(!1),t}function s7(e){let t=ct.useContext(Vn);return t||$r(!1),t}function oE(e){let t=s7(e),r=t.matches[t.matches.length-1];return r.route.id||$r(!1),r.route.id}function nE(){var e;let t=ct.useContext(ZS),r=n7(Gh.UseRouteError),a=oE(Gh.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function i7(){let{router:e}=o7(aE.UseNavigateStable),t=oE(Gh.UseNavigateStable),r=ct.useRef(!1);return eE(()=>{r.current=!0}),ct.useCallback(function(o,n){n===void 0&&(n={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,rm({fromRouteId:t},n)))},[e,t])}var XS={};function l7(e,t,r){!t&&!XS[e]&&(XS[e]=!0)}var kd=(e,t,r)=>(""+t+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."),void 0);function sE(e,t){e?.v7_startTransition===void 0&&kd("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),e?.v7_relativeSplatPath===void 0&&(!t||t.v7_relativeSplatPath===void 0)&&kd("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(t.v7_fetcherPersist===void 0&&kd("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),t.v7_normalizeFormMethod===void 0&&kd("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),t.v7_partialHydration===void 0&&kd("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),t.v7_skipActionErrorRevalidation===void 0&&kd("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}var c7="startTransition",yY=ct[c7];function Ji(e){let{to:t,replace:r,state:a,relative:o}=e;Hl()||$r(!1);let{future:n,static:s}=ct.useContext(Ns),{matches:i}=ct.useContext(Vn),{pathname:c}=lr(),l=ht(),d=Vh(t,Hh(i,n.v7_relativeSplatPath),c,o==="path"),u=JSON.stringify(d);return ct.useEffect(()=>l(JSON.parse(u),{replace:r,state:a,relative:o}),[l,u,o,r,a]),null}function Nt(e){$r(!1)}function mb(e){let{basename:t="/",children:r=null,location:a,navigationType:o=Hn.Pop,navigator:n,static:s=!1,future:i}=e;Hl()&&$r(!1);let c=t.replace(/^\/*/,"/"),l=ct.useMemo(()=>({basename:c,navigator:n,static:s,future:rm({v7_relativeSplatPath:!1},i)}),[c,i,n,s]);typeof a=="string"&&(a=ei(a));let{pathname:d="/",search:u="",hash:g="",state:h=null,key:v="default"}=a,m=ct.useMemo(()=>{let y=tm(d,c);return y==null?null:{location:{pathname:y,search:u,hash:g,state:h,key:v},navigationType:o}},[c,d,u,g,h,v,o]);return m==null?null:ct.createElement(Ns.Provider,{value:l},ct.createElement(nm.Provider,{children:r,value:m}))}function Qh(e){let{children:t,location:r}=e;return tE(am(t),r)}var xY=new Promise(()=>{});function am(e,t){t===void 0&&(t=[]);let r=[];return ct.Children.forEach(e,(a,o)=>{if(!ct.isValidElement(a))return;let n=[...t,o];if(a.type===ct.Fragment){r.push.apply(r,am(a.props.children,n));return}a.type!==Nt&&$r(!1),!a.props.index||!a.props.children||$r(!1);let s={id:a.props.id||n.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(s.children=am(a.props.children,n)),r.push(s)}),r}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pb.apply(this,arguments)}function g7(e,t){if(e==null)return{};var r={},a=Object.keys(e),o,n;for(n=0;n<a.length;n++)o=a[n],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function h7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function v7(e,t){return e.button===0&&(!t||t==="_self")&&!h7(e)}var y7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];var x7="6";try{window.__reactRouterVersion=x7}catch{}var b7="startTransition",iE=Mr[b7],w7="flushSync",HY=p7[w7],k7="useId",VY=Mr[k7];function gb(e){let{basename:t,children:r,future:a,window:o}=e,n=Mr.useRef();n.current==null&&(n.current=VS({window:o,v5Compat:!0}));let s=n.current,[i,c]=Mr.useState({action:s.action,location:s.location}),{v7_startTransition:l}=a||{},d=Mr.useCallback(u=>{l&&iE?iE(()=>c(u)):c(u)},[c,l]);return Mr.useLayoutEffect(()=>s.listen(d),[s,d]),Mr.useEffect(()=>sE(a),[a]),Mr.createElement(mb,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:s,future:a})}var N7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,we=Mr.forwardRef(function(t,r){let{onClick:a,relative:o,reloadDocument:n,replace:s,state:i,target:c,to:l,preventScrollReset:d,viewTransition:u}=t,g=g7(t,y7),{basename:h}=Mr.useContext(Ns),v,m=!1;if(typeof l=="string"&&C7.test(l)&&(v=l,N7))try{let x=new URL(window.location.href),b=l.startsWith("//")?new URL(x.protocol+l):new URL(l),w=tm(b.pathname,h);b.origin===x.origin&&w!=null?l=w+b.search+b.hash:m=!0}catch{}let y=fb(l,{relative:o}),p=S7(l,{replace:s,state:i,target:c,preventScrollReset:d,relative:o,viewTransition:u});function f(x){a&&a(x),x.defaultPrevented||p(x)}return Mr.createElement("a",pb({},g,{href:v||y,onClick:m||n?a:f,ref:r,target:c}))});var lE;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lE||(lE={}));var cE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cE||(cE={}));function S7(e,t){let{target:r,replace:a,state:o,preventScrollReset:n,relative:s,viewTransition:i}=t===void 0?{}:t,c=ht(),l=lr(),d=Kh(e,{relative:s});return Mr.useCallback(u=>{if(v7(u,r)){u.preventDefault();let g=a!==void 0?a:$l(l)===$l(d);c(e,{replace:g,state:o,preventScrollReset:n,relative:s,viewTransition:i})}},[l,c,d,a,o,r,e,n,s,i])}var uE={},dE=e=>{let t,r=new Set,a=(d,u)=>{let g=typeof d=="function"?d(t):d;if(!Object.is(g,t)){let h=t;t=u??(typeof g!="object"||g===null)?g:Object.assign({},t,g),r.forEach(v=>v(t,h))}},o=()=>t,c={setState:a,getState:o,getInitialState:()=>l,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(uE.env?uE.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},l=t=e(a,o,c);return c},fE=e=>e?dE(e):dE;var NE=H(he(),1),CE=H(bE(),1),Xh={},{useDebugValue:$7}=NE.default,{useSyncExternalStoreWithSelector:H7}=CE.default,wE=!1,V7=e=>e;function W7(e,t=V7,r){(Xh.env?Xh.env.MODE:void 0)!=="production"&&r&&!wE&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),wE=!0);let a=H7(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return $7(a),a}var kE=e=>{(Xh.env?Xh.env.MODE:void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t=typeof e=="function"?fE(e):e,r=(a,o)=>W7(t,a,o);return Object.assign(r,t),r},Jh=e=>e?kE(e):kE;Rt();var Ge=Jh((e,t)=>({user:(()=>{let r=localStorage.getItem("user");return r?JSON.parse(r):null})(),token:(()=>{let r=localStorage.getItem("token");return r&&ri(r),r})(),isAuthenticated:!!localStorage.getItem("token"),isLoading:!1,error:null,login:async(r,a)=>{e({isLoading:!0,error:null});try{let o=await vt.login({email:r,password:a}),{user:n,token:s}=o;ri(s),o.refreshToken&&mn(o.refreshToken),localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify(n)),e({user:n,token:s,isAuthenticated:!0,isLoading:!1,error:null})}catch(o){throw e({isLoading:!1,error:o.response?.data?.error||"Login failed"}),o}},register:async(r,a,o,n)=>{e({isLoading:!0,error:null});try{let s=await vt.register({name:r,email:a,password:o,role:n}),{user:i,token:c}=s;ri(c),s.refreshToken&&mn(s.refreshToken),localStorage.setItem("token",c),localStorage.setItem("user",JSON.stringify(i)),e({user:i,token:c,isAuthenticated:!0,isLoading:!1,error:null})}catch(s){throw e({isLoading:!1,error:s.response?.data?.error||"Registration failed"}),s}},loginWithOAuth:async r=>{e({isLoading:!0,error:null});try{let{initiateGoogleLogin:a,initiateLinkedInLogin:o}=await Promise.resolve().then(()=>(Rt(),t1));if(r==="google")a();else if(r==="linkedin")o();else throw new Error("Unsupported OAuth provider")}catch(a){throw e({isLoading:!1,error:a.message||"OAuth login failed"}),a}},handleOAuthLogin:async(r,a,o)=>{e({isLoading:!0,error:null});try{let{user:n,token:s,refreshToken:i}=await aw(r,a,o);ri(s),i&&mn(i),localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify(n)),e({user:n,token:s,isAuthenticated:!0,isLoading:!1,error:null})}catch(n){throw e({isLoading:!1,error:n.response?.data?.error||"OAuth login failed"}),n}},logout:()=>{ri(null),mn(null),e({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null}),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("refreshToken")},clearError:()=>{e({error:null})},setLoading:r=>{e({isLoading:r})},updateUser:r=>{let a=t();a.user&&e({user:{...a.user,...r}})}}));var $4={};function Zq(e,t){let r;try{r=e()}catch{return}return{getItem:o=>{var n;let s=c=>c===null?null:JSON.parse(c,t?.reviver),i=(n=r.getItem(o))!=null?n:null;return i instanceof Promise?i.then(s):s(i)},setItem:(o,n)=>r.setItem(o,JSON.stringify(n,t?.replacer)),removeItem:o=>r.removeItem(o)}}var Rm=e=>t=>{try{let r=e(t);return r instanceof Promise?r:{then(a){return Rm(a)(r)},catch(a){return this}}}catch(r){return{then(a){return this},catch(a){return Rm(a)(r)}}}},e8=(e,t)=>(r,a,o)=>{let n={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,p)=>({...p,...y}),...t},s=!1,i=new Set,c=new Set,l;try{l=n.getStorage()}catch{}if(!l)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),r(...y)},a,o);let d=Rm(n.serialize),u=()=>{let y=n.partialize({...a()}),p,f=d({state:y,version:n.version}).then(x=>l.setItem(n.name,x)).catch(x=>{p=x});if(p)throw p;return f},g=o.setState;o.setState=(y,p)=>{g(y,p),u()};let h=e((...y)=>{r(...y),u()},a,o),v,m=()=>{var y;if(!l)return;s=!1,i.forEach(f=>f(a()));let p=((y=n.onRehydrateStorage)==null?void 0:y.call(n,a()))||void 0;return Rm(l.getItem.bind(l))(n.name).then(f=>{if(f)return n.deserialize(f)}).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==n.version){if(n.migrate)return n.migrate(f.state,f.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return f.state}).then(f=>{var x;return v=n.merge(f,(x=a())!=null?x:h),r(v,!0),u()}).then(()=>{p?.(v,void 0),s=!0,c.forEach(f=>f(v))}).catch(f=>{p?.(void 0,f)})};return o.persist={setOptions:y=>{n={...n,...y},y.getStorage&&(l=y.getStorage())},clearStorage:()=>{l?.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>m(),hasHydrated:()=>s,onHydrate:y=>(i.add(y),()=>{i.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},m(),v||h},t8=(e,t)=>(r,a,o)=>{let n={storage:Zq(()=>localStorage),partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...t},s=!1,i=new Set,c=new Set,l=n.storage;if(!l)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),r(...m)},a,o);let d=()=>{let m=n.partialize({...a()});return l.setItem(n.name,{state:m,version:n.version})},u=o.setState;o.setState=(m,y)=>{u(m,y),d()};let g=e((...m)=>{r(...m),d()},a,o);o.getInitialState=()=>g;let h,v=()=>{var m,y;if(!l)return;s=!1,i.forEach(f=>{var x;return f((x=a())!=null?x:g)});let p=((y=n.onRehydrateStorage)==null?void 0:y.call(n,(m=a())!=null?m:g))||void 0;return Rm(l.getItem.bind(l))(n.name).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==n.version){if(n.migrate)return[!0,n.migrate(f.state,f.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,f.state];return[!1,void 0]}).then(f=>{var x;let[b,w]=f;if(h=n.merge(w,(x=a())!=null?x:g),r(h,!0),b)return d()}).then(()=>{p?.(h,void 0),h=a(),s=!0,c.forEach(f=>f(h))}).catch(f=>{p?.(void 0,f)})};return o.persist={setOptions:m=>{n={...n,...m},m.storage&&(l=m.storage)},clearStorage:()=>{l?.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>v(),hasHydrated:()=>s,onHydrate:m=>(i.add(m),()=>{i.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},n.skipHydration||v(),h||g},r8=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(($4.env?$4.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),e8(e,t)):t8(e,t),H4=r8;var r1=()=>typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",S0=e=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Td=Jh()(H4((e,t)=>({theme:"system",getSystemPreference:r1,getEffectiveTheme:()=>{let r=t().theme;return r==="system"?r1():r},toggleTheme:()=>{let r=t().theme,a;r==="system"?a="light":r==="light"?a="dark":a="system",e({theme:a}),S0(t().getEffectiveTheme())},setTheme:r=>{e({theme:r}),S0(t().getEffectiveTheme())}}),{name:"theme-storage",onRehydrateStorage:()=>e=>{if(e){let t=e.getEffectiveTheme();S0(t)}}}));if(typeof window<"u"){let e=localStorage.getItem("theme-storage"),t="system";if(e)try{t=JSON.parse(e).state?.theme||"system"}catch{t="system"}let r=t==="system"?r1():t;S0(r)}Rt();var Aa=H(he());var Am=H(he());var V4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var a8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G=(e,t)=>{let r=(0,Am.forwardRef)(({color:a="currentColor",size:o=24,strokeWidth:n=2,absoluteStrokeWidth:s,children:i,...c},l)=>(0,Am.createElement)("svg",{ref:l,...V4,width:o,height:o,stroke:a,strokeWidth:s?Number(n)*24/Number(o):n,className:`lucide lucide-${a8(e)}`,...c},[...t.map(([d,u])=>(0,Am.createElement)(d,u)),...(Array.isArray(i)?i:[i])||[]]));return r.displayName=`${e}`,r};var pr=G("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var Pm=G("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var Dd=G("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);var tl=G("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);var Ka=G("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var cr=G("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var rl=G("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);var al=G("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var _a=G("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);var _r=G("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var Ba=G("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var Tm=G("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);var ot=G("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);var zo=G("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);var ol=G("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);var gn=G("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);var Xl=G("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var Dm=G("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);var Kt=G("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);var Jl=G("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var ni=G("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var Xt=G("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var Zl=G("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);var fr=G("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var qa=G("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var Fm=G("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var Om=G("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var si=G("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var xt=G("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var ec=G("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);var tc=G("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);var ii=G("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var Fd=G("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var Ra=G("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var Wr=G("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var nl=G("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var Nr=G("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var sl=G("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);var Mm=G("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);var jt=G("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);var ba=G("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);var li=G("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var _m=G("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var Bm=G("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var il=G("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var qm=G("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);var or=G("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);var so=G("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);var Od=G("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var jm=G("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0",key:"aigmz7"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2",key:"1n6bmn"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8",key:"a9iiix"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);var rc=G("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);var Um=G("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);var No=G("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var ci=G("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var ll=G("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var zm=G("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);var $m=G("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);var Es=G("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var Hm=G("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);var Vm=G("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var Wm=G("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);var Co=G("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);var Ls=G("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var ja=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var Gm=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var $o=G("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var Md=G("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var Yn=G("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);var Km=G("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);var Qm=G("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var Br=G("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);var yr=G("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var Ym=G("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);var Xm=G("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);var ac=G("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);var Jm=G("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);var Zm=G("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);var ep=G("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var Is=G("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var cl=G("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);var tp=G("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);var di=G("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);var rp=G("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);var Gr=G("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);var hn=G("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);var oc=G("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var _d=G("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);var Xn=G("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var ap=G("PictureInPicture",[["path",{d:"M8 4.5v5H3m-1-6 6 6m13 0v-3c0-1.16-.84-2-2-2h-7m-9 9v2c0 1.05.95 2 2 2h3",key:"bcd8fb"}],["rect",{width:"10",height:"7",x:"12",y:"13.5",ry:"2",key:"136fx3"}]]);var dl=G("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);var oa=G("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);var Ut=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var op=G("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);var np=G("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);var sp=G("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var nc=G("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);var Jn=G("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var Pt=G("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var Ho=G("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var Zn=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var So=G("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var Bd=G("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);var ip=G("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);var lp=G("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);var cp=G("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);var dp=G("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);var up=G("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var vn=G("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);var qd=G("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var Jt=G("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var fp=G("Subtitles",[["path",{d:"M7 13h4",key:"1m1xj0"}],["path",{d:"M15 13h2",key:"vgjay3"}],["path",{d:"M7 9h2",key:"1q072n"}],["path",{d:"M13 9h4",key:"o7fxw0"}],["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2Z",key:"5somay"}]]);var mp=G("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var ul=G("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);var Rs=G("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var ui=G("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);var Vo=G("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);var gr=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var Cr=G("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var pp=G("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var gp=G("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);var hp=G("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);var fl=G("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var jd=G("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var Kr=G("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var it=G("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var Bt=G("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);var sc=G("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);var ic=G("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);var vp=G("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var et=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Wo=G("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var Qr=H(he());Rt();var lc=H(he());Rt();var wt=H(se()),Q4=({isOpen:e,onClose:t,conferenceId:r,participants:a,onAssignToRoom:o,onRemoveFromRoom:n,onStartRooms:s,onCloseRooms:i,isTeacher:c})=>{let[l,d]=(0,lc.useState)([]),[u,g]=(0,lc.useState)(!1),[h,v]=(0,lc.useState)(!1),[m,y]=(0,lc.useState)(null);(0,lc.useEffect)(()=>{e&&r&&p()},[e,r]);let p=async()=>{try{v(!0),y(null);let E=(await vt.getBreakoutRooms(r)).rooms.map(L=>({id:L.id,name:L.name,participants:L.participantIds.map(P=>a.find(j=>j.id===P)).filter(P=>P!==void 0)}));d(E.length>0?E:[{id:"room-1",name:"Room 1",participants:[]},{id:"room-2",name:"Room 2",participants:[]}]),g(E.some(L=>L.participants.length>0))}catch(k){console.error("Error loading breakout rooms:",k),y(k.response?.data?.message||"Failed to load breakout rooms"),d([{id:"room-1",name:"Room 1",participants:[]},{id:"room-2",name:"Room 2",participants:[]}])}finally{v(!1)}},f=()=>{let k={id:`room-${Date.now()}`,name:`Room ${l.length+1}`,participants:[]};d(E=>[...E,k])},x=k=>{if(l.length<=1)return;let E=l.find(L=>L.id===k);E&&E.participants.forEach(L=>{n&&n(L.id)}),d(L=>L.filter(P=>P.id!==k))},b=async()=>{let E=[...a.filter(P=>!l.some(j=>j.participants.some(M=>M.id===P.id)))].sort(()=>Math.random()-.5),L=l.length;try{y(null);for(let P=0;P<E.length;P++){let j=E[P],M=P%L,q=l[M];await vt.assignParticipantToBreakoutRoom(r,q.id,j.id),d(R=>R.map(D=>D.id===q.id?{...D,participants:[...D.participants,j]}:D)),o&&o(j.id,q.id)}}catch(P){console.error("Error auto-assigning participants:",P),y(P.response?.data?.message||"Failed to assign participants")}},w=()=>{let k=new Set(l.flatMap(E=>E.participants.map(L=>L.id)));return a.filter(E=>!k.has(E.id))},N=async()=>{try{y(null),v(!0);let k=l.map(L=>({name:L.name,participantIds:L.participants.map(P=>P.id)})),E=await vt.createBreakoutRooms(r,k);if(E.rooms){let L=E.rooms.map((P,j)=>{let M=l[j];return{id:P.id,name:P.name,participants:P.participantIds.map(q=>a.find(R=>R.id===q)).filter(q=>q!==void 0)}});d(L)}g(!0),s&&s()}catch(k){console.error("Error starting breakout rooms:",k),y(k.response?.data?.message||"Failed to start breakout rooms")}finally{v(!1)}},I=async()=>{try{y(null),v(!0),await vt.closeBreakoutRooms(r),g(!1),d(k=>k.map(E=>({...E,participants:[]}))),i&&i()}catch(k){console.error("Error closing breakout rooms:",k),y(k.response?.data?.message||"Failed to close breakout rooms")}finally{v(!1)}},C=async(k,E)=>{try{y(null),await vt.assignParticipantToBreakoutRoom(r,E,k);let L=a.find(P=>P.id===k);L&&d(P=>P.map(j=>{if(j.id===E){if(!j.participants.some(M=>M.id===k))return{...j,participants:[...j.participants,L]}}else return{...j,participants:j.participants.filter(M=>M.id!==k)};return j})),o&&o(k,E)}catch(L){console.error("Error assigning participant to room:",L),y(L.response?.data?.message||"Failed to assign participant")}},S=async k=>{try{y(null),l.find(L=>L.participants.some(P=>P.id===k))&&d(L=>L.map(P=>({...P,participants:P.participants.filter(j=>j.id!==k)}))),n&&n(k)}catch(E){console.error("Error removing participant from room:",E),y(E.response?.data?.message||"Failed to remove participant")}};return e?(0,wt.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,wt.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,wt.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 px-6 py-4",children:(0,wt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,wt.jsx)("div",{className:"w-10 h-10 bg-blue-600 flex items-center justify-center",children:(0,wt.jsx)(it,{className:"h-5 w-5 text-white"})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Breakout Rooms"}),(0,wt.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Organize participants into smaller groups"})]})]}),(0,wt.jsx)("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:(0,wt.jsx)(et,{className:"h-5 w-5"})})]})}),(0,wt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[m&&(0,wt.jsx)("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:(0,wt.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:m})}),h&&(0,wt.jsx)("div",{className:"mb-4 flex items-center justify-center py-4",children:(0,wt.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}),c&&!u&&(0,wt.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,wt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,wt.jsxs)("button",{onClick:f,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[(0,wt.jsx)(Ut,{className:"h-4 w-4 mr-2"}),"Add Room"]}),(0,wt.jsxs)("button",{onClick:b,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-gray-600 hover:bg-gray-700 transition-colors",children:[(0,wt.jsx)(ip,{className:"h-4 w-4 mr-2"}),"Auto Assign"]})]}),(0,wt.jsx)("button",{onClick:N,disabled:h||l.some(k=>k.participants.length===0),className:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Starting...":"Start Rooms"})]}),u&&(0,wt.jsx)("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-xl p-4",children:(0,wt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,wt.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,wt.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Breakout rooms are active"})]}),c&&(0,wt.jsx)("button",{onClick:I,disabled:h,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Closing...":"Close All Rooms"})]})}),(0,wt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:l.map(k=>(0,wt.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 border border-gray-200 dark:border-gray-600",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wt.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:k.name}),c&&!u&&l.length>1&&(0,wt.jsx)("button",{onClick:()=>x(k.id),className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:(0,wt.jsx)(et,{className:"h-4 w-4"})})]}),(0,wt.jsx)("div",{className:"space-y-2 min-h-[100px]",children:k.participants.length===0?(0,wt.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No participants"}):k.participants.map(E=>(0,wt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center space-x-2",children:[E.avatarUrl?(0,wt.jsx)("img",{src:E.avatarUrl,alt:E.name,className:"w-6 h-6 rounded-full"}):(0,wt.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-purple-600"}),(0,wt.jsx)("span",{className:"text-sm text-gray-900 dark:text-white",children:E.name})]}),c&&!u&&(0,wt.jsx)("button",{onClick:()=>S(E.id),className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:(0,wt.jsx)(et,{className:"h-3 w-3"})})]},E.id))})]},k.id))}),c&&!u&&(0,wt.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:[(0,wt.jsxs)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:["Unassigned Participants (",w().length,")"]}),(0,wt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:w().map(k=>(0,wt.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[k.avatarUrl?(0,wt.jsx)("img",{src:k.avatarUrl,alt:k.name,className:"w-6 h-6 rounded-full"}):(0,wt.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-purple-600"}),(0,wt.jsx)("span",{className:"text-xs text-gray-900 dark:text-white truncate flex-1",children:k.name}),(0,wt.jsxs)("select",{onChange:E=>{E.target.value&&C(k.id,E.target.value)},className:"text-xs border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",defaultValue:"",children:[(0,wt.jsx)("option",{value:"",children:"Assign..."}),l.map(E=>(0,wt.jsx)("option",{value:E.id,children:E.name},E.id))]})]},k.id))})]})]})]})}):null};function Y4(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Y4(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function X4(){for(var e,t,r=0,a="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Y4(e))&&(a&&(a+=" "),a+=t);return a}var n1="-",d8=e=>{let t=f8(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:s=>{let i=s.split(n1);return i[0]===""&&i.length!==1&&i.shift(),e5(i,t)||u8(s)},getConflictingClassGroupIds:(s,i)=>{let c=r[s]||[];return i&&a[s]?[...c,...a[s]]:c}}},e5=(e,t)=>{if(e.length===0)return t.classGroupId;let r=e[0],a=t.nextPart.get(r),o=a?e5(e.slice(1),a):void 0;if(o)return o;if(t.validators.length===0)return;let n=e.join(n1);return t.validators.find(({validator:s})=>s(n))?.classGroupId},J4=/^\[(.+)\]$/,u8=e=>{if(J4.test(e)){let t=J4.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},f8=e=>{let{theme:t,prefix:r}=e,a={nextPart:new Map,validators:[]};return p8(Object.entries(e.classGroups),r).forEach(([n,s])=>{o1(s,a,n,t)}),a},o1=(e,t,r,a)=>{e.forEach(o=>{if(typeof o=="string"){let n=o===""?t:Z4(t,o);n.classGroupId=r;return}if(typeof o=="function"){if(m8(o)){o1(o(a),t,r,a);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([n,s])=>{o1(s,Z4(t,n),r,a)})})},Z4=(e,t)=>{let r=e;return t.split(n1).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},m8=e=>e.isThemeGetter,p8=(e,t)=>t?e.map(([r,a])=>{let o=a.map(n=>typeof n=="string"?t+n:typeof n=="object"?Object.fromEntries(Object.entries(n).map(([s,i])=>[t+s,i])):n);return[r,o]}):e,g8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map,o=(n,s)=>{r.set(n,s),t++,t>e&&(t=0,a=r,r=new Map)};return{get(n){let s=r.get(n);if(s!==void 0)return s;if((s=a.get(n))!==void 0)return o(n,s),s},set(n,s){r.has(n)?r.set(n,s):o(n,s)}}},t5="!",h8=e=>{let{separator:t,experimentalParseClassName:r}=e,a=t.length===1,o=t[0],n=t.length,s=i=>{let c=[],l=0,d=0,u;for(let y=0;y<i.length;y++){let p=i[y];if(l===0){if(p===o&&(a||i.slice(y,y+n)===t)){c.push(i.slice(d,y)),d=y+n;continue}if(p==="/"){u=y;continue}}p==="["?l++:p==="]"&&l--}let g=c.length===0?i:i.substring(d),h=g.startsWith(t5),v=h?g.substring(1):g,m=u&&u>d?u-d:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:v,maybePostfixModifierPosition:m}};return r?i=>r({className:i,parseClassName:s}):s},v8=e=>{if(e.length<=1)return e;let t=[],r=[];return e.forEach(a=>{a[0]==="["?(t.push(...r.sort(),a),r=[]):r.push(a)}),t.push(...r.sort()),t},y8=e=>({cache:g8(e.cacheSize),parseClassName:h8(e),...d8(e)}),x8=/\s+/,b8=(e,t)=>{let{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:o}=t,n=[],s=e.trim().split(x8),i="";for(let c=s.length-1;c>=0;c-=1){let l=s[c],{modifiers:d,hasImportantModifier:u,baseClassName:g,maybePostfixModifierPosition:h}=r(l),v=!!h,m=a(v?g.substring(0,h):g);if(!m){if(!v){i=l+(i.length>0?" "+i:i);continue}if(m=a(g),!m){i=l+(i.length>0?" "+i:i);continue}v=!1}let y=v8(d).join(":"),p=u?y+t5:y,f=p+m;if(n.includes(f))continue;n.push(f);let x=o(m,v);for(let b=0;b<x.length;++b){let w=x[b];n.push(p+w)}i=l+(i.length>0?" "+i:i)}return i};function w8(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=r5(t))&&(a&&(a+=" "),a+=r);return a}var r5=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=r5(e[a]))&&(r&&(r+=" "),r+=t);return r};function k8(e,...t){let r,a,o,n=s;function s(c){let l=t.reduce((d,u)=>u(d),e());return r=y8(l),a=r.cache.get,o=r.cache.set,n=i,i(c)}function i(c){let l=a(c);if(l)return l;let d=b8(c,r);return o(c,d),d}return function(){return n(w8.apply(null,arguments))}}var Ar=e=>{let t=r=>r[e]||[];return t.isThemeGetter=!0,t},a5=/^\[(?:([a-z-]+):)?(.+)\]$/i,N8=/^\d+\/\d+$/,C8=new Set(["px","full","screen"]),S8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,L8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,I8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fi=e=>Ud(e)||C8.has(e)||N8.test(e),ml=e=>zd(e,"length",_8),Ud=e=>!!e&&!Number.isNaN(Number(e)),a1=e=>zd(e,"number",Ud),yp=e=>!!e&&Number.isInteger(Number(e)),A8=e=>e.endsWith("%")&&Ud(e.slice(0,-1)),Ht=e=>a5.test(e),pl=e=>S8.test(e),P8=new Set(["length","size","percentage"]),T8=e=>zd(e,P8,o5),D8=e=>zd(e,"position",o5),F8=new Set(["image","url"]),O8=e=>zd(e,F8,q8),M8=e=>zd(e,"",B8),xp=()=>!0,zd=(e,t,r)=>{let a=a5.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):r(a[2]):!1},_8=e=>E8.test(e)&&!L8.test(e),o5=()=>!1,B8=e=>I8.test(e),q8=e=>R8.test(e);var j8=()=>{let e=Ar("colors"),t=Ar("spacing"),r=Ar("blur"),a=Ar("brightness"),o=Ar("borderColor"),n=Ar("borderRadius"),s=Ar("borderSpacing"),i=Ar("borderWidth"),c=Ar("contrast"),l=Ar("grayscale"),d=Ar("hueRotate"),u=Ar("invert"),g=Ar("gap"),h=Ar("gradientColorStops"),v=Ar("gradientColorStopPositions"),m=Ar("inset"),y=Ar("margin"),p=Ar("opacity"),f=Ar("padding"),x=Ar("saturate"),b=Ar("scale"),w=Ar("sepia"),N=Ar("skew"),I=Ar("space"),C=Ar("translate"),S=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",Ht,t],L=()=>[Ht,t],P=()=>["",fi,ml],j=()=>["auto",Ud,Ht],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",Ht],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[Ud,Ht];return{cacheSize:500,separator:":",theme:{colors:[xp],spacing:[fi,ml],blur:["none","",pl,Ht],brightness:F(),borderColor:[e],borderRadius:["none","","full",pl,Ht],borderSpacing:L(),borderWidth:P(),contrast:F(),grayscale:A(),hueRotate:F(),invert:A(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[A8,ml],inset:E(),margin:E(),opacity:F(),padding:L(),saturate:F(),scale:F(),sepia:A(),skew:F(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Ht]}],container:["container"],columns:[{columns:[pl]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Ht]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yp,Ht]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ht]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",yp,Ht]}],"grid-cols":[{"grid-cols":[xp]}],"col-start-end":[{col:["auto",{span:["full",yp,Ht]},Ht]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[xp]}],"row-start-end":[{row:["auto",{span:[yp,Ht]},Ht]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ht]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ht]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ht,t]}],"min-w":[{"min-w":[Ht,t,"min","max","fit"]}],"max-w":[{"max-w":[Ht,t,"none","full","min","max","fit","prose",{screen:[pl]},pl]}],h:[{h:[Ht,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ht,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ht,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ht,t,"auto","min","max","fit"]}],"font-size":[{text:["base",pl,ml]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",a1]}],"font-family":[{font:[xp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ht]}],"line-clamp":[{"line-clamp":["none",Ud,a1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fi,Ht]}],"list-image":[{"list-image":["none",Ht]}],"list-style-type":[{list:["none","disc","decimal",Ht]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fi,ml]}],"underline-offset":[{"underline-offset":["auto",fi,Ht]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),D8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",T8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},O8]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[n]}],"rounded-s":[{"rounded-s":[n]}],"rounded-e":[{"rounded-e":[n]}],"rounded-t":[{"rounded-t":[n]}],"rounded-r":[{"rounded-r":[n]}],"rounded-b":[{"rounded-b":[n]}],"rounded-l":[{"rounded-l":[n]}],"rounded-ss":[{"rounded-ss":[n]}],"rounded-se":[{"rounded-se":[n]}],"rounded-ee":[{"rounded-ee":[n]}],"rounded-es":[{"rounded-es":[n]}],"rounded-tl":[{"rounded-tl":[n]}],"rounded-tr":[{"rounded-tr":[n]}],"rounded-br":[{"rounded-br":[n]}],"rounded-bl":[{"rounded-bl":[n]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:q()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[fi,Ht]}],"outline-w":[{outline:[fi,ml]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[fi,ml]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",pl,M8]}],"shadow-color":[{shadow:[xp]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",pl,Ht]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ht]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",Ht]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ht]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[yp,Ht]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ht]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ht]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ht]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fi,ml,a1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}};var n5=k8(j8);function mi(...e){return n5(X4(e))}function io(e){return e.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().slice(0,2)}var $d=H(he(),1);function U8({title:e,titleId:t,...r},a){return $d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?$d.createElement("title",{id:t},e):null,$d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}var z8=$d.forwardRef(U8),bp=z8;var Hd=H(he(),1);function $8({title:e,titleId:t,...r},a){return Hd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?Hd.createElement("title",{id:t},e):null,Hd.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}var H8=Hd.forwardRef($8),pi=H8;var Vd=H(he(),1);function V8({title:e,titleId:t,...r},a){return Vd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?Vd.createElement("title",{id:t},e):null,Vd.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}var W8=Vd.forwardRef(V8),s1=W8;var Wd=H(he(),1);function G8({title:e,titleId:t,...r},a){return Wd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?Wd.createElement("title",{id:t},e):null,Wd.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}var K8=Wd.forwardRef(G8),i1=K8;var Gd=H(he(),1);function Q8({title:e,titleId:t,...r},a){return Gd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?Gd.createElement("title",{id:t},e):null,Gd.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}var Y8=Gd.forwardRef(Q8),l1=Y8;var Kd=H(he(),1);function X8({title:e,titleId:t,...r},a){return Kd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?Kd.createElement("title",{id:t},e):null,Kd.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}var J8=Kd.forwardRef(X8),Go=J8;var cc=H(he(),1);function Z8({title:e,titleId:t,...r},a){return cc.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?cc.createElement("title",{id:t},e):null,cc.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),cc.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}var e9=cc.forwardRef(Z8),wp=e9;var Qd=H(he(),1);function t9({title:e,titleId:t,...r},a){return Qd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?Qd.createElement("title",{id:t},e):null,Qd.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}var r9=Qd.forwardRef(t9),c1=r9;var Yd=H(he(),1);function a9({title:e,titleId:t,...r},a){return Yd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?Yd.createElement("title",{id:t},e):null,Yd.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}var o9=Yd.forwardRef(a9),d1=o9;var Xd=H(he(),1);function n9({title:e,titleId:t,...r},a){return Xd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?Xd.createElement("title",{id:t},e):null,Xd.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var s9=Xd.forwardRef(n9),Qa=s9;var Jd=H(he(),1);function i9({title:e,titleId:t,...r},a){return Jd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?Jd.createElement("title",{id:t},e):null,Jd.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}var l9=Jd.forwardRef(i9),L0=l9;var Zd=H(he(),1);function c9({title:e,titleId:t,...r},a){return Zd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?Zd.createElement("title",{id:t},e):null,Zd.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var d9=Zd.forwardRef(c9),Ya=d9;var dc=H(he(),1);function u9({title:e,titleId:t,...r},a){return dc.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?dc.createElement("title",{id:t},e):null,dc.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),dc.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}var f9=dc.forwardRef(u9),kp=f9;var eu=H(he(),1);function m9({title:e,titleId:t,...r},a){return eu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?eu.createElement("title",{id:t},e):null,eu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}var p9=eu.forwardRef(m9),I0=p9;var tu=H(he(),1);function g9({title:e,titleId:t,...r},a){return tu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?tu.createElement("title",{id:t},e):null,tu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}var h9=tu.forwardRef(g9),yn=h9;var ru=H(he(),1);function v9({title:e,titleId:t,...r},a){return ru.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ru.createElement("title",{id:t},e):null,ru.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}var y9=ru.forwardRef(v9),u1=y9;var au=H(he(),1);function x9({title:e,titleId:t,...r},a){return au.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?au.createElement("title",{id:t},e):null,au.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}var b9=au.forwardRef(x9),lo=b9;var ou=H(he(),1);function w9({title:e,titleId:t,...r},a){return ou.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ou.createElement("title",{id:t},e):null,ou.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}var k9=ou.forwardRef(w9),f1=k9;var uc=H(he(),1);function N9({title:e,titleId:t,...r},a){return uc.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?uc.createElement("title",{id:t},e):null,uc.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),uc.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}var C9=uc.forwardRef(N9),es=C9;var nu=H(he(),1);function S9({title:e,titleId:t,...r},a){return nu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?nu.createElement("title",{id:t},e):null,nu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"}))}var E9=nu.forwardRef(S9),m1=E9;var su=H(he(),1);function L9({title:e,titleId:t,...r},a){return su.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?su.createElement("title",{id:t},e):null,su.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))}var I9=su.forwardRef(L9),Np=I9;var iu=H(he(),1);function R9({title:e,titleId:t,...r},a){return iu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?iu.createElement("title",{id:t},e):null,iu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.05 4.575a1.575 1.575 0 1 0-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 0 1 3.15 0v1.5m-3.15 0 .075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 0 1 3.15 0V15M6.9 7.575a1.575 1.575 0 1 0-3.15 0v8.175a6.75 6.75 0 0 0 6.75 6.75h2.018a5.25 5.25 0 0 0 3.712-1.538l1.732-1.732a5.25 5.25 0 0 0 1.538-3.712l.003-2.024a.668.668 0 0 1 .198-.471 1.575 1.575 0 1 0-2.228-2.228 3.818 3.818 0 0 0-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0 1 16.35 15m.002 0h-.002"}))}var A9=iu.forwardRef(R9),Cp=A9;var lu=H(he(),1);function P9({title:e,titleId:t,...r},a){return lu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?lu.createElement("title",{id:t},e):null,lu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.498 15.25H4.372c-1.026 0-1.945-.694-2.054-1.715a12.137 12.137 0 0 1-.068-1.285c0-2.848.992-5.464 2.649-7.521C5.287 4.247 5.886 4 6.504 4h4.016a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23h1.294M7.498 15.25c.618 0 .991.724.725 1.282A7.471 7.471 0 0 0 7.5 19.75 2.25 2.25 0 0 0 9.75 22a.75.75 0 0 0 .75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 0 0 2.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384m-10.253 1.5H9.7m8.075-9.75c.01.05.027.1.05.148.593 1.2.925 2.55.925 3.977 0 1.487-.36 2.89-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398-.306.774-1.086 1.227-1.918 1.227h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 0 0 .303-.54"}))}var T9=lu.forwardRef(P9),p1=T9;var cu=H(he(),1);function D9({title:e,titleId:t,...r},a){return cu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?cu.createElement("title",{id:t},e):null,cu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}var F9=cu.forwardRef(D9),g1=F9;var du=H(he(),1);function O9({title:e,titleId:t,...r},a){return du.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?du.createElement("title",{id:t},e):null,du.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}var M9=du.forwardRef(O9),h1=M9;var uu=H(he(),1);function _9({title:e,titleId:t,...r},a){return uu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?uu.createElement("title",{id:t},e):null,uu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"}))}var B9=uu.forwardRef(_9),Sp=B9;var fu=H(he(),1);function q9({title:e,titleId:t,...r},a){return fu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?fu.createElement("title",{id:t},e):null,fu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"}))}var j9=fu.forwardRef(q9),R0=j9;var mu=H(he(),1);function U9({title:e,titleId:t,...r},a){return mu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?mu.createElement("title",{id:t},e):null,mu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}var z9=mu.forwardRef(U9),ts=z9;var pu=H(he(),1);function $9({title:e,titleId:t,...r},a){return pu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?pu.createElement("title",{id:t},e):null,pu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 3.75 18 6m0 0 2.25 2.25M18 6l2.25-2.25M18 6l-2.25 2.25m1.5 13.5c-8.284 0-15-6.716-15-15V4.5A2.25 2.25 0 0 1 4.5 2.25h1.372c.516 0 .966.351 1.091.852l1.106 4.423c.11.44-.054.902-.417 1.173l-1.293.97a1.062 1.062 0 0 0-.38 1.21 12.035 12.035 0 0 0 7.143 7.143c.441.162.928-.004 1.21-.38l.97-1.293a1.125 1.125 0 0 1 1.173-.417l4.423 1.106c.5.125.852.575.852 1.091V19.5a2.25 2.25 0 0 1-2.25 2.25h-2.25Z"}))}var H9=pu.forwardRef($9),A0=H9;var gu=H(he(),1);function V9({title:e,titleId:t,...r},a){return gu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?gu.createElement("title",{id:t},e):null,gu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}var W9=gu.forwardRef(V9),As=W9;var hu=H(he(),1);function G9({title:e,titleId:t,...r},a){return hu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?hu.createElement("title",{id:t},e):null,hu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 7.125C2.25 6.504 2.754 6 3.375 6h6c.621 0 1.125.504 1.125 1.125v3.75c0 .621-.504 1.125-1.125 1.125h-6a1.125 1.125 0 0 1-1.125-1.125v-3.75ZM14.25 8.625c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v8.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-8.25ZM3.75 16.125c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v2.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-2.25Z"}))}var K9=hu.forwardRef(G9),v1=K9;var vu=H(he(),1);function Q9({title:e,titleId:t,...r},a){return vu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?vu.createElement("title",{id:t},e):null,vu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}var Y9=vu.forwardRef(Q9),y1=Y9;var yu=H(he(),1);function X9({title:e,titleId:t,...r},a){return yu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?yu.createElement("title",{id:t},e):null,yu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}var J9=yu.forwardRef(X9),gl=J9;var xu=H(he(),1);function Z9({title:e,titleId:t,...r},a){return xu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?xu.createElement("title",{id:t},e):null,xu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M12 18.75H4.5a2.25 2.25 0 0 1-2.25-2.25V9m12.841 9.091L16.5 19.5m-1.409-1.409c.407-.407.659-.97.659-1.591v-9a2.25 2.25 0 0 0-2.25-2.25h-9c-.621 0-1.184.252-1.591.659m12.182 12.182L2.909 5.909M1.5 4.5l1.409 1.409"}))}var ej=xu.forwardRef(Z9),fc=ej;var bu=H(he(),1);function tj({title:e,titleId:t,...r},a){return bu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?bu.createElement("title",{id:t},e):null,bu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}var rj=bu.forwardRef(tj),hl=rj;var wu=H(he(),1);function aj({title:e,titleId:t,...r},a){return wu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?wu.createElement("title",{id:t},e):null,wu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var oj=wu.forwardRef(aj),ku=oj;var Nu=H(he(),1);function nj({title:e,titleId:t,...r},a){return Nu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?Nu.createElement("title",{id:t},e):null,Nu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}var sj=Nu.forwardRef(nj),gi=sj;var De=H(se()),ij=({conferenceId:e,onLeave:t})=>{let[r,a]=(0,Qr.useState)(null),[o,n]=(0,Qr.useState)([]),[s,i]=(0,Qr.useState)(null),[c,l]=(0,Qr.useState)(!1),[d,u]=(0,Qr.useState)(!0),[g,h]=(0,Qr.useState)(!1),[v,m]=(0,Qr.useState)(!1),[y,p]=(0,Qr.useState)(!1),[f,x]=(0,Qr.useState)(!1),[b,w]=(0,Qr.useState)(!1),[N,I]=(0,Qr.useState)(!1),[C,S]=(0,Qr.useState)(!1),[k,E]=(0,Qr.useState)(""),[L,P]=(0,Qr.useState)([]),[j,M]=(0,Qr.useState)(!0),[q,R]=(0,Qr.useState)(""),{user:D}=Ge(),A=D?.role==="TEACHER",B=(0,Qr.useRef)(null),F=(0,Qr.useRef)(null);(0,Qr.useEffect)(()=>(T(),()=>{U()}),[e]),(0,Qr.useEffect)(()=>{if(r){let pe=setInterval(O,5e3);return()=>clearInterval(pe)}},[r]);let T=async()=>{try{M(!0);let pe=await vt.joinVideoConference(e);if(a(pe.conference),i(pe.participant),n(pe.session.participants),l(pe.participant.isMuted),u(pe.participant.isVideoOn),p(pe.participant.isHandRaised),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){let re=await navigator.mediaDevices.getUserMedia({video:d,audio:!c});B.current&&(B.current.srcObject=re)}}catch(pe){console.error("Failed to join conference:",pe),R("Failed to join video conference")}finally{M(!1)}},U=async()=>{try{r&&await vt.leaveVideoConference(e)}catch(pe){console.error("Failed to leave conference:",pe)}t()},O=async()=>{try{let pe=await vt.getVideoParticipants(e);n(pe.participants)}catch(pe){console.error("Failed to update participants:",pe)}},z=async()=>{try{let pe=!c;await vt.updateVideoStatus(e,{isMuted:pe}),l(pe),B.current?.srcObject&&B.current.srcObject.getAudioTracks().forEach(Te=>{Te.enabled=!pe})}catch(pe){console.error("Failed to toggle mute:",pe)}},X=async()=>{try{let pe=!d;await vt.updateVideoStatus(e,{isVideoOn:pe}),u(pe),B.current?.srcObject&&B.current.srcObject.getVideoTracks().forEach(Te=>{Te.enabled=pe})}catch(pe){console.error("Failed to toggle video:",pe)}},J=async()=>{try{if(g)F.current?.srcObject&&(F.current.srcObject.getTracks().forEach(re=>re.stop()),F.current.srcObject=null),h(!1);else{let pe=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!1});F.current&&(F.current.srcObject=pe),h(!0)}}catch(pe){console.error("Failed to toggle screen share:",pe)}},K=async()=>{try{let pe=v?"stop":"start";await vt.controlVideoRecording(e,pe),m(!v)}catch(pe){console.error("Failed to toggle recording:",pe)}},ue=async()=>{try{let pe=!y;await vt.updateVideoStatus(e,{isHandRaised:pe}),p(pe)}catch(pe){console.error("Failed to toggle hand raise:",pe)}},ve=async pe=>{try{await vt.sendVideoReaction(e,pe)}catch(re){console.error("Failed to send reaction:",re)}},tt=async pe=>{if(pe.preventDefault(),!!k.trim())try{P(re=>[...re,{id:Date.now(),message:k,sender:s?.name||"You",timestamp:new Date().toISOString()}]),E("")}catch(re){console.error("Failed to send chat message:",re)}};if(j)return(0,De.jsx)("div",{className:"fixed inset-0 bg-gray-900 flex items-center justify-center",children:(0,De.jsxs)("div",{className:"text-center",children:[(0,De.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,De.jsx)("p",{className:"text-white",children:"Joining video conference..."})]})});if(q)return(0,De.jsx)("div",{className:"fixed inset-0 bg-gray-900 flex items-center justify-center",children:(0,De.jsxs)("div",{className:"text-center",children:[(0,De.jsx)("p",{className:"text-red-400 mb-4",children:q}),(0,De.jsx)("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Leave Conference"})]})});let qe=o.map(pe=>({id:pe.id,name:pe.name,avatarUrl:void 0}));return(0,De.jsxs)("div",{className:"fixed inset-0 bg-gray-900 flex flex-col",children:[C&&(0,De.jsx)(Q4,{isOpen:C,onClose:()=>S(!1),conferenceId:e,participants:qe,isTeacher:A}),(0,De.jsxs)("div",{className:"bg-gray-800 p-4 flex items-center justify-between",children:[(0,De.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,De.jsxs)("h1",{className:"text-white font-medium",children:[r?.provider," Meeting"]}),(0,De.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-300",children:[(0,De.jsx)(gl,{className:"w-4 h-4"}),(0,De.jsxs)("span",{children:[o.length," participants"]})]}),v&&(0,De.jsxs)("div",{className:"flex items-center space-x-2 text-red-400",children:[(0,De.jsx)(hl,{className:"w-4 h-4"}),(0,De.jsx)("span",{className:"text-sm",children:"Recording"})]})]}),(0,De.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,De.jsx)("button",{onClick:()=>I(!N),className:"p-2 text-gray-300 hover:text-white rounded-md hover:bg-gray-700",children:(0,De.jsx)(kp,{className:"w-5 h-5"})}),(0,De.jsxs)("button",{onClick:U,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center space-x-2",children:[(0,De.jsx)(A0,{className:"w-4 h-4"}),(0,De.jsx)("span",{children:"Leave"})]})]})]}),(0,De.jsxs)("div",{className:"flex-1 flex",children:[(0,De.jsxs)("div",{className:"flex-1 relative",children:[(0,De.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:g?(0,De.jsx)("video",{ref:F,autoPlay:!0,playsInline:!0,className:"max-w-full max-h-full object-contain"}):(0,De.jsxs)("div",{className:"grid grid-cols-2 gap-4 p-4 w-full h-full",children:[(0,De.jsxs)("div",{className:"relative bg-gray-800 rounded-lg overflow-hidden",children:[(0,De.jsx)("video",{ref:B,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),!d&&(0,De.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:(0,De.jsx)(fc,{className:"w-12 h-12 text-gray-400"})}),(0,De.jsxs)("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:["You ",c&&"(Muted)"]})]}),o.filter(pe=>pe.id!==s?.id).map(pe=>(0,De.jsxs)("div",{className:"relative bg-gray-800 rounded-lg overflow-hidden",children:[(0,De.jsx)("video",{autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),!pe.isVideoOn&&(0,De.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:(0,De.jsx)(fc,{className:"w-12 h-12 text-gray-400"})}),(0,De.jsxs)("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:[pe.name," ",pe.isMuted&&"(Muted)"]}),pe.isHandRaised&&(0,De.jsx)("div",{className:"absolute top-2 right-2 bg-yellow-500 p-1 rounded-full",children:(0,De.jsx)(Cp,{className:"w-4 h-4 text-white"})})]},pe.id))]})}),(0,De.jsxs)("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:[(0,De.jsx)("button",{onClick:()=>ve("\u{1F44D}"),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30",children:(0,De.jsx)(g1,{className:"w-5 h-5 text-white"})}),(0,De.jsx)("button",{onClick:()=>ve("\u{1F44E}"),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30",children:(0,De.jsx)(p1,{className:"w-5 h-5 text-white"})}),(0,De.jsx)("button",{onClick:()=>ve("\u2764\uFE0F"),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30",children:(0,De.jsx)(h1,{className:"w-5 h-5 text-white"})}),(0,De.jsx)("button",{onClick:()=>ve("\u{1F60A}"),className:"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30",children:(0,De.jsx)(m1,{className:"w-5 h-5 text-white"})})]})]}),(f||b)&&(0,De.jsxs)("div",{className:"w-80 bg-gray-800 border-l border-gray-700",children:[f&&(0,De.jsxs)("div",{className:"h-full flex flex-col",children:[(0,De.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,De.jsx)("h3",{className:"text-white font-medium",children:"Chat"})}),(0,De.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:L.map(pe=>(0,De.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3",children:[(0,De.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,De.jsx)("span",{className:"text-sm font-medium text-white",children:pe.sender}),(0,De.jsx)("span",{className:"text-xs text-gray-400",children:new Date(pe.timestamp).toLocaleTimeString()})]}),(0,De.jsx)("p",{className:"text-sm text-gray-300",children:pe.message})]},pe.id))}),(0,De.jsx)("form",{onSubmit:tt,className:"p-4 border-t border-gray-700",children:(0,De.jsxs)("div",{className:"flex space-x-2",children:[(0,De.jsx)("input",{type:"text",value:k,onChange:pe=>E(pe.target.value),placeholder:"Type a message...",className:"flex-1 px-3 py-2 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,De.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Send"})]})})]}),b&&(0,De.jsxs)("div",{className:"h-full flex flex-col",children:[(0,De.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,De.jsxs)("h3",{className:"text-white font-medium",children:["Participants (",o.length,")"]})}),(0,De.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:o.map(pe=>(0,De.jsxs)("div",{className:"flex items-center space-x-3 py-2",children:[(0,De.jsx)("div",{className:"w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center",children:(0,De.jsx)("span",{className:"text-white text-sm font-medium",children:io(pe.name)})}),(0,De.jsxs)("div",{className:"flex-1",children:[(0,De.jsx)("p",{className:"text-white text-sm",children:pe.name}),(0,De.jsx)("p",{className:"text-gray-400 text-xs",children:pe.role})]}),(0,De.jsxs)("div",{className:"flex items-center space-x-1",children:[pe.isMuted&&(0,De.jsx)(Sp,{className:"w-4 h-4 text-red-400"}),pe.isHandRaised&&(0,De.jsx)(Cp,{className:"w-4 h-4 text-yellow-400"})]})]},pe.id))})]})]})]}),(0,De.jsx)("div",{className:"bg-gray-800 p-4",children:(0,De.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,De.jsx)("button",{onClick:z,className:`p-3 rounded-full ${c?"bg-red-600 text-white":"bg-gray-600 text-white hover:bg-gray-500"}`,children:c?(0,De.jsx)(Sp,{className:"w-6 h-6"}):(0,De.jsx)(Sp,{className:"w-6 h-6"})}),(0,De.jsx)("button",{onClick:X,className:`p-3 rounded-full ${d?"bg-gray-600 text-white hover:bg-gray-500":"bg-red-600 text-white"}`,children:d?(0,De.jsx)(hl,{className:"w-6 h-6"}):(0,De.jsx)(fc,{className:"w-6 h-6"})}),(0,De.jsx)("button",{onClick:J,className:`p-3 rounded-full ${g?"bg-blue-600 text-white":"bg-gray-600 text-white hover:bg-gray-500"}`,children:g?(0,De.jsx)(I0,{className:"w-6 h-6"}):(0,De.jsx)(I0,{className:"w-6 h-6"})}),(0,De.jsx)("button",{onClick:ue,className:`p-3 rounded-full ${y?"bg-yellow-600 text-white":"bg-gray-600 text-white hover:bg-gray-500"}`,children:(0,De.jsx)(Cp,{className:"w-6 h-6"})}),(0,De.jsx)("button",{onClick:K,className:`p-3 rounded-full ${v?"bg-red-600 text-white":"bg-gray-600 text-white hover:bg-gray-500"}`,children:v?(0,De.jsx)(fc,{className:"w-6 h-6"}):(0,De.jsx)(hl,{className:"w-6 h-6"})}),(0,De.jsx)("button",{onClick:()=>x(!f),className:`p-3 rounded-full ${f?"bg-blue-600 text-white":"bg-gray-600 text-white hover:bg-gray-500"}`,children:(0,De.jsx)(d1,{className:"w-6 h-6"})}),(0,De.jsx)("button",{onClick:()=>w(!b),className:`p-3 rounded-full ${b?"bg-blue-600 text-white":"bg-gray-600 text-white hover:bg-gray-500"}`,children:(0,De.jsx)(gl,{className:"w-6 h-6"})}),A&&(0,De.jsx)("button",{onClick:()=>S(!C),className:`p-3 rounded-full ${C?"bg-blue-600 text-white":"bg-gray-600 text-white hover:bg-gray-500"}`,title:"Breakout Rooms",children:(0,De.jsx)(v1,{className:"w-6 h-6"})}),(0,De.jsx)("button",{onClick:U,className:"p-3 bg-red-600 text-white rounded-full hover:bg-red-700",children:(0,De.jsx)(A0,{className:"w-6 h-6"})})]})})]})},s5=ij;var Ps=H(he());Rt();var qt=H(se()),i5=({isOpen:e,onClose:t,onStartCall:r,buttonRef:a})=>{let{user:o}=Ge(),[n,s]=(0,Ps.useState)([]),[i,c]=(0,Ps.useState)([]),[l,d]=(0,Ps.useState)(""),[u,g]=(0,Ps.useState)(!1),[h,v]=(0,Ps.useState)([]);(0,Ps.useEffect)(()=>{e&&(m(),y())},[e]),(0,Ps.useEffect)(()=>{let b=i.filter(w=>w.user.name.toLowerCase().includes(l.toLowerCase())||w.user.email.toLowerCase().includes(l.toLowerCase()));v(b)},[l,i]),(0,Ps.useEffect)(()=>{let b=w=>{a?.current&&!a.current.contains(w.target)&&t()};return e&&document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[e,t,a]);let m=async()=>{try{let b=await vt.getUsers();s(b)}catch(b){console.error("Error loading users:",b),s([])}},y=async()=>{try{if(g(!0),!o?.id){c([]);return}let b=await vt.getRecentVideoContacts(o.id);c(b)}catch(b){console.error("Error loading recent contacts:",b),c([])}finally{g(!1)}},p=b=>{let w=new Date(b),I=(new Date().getTime()-w.getTime())/(1e3*60);return I<60?`${Math.floor(I)}m ago`:I<1440?`${Math.floor(I/60)}h ago`:`${Math.floor(I/1440)}d ago`},f=b=>{r(b.user.id,b.user.name),t()},x=()=>{console.log("Start new call")};return e?(0,qt.jsxs)(qt.Fragment,{children:[(0,qt.jsx)("div",{className:"fixed inset-0 z-40",onClick:t}),(0,qt.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50",children:[(0,qt.jsx)("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-white dark:bg-gray-800 border-l border-t border-gray-200 dark:border-gray-700 transform rotate-45"}),(0,qt.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700",children:[(0,qt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,qt.jsx)(Bt,{className:"h-4 w-4 text-blue-600"}),(0,qt.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Recent Calls"})]}),(0,qt.jsx)("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,qt.jsx)(et,{className:"h-4 w-4"})})]}),(0,qt.jsx)("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:(0,qt.jsxs)("div",{className:"relative",children:[(0,qt.jsx)(Pt,{className:"h-3.5 w-3.5 absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,qt.jsx)("input",{type:"text",placeholder:"Search contacts...",value:l,onChange:b=>d(b.target.value),className:"w-full pl-8 pr-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white text-xs"})]})}),(0,qt.jsx)("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:(0,qt.jsxs)("button",{onClick:x,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white py-2 px-3 rounded-md transition-colors text-sm",children:[(0,qt.jsx)(Ut,{className:"h-3.5 w-3.5"}),(0,qt.jsx)("span",{children:"New Call"})]})}),(0,qt.jsx)("div",{className:"max-h-64 overflow-y-auto",children:u?(0,qt.jsx)("div",{className:"flex items-center justify-center py-6",children:(0,qt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})}):h.length===0?(0,qt.jsxs)("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[(0,qt.jsx)(Kr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,qt.jsx)("p",{className:"text-xs",children:"No recent contacts"})]}):(0,qt.jsx)("div",{className:"p-1",children:h.map(b=>(0,qt.jsxs)("div",{className:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",onClick:()=>f(b),children:[(0,qt.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,qt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center overflow-hidden",children:b.user.avatar?(0,qt.jsx)("img",{src:b.user.avatar,alt:b.user.name,className:"w-full h-full object-cover"}):(0,qt.jsx)("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-300",children:io(b.user.name)})}),b.isOnline&&(0,qt.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 rounded-full border border-white dark:border-gray-800"})]}),(0,qt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qt.jsx)("h4",{className:"text-xs font-medium text-gray-900 dark:text-white truncate",children:b.user.name}),(0,qt.jsxs)("div",{className:"flex items-center space-x-1",children:[b.contactType==="call"&&(0,qt.jsx)(Xn,{className:"h-2.5 w-2.5 text-blue-600"}),(0,qt.jsx)(xt,{className:"h-2.5 w-2.5 text-gray-400"}),(0,qt.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:p(b.lastContact)})]})]}),(0,qt.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:b.user.email})]}),(0,qt.jsx)("button",{onClick:w=>{w.stopPropagation(),f(b)},className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors flex-shrink-0",children:(0,qt.jsx)(Bt,{className:"h-3.5 w-3.5"})})]},b.user.id))})})]})]}):null};var Ko=H(he());Rt();var je=H(se()),l5=({isOpen:e,onClose:t,openToExpanded:r=!1})=>{let[a,o]=(0,Ko.useState)([]),[n,s]=(0,Ko.useState)(!1),[i,c]=(0,Ko.useState)(r),[l,d]=(0,Ko.useState)("all"),[u,g]=(0,Ko.useState)(""),[h,v]=(0,Ko.useState)(0),m=ht(),y=(0,Ko.useRef)(null),p=(0,Ko.useRef)(null),f=async()=>{s(!0);try{let P=await N0();o(P.slice(0,5))}catch{o([])}s(!1)},x=async()=>{s(!0);try{let P=await N0();l==="unread"&&(P=P.filter(j=>!j.isRead)),l==="read"&&(P=P.filter(j=>j.isRead)),u&&(P=P.filter(j=>j.title.toLowerCase().includes(u.toLowerCase())||j.message.toLowerCase().includes(u.toLowerCase()))),o(P),v(P.length)}catch{o([]),v(0)}s(!1)};(0,Ko.useEffect)(()=>{e&&(r?c(!0):i||f())},[e,r,i]),(0,Ko.useEffect)(()=>{i&&x()},[i,l,u]);let b=async P=>{await Gw(Number(P)),i?x():f()},w=async()=>{await Kw(),i?x():f()},N=async P=>{await Qw(Number(P)),i?x():f()},I=P=>{b(P.id),c(!1),P.action?.route&&setTimeout(()=>{m({pathname:P.action.route,search:P.action?.params?"?"+new URLSearchParams(P.action.params).toString():""})},150)},C=P=>{b(P.id),P.action?.route&&setTimeout(()=>{m({pathname:P.action.route,search:P.action?.params?"?"+new URLSearchParams(P.action.params).toString():""}),t()},150)},S=P=>{switch(P.toLowerCase()){case"success":return(0,je.jsx)(Xt,{className:"w-4 h-4 text-green-500"});case"error":return(0,je.jsx)(pr,{className:"w-4 h-4 text-red-500"});case"warning":return(0,je.jsx)(pr,{className:"w-4 h-4 text-yellow-500"});case"info":return(0,je.jsx)(Es,{className:"w-4 h-4 text-blue-500"});default:return(0,je.jsx)(Ba,{className:"w-4 h-4 text-gray-500"})}},k=P=>{let j=new Date(P),q=(new Date().getTime()-j.getTime())/(1e3*60);return q<60?`${Math.floor(q)}m ago`:q<1440?`${Math.floor(q/60)}h ago`:`${Math.floor(q/1440)}d ago`},E=P=>new Date(P).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),L=a.filter(P=>!P.isRead).length;return e?(0,je.jsxs)(je.Fragment,{children:[(0,je.jsxs)("div",{ref:y,className:"absolute right-0 top-full mt-1 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50",children:[(0,je.jsx)("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-white dark:bg-gray-800 border-l border-t border-gray-200 dark:border-gray-700 transform rotate-45"}),(0,je.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700",children:[(0,je.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,je.jsx)(Ba,{className:"h-4 w-4 text-blue-600"}),(0,je.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Notifications"}),L>0&&(0,je.jsx)("span",{className:"bg-blue-600 text-white text-xs rounded-full px-2 py-0.5",children:L})]}),(0,je.jsxs)("div",{className:"flex items-center space-x-1",children:[L>0&&(0,je.jsx)("button",{onClick:w,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-xs",children:"Mark all read"}),(0,je.jsx)("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,je.jsx)(et,{className:"h-4 w-4"})})]})]}),(0,je.jsx)("div",{className:"max-h-64 overflow-y-auto",children:n?(0,je.jsx)("div",{className:"flex items-center justify-center py-6",children:(0,je.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})}):a.length===0?(0,je.jsxs)("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[(0,je.jsx)(Ba,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,je.jsx)("p",{className:"text-xs",children:"No notifications"})]}):(0,je.jsx)("div",{className:"p-1",children:a.map(P=>(0,je.jsxs)("div",{className:mi("flex items-start space-x-2 p-2 rounded-md transition-colors",P.isRead?"hover:bg-gray-50 dark:hover:bg-gray-700":"bg-blue-50 dark:bg-blue-900/20 border-l-2 border-blue-500"),children:[(0,je.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:S(P.type)}),(0,je.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,je.jsxs)("div",{className:"flex items-start justify-between",children:[(0,je.jsx)("h4",{className:"text-xs font-medium text-gray-900 dark:text-white",children:P.title}),(0,je.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,je.jsx)(xt,{className:"h-2.5 w-2.5 text-gray-400"}),(0,je.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:k(P.createdAt)})]})]}),(0,je.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-300 mt-1 line-clamp-2",children:P.message}),(0,je.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[P.action&&(0,je.jsx)("button",{onClick:()=>C(P),className:"text-xs text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:P.action.label}),(0,je.jsxs)("div",{className:"flex items-center space-x-1",children:[!P.isRead&&(0,je.jsx)("button",{onClick:()=>b(P.id),className:"p-1 text-gray-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded transition-colors",children:(0,je.jsx)(fr,{className:"h-3 w-3"})}),(0,je.jsx)("button",{onClick:()=>N(P.id),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:(0,je.jsx)(gr,{className:"h-3 w-3"})})]})]})]})]},P.id))})}),a.length>0&&(0,je.jsx)("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700",children:(0,je.jsxs)("button",{onClick:()=>c(!0),className:"w-full text-xs text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-center flex items-center justify-center space-x-1",children:[(0,je.jsx)(Yn,{className:"h-3 w-3"}),(0,je.jsx)("span",{children:"View all notifications"})]})})]}),i&&(0,je.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",onClick:P=>{P.target===P.currentTarget&&(c(!1),r&&t())},children:(0,je.jsxs)("div",{ref:p,className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,je.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,je.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,je.jsx)(Ba,{className:"h-6 w-6 text-blue-600"}),(0,je.jsxs)("div",{children:[(0,je.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"All Notifications"}),(0,je.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[h," total \u2022 ",L," unread"]})]})]}),(0,je.jsx)("button",{onClick:()=>{c(!1),r&&t()},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,je.jsx)(et,{className:"h-5 w-5"})})]}),(0,je.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:(0,je.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,je.jsxs)("div",{className:"flex-1 relative",children:[(0,je.jsx)(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,je.jsx)("input",{type:"text",placeholder:"Search notifications...",value:u,onChange:P=>g(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,je.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,je.jsx)(li,{className:"h-4 w-4 text-gray-400"}),(0,je.jsxs)("select",{value:l,onChange:P=>d(P.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,je.jsx)("option",{value:"all",children:"All"}),(0,je.jsx)("option",{value:"unread",children:"Unread"}),(0,je.jsx)("option",{value:"read",children:"Read"})]})]}),L>0&&(0,je.jsx)("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Mark All Read"})]})}),(0,je.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:n?(0,je.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,je.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.length===0?(0,je.jsxs)("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[(0,je.jsx)(Ba,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,je.jsx)("p",{className:"text-lg font-medium",children:"No notifications found"}),(0,je.jsx)("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]}):(0,je.jsx)("div",{className:"space-y-4",children:a.map(P=>(0,je.jsx)("div",{className:mi("p-4 rounded-lg border transition-colors",P.isRead?"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700":"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700"),children:(0,je.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,je.jsx)("div",{className:"flex-shrink-0 mt-1",children:S(P.type)}),(0,je.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,je.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,je.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:P.title}),(0,je.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,je.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500 dark:text-gray-400",children:[(0,je.jsx)(xt,{className:"h-4 w-4"}),(0,je.jsx)("span",{children:E(P.createdAt)})]}),(0,je.jsxs)("div",{className:"flex items-center space-x-1",children:[!P.isRead&&(0,je.jsx)("button",{onClick:()=>b(P.id),className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Mark as read",children:(0,je.jsx)(fr,{className:"h-4 w-4"})}),(0,je.jsx)("button",{onClick:()=>N(P.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete notification",children:(0,je.jsx)(gr,{className:"h-4 w-4"})})]})]})]}),(0,je.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4 leading-relaxed",children:P.message}),P.action&&(0,je.jsx)("button",{onClick:()=>I(P),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:P.action.label})]})]})},P.id))})})]})})]}):null};var vl=H(he());Rt();var er=H(se()),c5=({isOpen:e,onClose:t,onExpand:r,buttonRef:a})=>{let o=ht(),{user:n}=Ge(),[s,i]=(0,vl.useState)([]),[c,l]=(0,vl.useState)(""),[d,u]=(0,vl.useState)(!1),[g,h]=(0,vl.useState)([]);(0,vl.useEffect)(()=>{e&&v()},[e]),(0,vl.useEffect)(()=>{let x=s.filter(b=>{if(!c)return!0;let w=c.toLowerCase();return b.name?.toLowerCase().includes(w)?!0:b.participants.some(N=>N.user.username.toLowerCase().includes(w)||N.user.email.toLowerCase().includes(w))});h(x)},[c,s]);let v=async()=>{try{u(!0);let x=await pn({limit:20});i(x.data),h(x.data)}catch(x){console.error("Error loading conversations:",x),i([])}finally{u(!1)}},m=x=>x.type==="direct"?x.participants.find(b=>b.userId!==n?.id)?.user:null,y=x=>{if(x.name)return x.name;if(x.type==="direct"){let b=m(x);return b?.username||b?.email||"Unknown User"}return"Group Chat"},p=x=>x.type==="direct"?m(x)?.avatarUrl:null,f=x=>{if(!x)return"";try{let b=new Date(x);if(isNaN(b.getTime()))return"";let N=(new Date().getTime()-b.getTime())/(1e3*60*60);if(N<1){let I=Math.floor(N*60);return I<1?"Just now":`${I}m ago`}else return N<24?`${Math.floor(N)}h ago`:N<48?"Yesterday":b.toLocaleDateString()}catch{return""}};return e?(0,er.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-96 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg z-50",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,er.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Messages"}),(0,er.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,er.jsx)("button",{onClick:r,className:"p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"Expand to full screen",children:(0,er.jsx)(Yn,{className:"h-4 w-4"})}),(0,er.jsx)("button",{onClick:t,className:"p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,er.jsx)(et,{className:"h-4 w-4"})})]})]}),(0,er.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,er.jsxs)("div",{className:"relative",children:[(0,er.jsx)(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,er.jsx)("input",{type:"text",placeholder:"Search conversations...",value:c,onChange:x=>l(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})}),(0,er.jsx)("div",{className:"max-h-96 overflow-y-auto",children:d?(0,er.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,er.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):g.length===0?(0,er.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[(0,er.jsx)(Br,{className:"h-12 w-12 text-gray-400 mb-2"}),(0,er.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:c?"No conversations found":"No conversations yet"}),!c&&(0,er.jsx)("button",{onClick:()=>{t(),o("/messages/new")},className:"mt-4 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 transition-colors text-sm font-medium",children:"Start New Conversation"})]}):(0,er.jsx)("div",{children:g.map(x=>(0,er.jsx)("div",{onClick:()=>{t(),o(`/messages/${x.id}`)},className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors border-b border-gray-100 dark:border-gray-700",children:(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center flex-shrink-0",children:p(x)?(0,er.jsx)("img",{src:p(x),alt:y(x),className:"w-full h-full rounded-full object-cover"}):(0,er.jsx)("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:y(x).charAt(0)})}),(0,er.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,er.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:y(x)}),x.lastMessage&&(0,er.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2 flex-shrink-0",children:f(x.lastMessage.createdAt)})]}),x.lastMessage&&(0,er.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:x.lastMessage.content}),x.unreadCount>0&&(0,er.jsx)("div",{className:"mt-1",children:(0,er.jsxs)("span",{className:"inline-block px-2 py-0.5 bg-blue-600 text-white text-xs font-medium rounded-full",children:[x.unreadCount>99?"99+":x.unreadCount," unread"]})})]})]})},x.id))})}),(0,er.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:(0,er.jsxs)("button",{onClick:()=>{t(),o("/messages/new")},className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 transition-colors font-medium",children:[(0,er.jsx)(Ut,{className:"h-4 w-4 mr-2"}),"New Message"]})})]}):null};Rt();var Ua=H(he());Rt();var Vt=H(se()),lj=5,x1=12,hi=3,b1=({onClose:e,placeholder:t="Search everything...",className:r=""})=>{let a=ht(),{user:o}=Ge(),n=o?.role==="TEACHER",[s,i]=(0,Ua.useState)(""),[c,l]=(0,Ua.useState)([]),[d,u]=(0,Ua.useState)([]),[g,h]=(0,Ua.useState)([]),[v,m]=(0,Ua.useState)(!1),[y,p]=(0,Ua.useState)(!1),[f,x]=(0,Ua.useState)(!1),[b,w]=(0,Ua.useState)(-1),N=(0,Ua.useRef)(null),I=(0,Ua.useRef)(null);(0,Ua.useEffect)(()=>{let R=localStorage.getItem("recent-searches");if(R)try{u(JSON.parse(R))}catch(D){console.error("Error parsing recent searches:",D)}h(["React","JavaScript","Python","Web Development","Data Science"])},[]);let C=(0,Ua.useCallback)(async R=>{if(!R.trim()){l([]);return}m(!0);try{let D=R.toLowerCase(),A=[];try{let F=(n?await ca():await aa()).filter(T=>T.title.toLowerCase().includes(D)||T.description?.toLowerCase().includes(D)||T.teacher?.name?.toLowerCase().includes(D)).slice(0,hi).map(T=>({id:T.id,type:"course",title:T.title,subtitle:T.teacher?.name||"Instructor",icon:(0,Vt.jsx)(ot,{className:"w-4 h-4"}),courseId:T.id}));A.push(...F)}catch(B){console.error("Error searching courses:",B)}try{let F=(n?await ca():await aa()).slice(0,5).map(z=>Em(Number(z.id)).catch(()=>[])),O=(await Promise.all(F)).flat().filter(z=>z.title?.toLowerCase().includes(D)||z.content?.toLowerCase().includes(D)).slice(0,hi).map(z=>({id:z.id?.toString()||"",type:"lesson",title:z.title||"Untitled Lesson",subtitle:"Lesson in course",icon:(0,Vt.jsx)(or,{className:"w-4 h-4"}),courseId:z.courseId?.toString(),metadata:{lesson:z}}));A.push(...O)}catch(B){console.error("Error searching lessons:",B)}try{let F=(n?await ca():await aa()).slice(0,5).map(z=>Cm(z.id).catch(()=>[])),O=(await Promise.all(F)).flat().filter(z=>z.title?.toLowerCase().includes(D)||z.description?.toLowerCase().includes(D)).slice(0,hi).map(z=>({id:z.id?.toString()||"",type:"assignment",title:z.title||"Untitled Assignment",subtitle:"Assignment",icon:(0,Vt.jsx)(sl,{className:"w-4 h-4"}),courseId:z.courseId?.toString(),metadata:{assignment:z}}));A.push(...O)}catch(B){console.error("Error searching assignments:",B)}try{let F=(n?await Ql():await Kl()).filter(T=>T.title?.toLowerCase().includes(D)||T.description?.toLowerCase().includes(D)).slice(0,hi).map(T=>({id:T.id?.toString()||"",type:"quiz",title:T.title||"Untitled Quiz",subtitle:"Quiz",icon:(0,Vt.jsx)(No,{className:"w-4 h-4"}),courseId:T.courseId?.toString(),metadata:{quiz:T}}));A.push(...F)}catch(B){console.error("Error searching quizzes:",B)}try{let B=await aa(),F=new Map;B.forEach(T=>{if(T.teacher?.name?.toLowerCase().includes(D)){let U=T.teacher.id||T.teacher.name;F.has(U)||F.set(U,{id:`instructor-${T.teacher.id}`,type:"instructor",title:T.teacher.name||"Unknown",subtitle:"Instructor",icon:(0,Vt.jsx)(it,{className:"w-4 h-4"})})}}),A.push(...Array.from(F.values()).slice(0,hi))}catch(B){console.error("Error searching instructors:",B)}if(n)try{let F=(await Qn()).filter(T=>T.name?.toLowerCase().includes(D)||T.email?.toLowerCase().includes(D)).slice(0,hi).map(T=>({id:T.id?.toString()||"",type:"student",title:T.name||T.email||"Unknown",subtitle:"Student",icon:(0,Vt.jsx)(it,{className:"w-4 h-4"}),metadata:{student:T}}));A.push(...F)}catch(B){console.error("Error searching students:",B)}try{let F=(await Gl()).filter(T=>T.title?.toLowerCase().includes(D)||T.content?.toLowerCase().includes(D)).slice(0,hi).map(T=>({id:T.id?.toString()||"",type:"announcement",title:T.title||"Untitled Announcement",subtitle:"Announcement",icon:(0,Vt.jsx)(yr,{className:"w-4 h-4"}),courseId:T.courseId?.toString(),metadata:{announcement:T}}));A.push(...F)}catch(B){console.error("Error searching announcements:",B)}try{let F=(await ai()).filter(T=>T.name?.toLowerCase().includes(D)||T.filename?.toLowerCase().includes(D)).slice(0,hi).map(T=>({id:T.id?.toString()||"",type:"file",title:T.name||T.filename||"Untitled File",subtitle:T.type||"File",icon:(0,Vt.jsx)(jt,{className:"w-4 h-4"}),courseId:T.courseId?.toString(),metadata:{file:T}}));A.push(...F)}catch(B){console.error("Error searching files:",B)}try{let F=(await Yl()).filter(T=>T.title?.toLowerCase().includes(D)||T.description?.toLowerCase().includes(D)).slice(0,hi).map(T=>({id:T.id?.toString()||"",type:"event",title:T.title||"Untitled Event",subtitle:T.start?new Date(T.start).toLocaleDateString():"Event",icon:(0,Vt.jsx)(Kt,{className:"w-4 h-4"}),metadata:{event:T}}));A.push(...F)}catch(B){console.error("Error searching events:",B)}l(A.slice(0,x1))}catch(D){console.error("Error fetching suggestions:",D),l([])}finally{m(!1)}},[n]);(0,Ua.useEffect)(()=>{let R=setTimeout(()=>{s?C(s):l([])},300);return()=>clearTimeout(R)},[s,C]);let S=R=>{R.key==="ArrowDown"?(R.preventDefault(),w(D=>D<c.length-1?D+1:D)):R.key==="ArrowUp"?(R.preventDefault(),w(D=>D>0?D-1:-1)):R.key==="Enter"?(R.preventDefault(),b>=0&&c[b]?L(c[b]):s.trim()&&E(s)):R.key==="Escape"&&(p(!1),e?.())},k=R=>{let D=[R,...d.filter(A=>A.toLowerCase()!==R.toLowerCase())].slice(0,lj);u(D),localStorage.setItem("recent-searches",JSON.stringify(D))},E=R=>{R.trim()&&(k(R),a(`/search?q=${encodeURIComponent(R)}`),p(!1),e?.())},L=R=>{R.type==="course"?a(`/courses/${R.id}`):R.type==="lesson"?R.courseId?a(`/courses/${R.courseId}?lessonId=${R.id}`):a(`/courses/${R.id}`):R.type==="assignment"?R.courseId?a(`/courses/${R.courseId}?assignmentId=${R.id}`):a(`/assignments/${R.id}`):R.type==="quiz"?R.courseId?a(`/courses/${R.courseId}?quizId=${R.id}`):a(`/quizzes/${R.id}`):R.type==="instructor"?a(`/discover?instructor=${encodeURIComponent(R.title)}`):R.type==="student"?n&&a(`/students/progress?studentId=${R.id}`):R.type==="announcement"?R.courseId&&a(`/courses/${R.courseId}/announcements`):R.type==="file"?R.courseId&&a(`/courses/${R.courseId}?fileId=${R.id}`):R.type==="event"?a(`/calendar?eventId=${R.id}`):(R.type==="recent"||R.type==="trending")&&(i(R.title),E(R.title)),p(!1),e?.()},P=()=>{i(""),l([]),N.current?.focus()},M=(()=>{if(s.trim())return c;let R=[];return d.length>0&&R.push(...d.slice(0,3).map(D=>({id:`recent-${D}`,type:"recent",title:D,icon:(0,Vt.jsx)(xt,{className:"w-4 h-4"})}))),g.length>0&&R.length<x1&&R.push(...g.slice(0,x1-R.length).map(D=>({id:`trending-${D}`,type:"trending",title:D,icon:(0,Vt.jsx)(Cr,{className:"w-4 h-4"})}))),R})(),q=M.length>0;return(0,Vt.jsxs)("div",{className:`relative ${r}`,children:[(0,Vt.jsxs)("div",{className:"relative",children:[(0,Vt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Vt.jsx)(Pt,{className:"h-5 w-5 text-gray-400"})}),(0,Vt.jsx)("input",{ref:N,type:"text",value:s,onChange:R=>{i(R.target.value),w(-1)},onKeyDown:S,onFocus:()=>{x(!0),p(!0)},onBlur:()=>{setTimeout(()=>{x(!1),p(!1)},200)},placeholder:t,className:"w-full pl-12 pr-10 py-3 text-base border-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"}),s&&(0,Vt.jsx)("button",{onClick:P,className:"absolute inset-y-0 right-0 pr-4 flex items-center hover:bg-gray-100 dark:hover:bg-gray-700 rounded-r-xl transition-colors","aria-label":"Clear search",children:(0,Vt.jsx)(et,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})})]}),y&&f&&(0,Vt.jsxs)("div",{ref:I,className:"absolute z-50 w-full mt-2 bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl shadow-xl max-h-96 overflow-y-auto",children:[v?(0,Vt.jsx)("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:(0,Vt.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})}):q?(0,Vt.jsx)("div",{className:"py-2",children:M.map((R,D)=>{let A={course:"Course",lesson:"Lesson",assignment:"Assignment",quiz:"Quiz",instructor:"Instructor",student:"Student",forum:"Forum",announcement:"Announcement",file:"File",event:"Event",message:"Message"};return(0,Vt.jsxs)("button",{onClick:()=>L(R),onMouseDown:B=>{B.preventDefault(),L(R)},onMouseEnter:()=>w(D),className:`
                      w-full px-4 py-3 text-left flex items-center space-x-3
                      transition-all duration-150
                      ${D===b?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}
                    `,children:[(0,Vt.jsx)("div",{className:"flex-shrink-0 text-gray-400 dark:text-gray-500",children:R.icon}),(0,Vt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vt.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:R.title}),R.type!=="recent"&&R.type!=="trending"&&(0,Vt.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400",children:A[R.type]||R.type})]}),R.subtitle&&(0,Vt.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-0.5",children:R.subtitle})]}),R.type==="recent"&&(0,Vt.jsx)(xt,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 flex-shrink-0"}),R.type==="trending"&&(0,Vt.jsx)(Cr,{className:"w-4 h-4 text-blue-500 dark:text-blue-400 flex-shrink-0"})]},`${R.type}-${R.id}-${D}`)})}):s.trim()?(0,Vt.jsxs)("div",{className:"p-6 text-center",children:[(0,Vt.jsx)(Pt,{className:"w-8 h-8 text-gray-400 dark:text-gray-500 mx-auto mb-2"}),(0,Vt.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:['No results found for "',s,'"']}),(0,Vt.jsx)("button",{onClick:()=>E(s),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Search anyway"})]}):null,s.trim()&&(0,Vt.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-2",children:(0,Vt.jsxs)("button",{onClick:()=>E(s),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium flex items-center justify-center space-x-2 transition-colors duration-200",children:[(0,Vt.jsxs)("span",{children:['Search for "',s,'"']}),(0,Vt.jsx)(cr,{className:"w-4 h-4"})]})})]})]})};var $t=H(he(),1);function rs(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}var u5=H(he(),1);function d5(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function w1(...e){return t=>{let r=!1,a=e.map(o=>{let n=d5(o,t);return!r&&typeof n=="function"&&(r=!0),n});if(r)return()=>{for(let o=0;o<a.length;o++){let n=a[o];typeof n=="function"?n():d5(e[o],null)}}}}function as(...e){return u5.useCallback(w1(...e),e)}var vi=H(he(),1),f5=H(se(),1);function P0(e,t=[]){let r=[];function a(n,s){let i=vi.createContext(s),c=r.length;r=[...r,s];let l=u=>{let{scope:g,children:h,...v}=u,m=g?.[e]?.[c]||i,y=vi.useMemo(()=>v,Object.values(v));return(0,f5.jsx)(m.Provider,{value:y,children:h})};l.displayName=n+"Provider";function d(u,g){let h=g?.[e]?.[c]||i,v=vi.useContext(h);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${n}\``)}return[l,d]}let o=()=>{let n=r.map(s=>vi.createContext(s));return function(i){let c=i?.[e]||n;return vi.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return o.scopeName=e,[a,cj(o,...t)]}function cj(...e){let t=e[0];if(e.length===1)return t;let r=()=>{let a=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(n){let s=a.reduce((i,{useScope:c,scopeName:l})=>{let u=c(n)[`__scope${l}`];return{...i,...u}},{});return vi.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var Yr=H(he(),1);var h5=H(he(),1),v5=H(Xi(),1);var wa=H(he(),1);var Cu=H(se(),1);function m5(e){let t=dj(e),r=wa.forwardRef((a,o)=>{let{children:n,...s}=a,i=wa.Children.toArray(n),c=i.find(uj);if(c){let l=c.props.children,d=i.map(u=>u===c?wa.Children.count(l)>1?wa.Children.only(null):wa.isValidElement(l)?l.props.children:null:u);return(0,Cu.jsx)(t,{...s,ref:o,children:wa.isValidElement(l)?wa.cloneElement(l,void 0,d):null})}return(0,Cu.jsx)(t,{...s,ref:o,children:n})});return r.displayName=`${e}.Slot`,r}function dj(e){let t=wa.forwardRef((r,a)=>{let{children:o,...n}=r;if(wa.isValidElement(o)){let s=mj(o),i=fj(n,o.props);return o.type!==wa.Fragment&&(i.ref=a?w1(a,s):s),wa.cloneElement(o,i)}return wa.Children.count(o)>1?wa.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var p5=Symbol("radix.slottable");function g5(e){let t=({children:r})=>(0,Cu.jsx)(Cu.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=p5,t}function uj(e){return wa.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===p5}function fj(e,t){let r={...t};for(let a in t){let o=e[a],n=t[a];/^on[A-Z]/.test(a)?o&&n?r[a]=(...i)=>{let c=n(...i);return o(...i),c}:o&&(r[a]=o):a==="style"?r[a]={...o,...n}:a==="className"&&(r[a]=[o,n].filter(Boolean).join(" "))}return{...e,...r}}function mj(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var y5=H(se(),1),pj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Eo=pj.reduce((e,t)=>{let r=m5(`Primitive.${t}`),a=h5.forwardRef((o,n)=>{let{asChild:s,...i}=o,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,y5.jsx)(c,{...i,ref:n})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function x5(e,t){e&&v5.flushSync(()=>e.dispatchEvent(t))}var Su=H(he(),1);function mc(e){let t=Su.useRef(e);return Su.useEffect(()=>{t.current=e}),Su.useMemo(()=>(...r)=>t.current?.(...r),[])}var b5=H(he(),1);function w5(e,t=globalThis?.document){let r=mc(e);b5.useEffect(()=>{let a=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var N1=H(se(),1),gj="DismissableLayer",k1="dismissableLayer.update",hj="dismissableLayer.pointerDownOutside",vj="dismissableLayer.focusOutside",k5,C5=Yr.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),C1=Yr.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:n,onInteractOutside:s,onDismiss:i,...c}=e,l=Yr.useContext(C5),[d,u]=Yr.useState(null),g=d?.ownerDocument??globalThis?.document,[,h]=Yr.useState({}),v=as(t,I=>u(I)),m=Array.from(l.layers),[y]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),p=m.indexOf(y),f=d?m.indexOf(d):-1,x=l.layersWithOutsidePointerEventsDisabled.size>0,b=f>=p,w=bj(I=>{let C=I.target,S=[...l.branches].some(k=>k.contains(C));!b||S||(o?.(I),s?.(I),I.defaultPrevented||i?.())},g),N=wj(I=>{let C=I.target;[...l.branches].some(k=>k.contains(C))||(n?.(I),s?.(I),I.defaultPrevented||i?.())},g);return w5(I=>{f===l.layers.size-1&&(a?.(I),!I.defaultPrevented&&i&&(I.preventDefault(),i()))},g),Yr.useEffect(()=>{if(d)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(k5=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(d)),l.layers.add(d),N5(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=k5)}},[d,g,r,l]),Yr.useEffect(()=>()=>{d&&(l.layers.delete(d),l.layersWithOutsidePointerEventsDisabled.delete(d),N5())},[d,l]),Yr.useEffect(()=>{let I=()=>h({});return document.addEventListener(k1,I),()=>document.removeEventListener(k1,I)},[]),(0,N1.jsx)(Eo.div,{...c,ref:v,style:{pointerEvents:x?b?"auto":"none":void 0,...e.style},onFocusCapture:rs(e.onFocusCapture,N.onFocusCapture),onBlurCapture:rs(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:rs(e.onPointerDownCapture,w.onPointerDownCapture)})});C1.displayName=gj;var yj="DismissableLayerBranch",xj=Yr.forwardRef((e,t)=>{let r=Yr.useContext(C5),a=Yr.useRef(null),o=as(t,a);return Yr.useEffect(()=>{let n=a.current;if(n)return r.branches.add(n),()=>{r.branches.delete(n)}},[r.branches]),(0,N1.jsx)(Eo.div,{...e,ref:o})});xj.displayName=yj;function bj(e,t=globalThis?.document){let r=mc(e),a=Yr.useRef(!1),o=Yr.useRef(()=>{});return Yr.useEffect(()=>{let n=i=>{if(i.target&&!a.current){let l=function(){S5(hj,r,d,{discrete:!0})};var c=l;let d={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);a.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",n)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",n),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function wj(e,t=globalThis?.document){let r=mc(e),a=Yr.useRef(!1);return Yr.useEffect(()=>{let o=n=>{n.target&&!a.current&&S5(vj,r,{originalEvent:n},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function N5(){let e=new CustomEvent(k1);document.dispatchEvent(e)}function S5(e,t,r,{discrete:a}){let o=r.originalEvent.target,n=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),a?x5(o,n):o.dispatchEvent(n)}var S1=H(he(),1);var E5=H(he(),1),Lo=globalThis?.document?E5.useLayoutEffect:()=>{};var kj=S1[" useId ".trim().toString()]||(()=>{}),Nj=0;function L5(e){let[t,r]=S1.useState(kj());return Lo(()=>{e||r(a=>a??String(Nj++))},[e]),e||(t?`radix-${t}`:"")}var Qo=H(he(),1);var I5=["top","right","bottom","left"];var Ts=Math.min,co=Math.max,Lp=Math.round,Ip=Math.floor,os=e=>({x:e,y:e}),Cj={left:"right",right:"left",bottom:"top",top:"bottom"},Sj={start:"end",end:"start"};function D0(e,t,r){return co(e,Ts(t,r))}function Ds(e,t){return typeof e=="function"?e(t):e}function Fs(e){return e.split("-")[0]}function pc(e){return e.split("-")[1]}function F0(e){return e==="x"?"y":"x"}function O0(e){return e==="y"?"height":"width"}function ns(e){return["top","bottom"].includes(Fs(e))?"y":"x"}function M0(e){return F0(ns(e))}function R5(e,t,r){r===void 0&&(r=!1);let a=pc(e),o=M0(e),n=O0(o),s=o==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[n]>t.floating[n]&&(s=Ep(s)),[s,Ep(s)]}function A5(e){let t=Ep(e);return[T0(e),t,T0(t)]}function T0(e){return e.replace(/start|end/g,t=>Sj[t])}function Ej(e,t,r){let a=["left","right"],o=["right","left"],n=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:a:t?a:o;case"left":case"right":return t?n:s;default:return[]}}function P5(e,t,r,a){let o=pc(e),n=Ej(Fs(e),r==="start",a);return o&&(n=n.map(s=>s+"-"+o),t&&(n=n.concat(n.map(T0)))),n}function Ep(e){return e.replace(/left|right|bottom|top/g,t=>Cj[t])}function Lj(e){return{top:0,right:0,bottom:0,left:0,...e}}function E1(e){return typeof e!="number"?Lj(e):{top:e,right:e,bottom:e,left:e}}function gc(e){let{x:t,y:r,width:a,height:o}=e;return{width:a,height:o,top:r,left:t,right:t+a,bottom:r+o,x:t,y:r}}function T5(e,t,r){let{reference:a,floating:o}=e,n=ns(t),s=M0(t),i=O0(s),c=Fs(t),l=n==="y",d=a.x+a.width/2-o.width/2,u=a.y+a.height/2-o.height/2,g=a[i]/2-o[i]/2,h;switch(c){case"top":h={x:d,y:a.y-o.height};break;case"bottom":h={x:d,y:a.y+a.height};break;case"right":h={x:a.x+a.width,y:u};break;case"left":h={x:a.x-o.width,y:u};break;default:h={x:a.x,y:a.y}}switch(pc(t)){case"start":h[s]-=g*(r&&l?-1:1);break;case"end":h[s]+=g*(r&&l?-1:1);break}return h}var O5=async(e,t,r)=>{let{placement:a="bottom",strategy:o="absolute",middleware:n=[],platform:s}=r,i=n.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t)),l=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:u}=T5(l,a,c),g=a,h={},v=0;for(let m=0;m<i.length;m++){let{name:y,fn:p}=i[m],{x:f,y:x,data:b,reset:w}=await p({x:d,y:u,initialPlacement:a,placement:g,strategy:o,middlewareData:h,rects:l,platform:s,elements:{reference:e,floating:t}});d=f??d,u=x??u,h={...h,[y]:{...h[y],...b}},w&&v<=50&&(v++,typeof w=="object"&&(w.placement&&(g=w.placement),w.rects&&(l=w.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):w.rects),{x:d,y:u}=T5(l,g,c)),m=-1)}return{x:d,y:u,placement:g,strategy:o,middlewareData:h}};async function Eu(e,t){var r;t===void 0&&(t={});let{x:a,y:o,platform:n,rects:s,elements:i,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:g=!1,padding:h=0}=Ds(t,e),v=E1(h),y=i[g?u==="floating"?"reference":"floating":u],p=gc(await n.getClippingRect({element:(r=await(n.isElement==null?void 0:n.isElement(y)))==null||r?y:y.contextElement||await(n.getDocumentElement==null?void 0:n.getDocumentElement(i.floating)),boundary:l,rootBoundary:d,strategy:c})),f=u==="floating"?{x:a,y:o,width:s.floating.width,height:s.floating.height}:s.reference,x=await(n.getOffsetParent==null?void 0:n.getOffsetParent(i.floating)),b=await(n.isElement==null?void 0:n.isElement(x))?await(n.getScale==null?void 0:n.getScale(x))||{x:1,y:1}:{x:1,y:1},w=gc(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:f,offsetParent:x,strategy:c}):f);return{top:(p.top-w.top+v.top)/b.y,bottom:(w.bottom-p.bottom+v.bottom)/b.y,left:(p.left-w.left+v.left)/b.x,right:(w.right-p.right+v.right)/b.x}}var M5=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:a,placement:o,rects:n,platform:s,elements:i,middlewareData:c}=t,{element:l,padding:d=0}=Ds(e,t)||{};if(l==null)return{};let u=E1(d),g={x:r,y:a},h=M0(o),v=O0(h),m=await s.getDimensions(l),y=h==="y",p=y?"top":"left",f=y?"bottom":"right",x=y?"clientHeight":"clientWidth",b=n.reference[v]+n.reference[h]-g[h]-n.floating[v],w=g[h]-n.reference[h],N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l)),I=N?N[x]:0;(!I||!await(s.isElement==null?void 0:s.isElement(N)))&&(I=i.floating[x]||n.floating[v]);let C=b/2-w/2,S=I/2-m[v]/2-1,k=Ts(u[p],S),E=Ts(u[f],S),L=k,P=I-m[v]-E,j=I/2-m[v]/2+C,M=D0(L,j,P),q=!c.arrow&&pc(o)!=null&&j!==M&&n.reference[v]/2-(j<L?k:E)-m[v]/2<0,R=q?j<L?j-L:j-P:0;return{[h]:g[h]+R,data:{[h]:M,centerOffset:j-M-R,...q&&{alignmentOffset:R}},reset:q}}});var _5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;let{placement:o,middlewareData:n,rects:s,initialPlacement:i,platform:c,elements:l}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:g,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...y}=Ds(e,t);if((r=n.arrow)!=null&&r.alignmentOffset)return{};let p=Fs(o),f=ns(i),x=Fs(i)===i,b=await(c.isRTL==null?void 0:c.isRTL(l.floating)),w=g||(x||!m?[Ep(i)]:A5(i)),N=v!=="none";!g&&N&&w.push(...P5(i,m,v,b));let I=[i,...w],C=await Eu(t,y),S=[],k=((a=n.flip)==null?void 0:a.overflows)||[];if(d&&S.push(C[p]),u){let j=R5(o,s,b);S.push(C[j[0]],C[j[1]])}if(k=[...k,{placement:o,overflows:S}],!S.every(j=>j<=0)){var E,L;let j=(((E=n.flip)==null?void 0:E.index)||0)+1,M=I[j];if(M&&(!(u==="alignment"?f!==ns(M):!1)||k.every(D=>D.overflows[0]>0&&ns(D.placement)===f)))return{data:{index:j,overflows:k},reset:{placement:M}};let q=(L=k.filter(R=>R.overflows[0]<=0).sort((R,D)=>R.overflows[1]-D.overflows[1])[0])==null?void 0:L.placement;if(!q)switch(h){case"bestFit":{var P;let R=(P=k.filter(D=>{if(N){let A=ns(D.placement);return A===f||A==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(A=>A>0).reduce((A,B)=>A+B,0)]).sort((D,A)=>D[1]-A[1])[0])==null?void 0:P[0];R&&(q=R);break}case"initialPlacement":q=i;break}if(o!==q)return{reset:{placement:q}}}return{}}}};function D5(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function F5(e){return I5.some(t=>e[t]>=0)}var B5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){let{rects:r}=t,{strategy:a="referenceHidden",...o}=Ds(e,t);switch(a){case"referenceHidden":{let n=await Eu(t,{...o,elementContext:"reference"}),s=D5(n,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:F5(s)}}}case"escaped":{let n=await Eu(t,{...o,altBoundary:!0}),s=D5(n,r.floating);return{data:{escapedOffsets:s,escaped:F5(s)}}}default:return{}}}}};async function Ij(e,t){let{placement:r,platform:a,elements:o}=e,n=await(a.isRTL==null?void 0:a.isRTL(o.floating)),s=Fs(r),i=pc(r),c=ns(r)==="y",l=["left","top"].includes(s)?-1:1,d=n&&c?-1:1,u=Ds(t,e),{mainAxis:g,crossAxis:h,alignmentAxis:v}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return i&&typeof v=="number"&&(h=i==="end"?v*-1:v),c?{x:h*d,y:g*l}:{x:g*l,y:h*d}}var q5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;let{x:o,y:n,placement:s,middlewareData:i}=t,c=await Ij(t,e);return s===((r=i.offset)==null?void 0:r.placement)&&(a=i.arrow)!=null&&a.alignmentOffset?{}:{x:o+c.x,y:n+c.y,data:{...c,placement:s}}}}},j5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:a,placement:o}=t,{mainAxis:n=!0,crossAxis:s=!1,limiter:i={fn:y=>{let{x:p,y:f}=y;return{x:p,y:f}}},...c}=Ds(e,t),l={x:r,y:a},d=await Eu(t,c),u=ns(Fs(o)),g=F0(u),h=l[g],v=l[u];if(n){let y=g==="y"?"top":"left",p=g==="y"?"bottom":"right",f=h+d[y],x=h-d[p];h=D0(f,h,x)}if(s){let y=u==="y"?"top":"left",p=u==="y"?"bottom":"right",f=v+d[y],x=v-d[p];v=D0(f,v,x)}let m=i.fn({...t,[g]:h,[u]:v});return{...m,data:{x:m.x-r,y:m.y-a,enabled:{[g]:n,[u]:s}}}}}},U5=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:r,y:a,placement:o,rects:n,middlewareData:s}=t,{offset:i=0,mainAxis:c=!0,crossAxis:l=!0}=Ds(e,t),d={x:r,y:a},u=ns(o),g=F0(u),h=d[g],v=d[u],m=Ds(i,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){let x=g==="y"?"height":"width",b=n.reference[g]-n.floating[x]+y.mainAxis,w=n.reference[g]+n.reference[x]-y.mainAxis;h<b?h=b:h>w&&(h=w)}if(l){var p,f;let x=g==="y"?"width":"height",b=["top","left"].includes(Fs(o)),w=n.reference[u]-n.floating[x]+(b&&((p=s.offset)==null?void 0:p[u])||0)+(b?0:y.crossAxis),N=n.reference[u]+n.reference[x]+(b?0:((f=s.offset)==null?void 0:f[u])||0)-(b?y.crossAxis:0);v<w?v=w:v>N&&(v=N)}return{[g]:h,[u]:v}}}},z5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;let{placement:o,rects:n,platform:s,elements:i}=t,{apply:c=()=>{},...l}=Ds(e,t),d=await Eu(t,l),u=Fs(o),g=pc(o),h=ns(o)==="y",{width:v,height:m}=n.floating,y,p;u==="top"||u==="bottom"?(y=u,p=g===(await(s.isRTL==null?void 0:s.isRTL(i.floating))?"start":"end")?"left":"right"):(p=u,y=g==="end"?"top":"bottom");let f=m-d.top-d.bottom,x=v-d.left-d.right,b=Ts(m-d[y],f),w=Ts(v-d[p],x),N=!t.middlewareData.shift,I=b,C=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=x),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(I=f),N&&!g){let k=co(d.left,0),E=co(d.right,0),L=co(d.top,0),P=co(d.bottom,0);h?C=v-2*(k!==0||E!==0?k+E:co(d.left,d.right)):I=m-2*(L!==0||P!==0?L+P:co(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:I});let S=await s.getDimensions(i.floating);return v!==S.width||m!==S.height?{reset:{rects:!0}}:{}}}};function _0(){return typeof window<"u"}function vc(e){return H5(e)?(e.nodeName||"").toLowerCase():"#document"}function Io(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ss(e){var t;return(t=(H5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function H5(e){return _0()?e instanceof Node||e instanceof Io(e).Node:!1}function xn(e){return _0()?e instanceof Element||e instanceof Io(e).Element:!1}function is(e){return _0()?e instanceof HTMLElement||e instanceof Io(e).HTMLElement:!1}function $5(e){return!_0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Io(e).ShadowRoot}function Lu(e){let{overflow:t,overflowX:r,overflowY:a,display:o}=bn(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!["inline","contents"].includes(o)}function V5(e){return["table","td","th"].includes(vc(e))}function Rp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function B0(e){let t=q0(),r=xn(e)?bn(e):e;return["transform","translate","scale","rotate","perspective"].some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(r.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(r.contain||"").includes(a))}function W5(e){let t=yi(e);for(;is(t)&&!yc(t);){if(B0(t))return t;if(Rp(t))return null;t=yi(t)}return null}function q0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function yc(e){return["html","body","#document"].includes(vc(e))}function bn(e){return Io(e).getComputedStyle(e)}function Ap(e){return xn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function yi(e){if(vc(e)==="html")return e;let t=e.assignedSlot||e.parentNode||$5(e)&&e.host||ss(e);return $5(t)?t.host:t}function G5(e){let t=yi(e);return yc(t)?e.ownerDocument?e.ownerDocument.body:e.body:is(t)&&Lu(t)?t:G5(t)}function hc(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);let o=G5(e),n=o===((a=e.ownerDocument)==null?void 0:a.body),s=Io(o);if(n){let i=j0(s);return t.concat(s,s.visualViewport||[],Lu(o)?o:[],i&&r?hc(i):[])}return t.concat(o,hc(o,[],r))}function j0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Y5(e){let t=bn(e),r=parseFloat(t.width)||0,a=parseFloat(t.height)||0,o=is(e),n=o?e.offsetWidth:r,s=o?e.offsetHeight:a,i=Lp(r)!==n||Lp(a)!==s;return i&&(r=n,a=s),{width:r,height:a,$:i}}function I1(e){return xn(e)?e:e.contextElement}function Iu(e){let t=I1(e);if(!is(t))return os(1);let r=t.getBoundingClientRect(),{width:a,height:o,$:n}=Y5(t),s=(n?Lp(r.width):r.width)/a,i=(n?Lp(r.height):r.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!i||!Number.isFinite(i))&&(i=1),{x:s,y:i}}var Rj=os(0);function X5(e){let t=Io(e);return!q0()||!t.visualViewport?Rj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Aj(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Io(e)?!1:t}function xc(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);let o=e.getBoundingClientRect(),n=I1(e),s=os(1);t&&(a?xn(a)&&(s=Iu(a)):s=Iu(e));let i=Aj(n,r,a)?X5(n):os(0),c=(o.left+i.x)/s.x,l=(o.top+i.y)/s.y,d=o.width/s.x,u=o.height/s.y;if(n){let g=Io(n),h=a&&xn(a)?Io(a):a,v=g,m=j0(v);for(;m&&a&&h!==v;){let y=Iu(m),p=m.getBoundingClientRect(),f=bn(m),x=p.left+(m.clientLeft+parseFloat(f.paddingLeft))*y.x,b=p.top+(m.clientTop+parseFloat(f.paddingTop))*y.y;c*=y.x,l*=y.y,d*=y.x,u*=y.y,c+=x,l+=b,v=Io(m),m=j0(v)}}return gc({width:d,height:u,x:c,y:l})}function R1(e,t){let r=Ap(e).scrollLeft;return t?t.left+r:xc(ss(e)).left+r}function J5(e,t,r){r===void 0&&(r=!1);let a=e.getBoundingClientRect(),o=a.left+t.scrollLeft-(r?0:R1(e,a)),n=a.top+t.scrollTop;return{x:o,y:n}}function Pj(e){let{elements:t,rect:r,offsetParent:a,strategy:o}=e,n=o==="fixed",s=ss(a),i=t?Rp(t.floating):!1;if(a===s||i&&n)return r;let c={scrollLeft:0,scrollTop:0},l=os(1),d=os(0),u=is(a);if((u||!u&&!n)&&((vc(a)!=="body"||Lu(s))&&(c=Ap(a)),is(a))){let h=xc(a);l=Iu(a),d.x=h.x+a.clientLeft,d.y=h.y+a.clientTop}let g=s&&!u&&!n?J5(s,c,!0):os(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-c.scrollLeft*l.x+d.x+g.x,y:r.y*l.y-c.scrollTop*l.y+d.y+g.y}}function Tj(e){return Array.from(e.getClientRects())}function Dj(e){let t=ss(e),r=Ap(e),a=e.ownerDocument.body,o=co(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),n=co(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight),s=-r.scrollLeft+R1(e),i=-r.scrollTop;return bn(a).direction==="rtl"&&(s+=co(t.clientWidth,a.clientWidth)-o),{width:o,height:n,x:s,y:i}}function Fj(e,t){let r=Io(e),a=ss(e),o=r.visualViewport,n=a.clientWidth,s=a.clientHeight,i=0,c=0;if(o){n=o.width,s=o.height;let l=q0();(!l||l&&t==="fixed")&&(i=o.offsetLeft,c=o.offsetTop)}return{width:n,height:s,x:i,y:c}}function Oj(e,t){let r=xc(e,!0,t==="fixed"),a=r.top+e.clientTop,o=r.left+e.clientLeft,n=is(e)?Iu(e):os(1),s=e.clientWidth*n.x,i=e.clientHeight*n.y,c=o*n.x,l=a*n.y;return{width:s,height:i,x:c,y:l}}function K5(e,t,r){let a;if(t==="viewport")a=Fj(e,r);else if(t==="document")a=Dj(ss(e));else if(xn(t))a=Oj(t,r);else{let o=X5(e);a={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return gc(a)}function Z5(e,t){let r=yi(e);return r===t||!xn(r)||yc(r)?!1:bn(r).position==="fixed"||Z5(r,t)}function Mj(e,t){let r=t.get(e);if(r)return r;let a=hc(e,[],!1).filter(i=>xn(i)&&vc(i)!=="body"),o=null,n=bn(e).position==="fixed",s=n?yi(e):e;for(;xn(s)&&!yc(s);){let i=bn(s),c=B0(s);!c&&i.position==="fixed"&&(o=null),(n?!c&&!o:!c&&i.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Lu(s)&&!c&&Z5(e,s))?a=a.filter(d=>d!==s):o=i,s=yi(s)}return t.set(e,a),a}function _j(e){let{element:t,boundary:r,rootBoundary:a,strategy:o}=e,s=[...r==="clippingAncestors"?Rp(t)?[]:Mj(t,this._c):[].concat(r),a],i=s[0],c=s.reduce((l,d)=>{let u=K5(t,d,o);return l.top=co(u.top,l.top),l.right=Ts(u.right,l.right),l.bottom=Ts(u.bottom,l.bottom),l.left=co(u.left,l.left),l},K5(t,i,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Bj(e){let{width:t,height:r}=Y5(e);return{width:t,height:r}}function qj(e,t,r){let a=is(t),o=ss(t),n=r==="fixed",s=xc(e,!0,n,t),i={scrollLeft:0,scrollTop:0},c=os(0);function l(){c.x=R1(o)}if(a||!a&&!n)if((vc(t)!=="body"||Lu(o))&&(i=Ap(t)),a){let h=xc(t,!0,n,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else o&&l();n&&!a&&o&&l();let d=o&&!a&&!n?J5(o,i):os(0),u=s.left+i.scrollLeft-c.x-d.x,g=s.top+i.scrollTop-c.y-d.y;return{x:u,y:g,width:s.width,height:s.height}}function L1(e){return bn(e).position==="static"}function Q5(e,t){if(!is(e)||bn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ss(e)===r&&(r=r.ownerDocument.body),r}function e3(e,t){let r=Io(e);if(Rp(e))return r;if(!is(e)){let o=yi(e);for(;o&&!yc(o);){if(xn(o)&&!L1(o))return o;o=yi(o)}return r}let a=Q5(e,t);for(;a&&V5(a)&&L1(a);)a=Q5(a,t);return a&&yc(a)&&L1(a)&&!B0(a)?r:a||W5(e)||r}var jj=async function(e){let t=this.getOffsetParent||e3,r=this.getDimensions,a=await r(e.floating);return{reference:qj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Uj(e){return bn(e).direction==="rtl"}var t3={convertOffsetParentRelativeRectToViewportRelativeRect:Pj,getDocumentElement:ss,getClippingRect:_j,getOffsetParent:e3,getElementRects:jj,getClientRects:Tj,getDimensions:Bj,getScale:Iu,isElement:xn,isRTL:Uj};function r3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zj(e,t){let r=null,a,o=ss(e);function n(){var i;clearTimeout(a),(i=r)==null||i.disconnect(),r=null}function s(i,c){i===void 0&&(i=!1),c===void 0&&(c=1),n();let l=e.getBoundingClientRect(),{left:d,top:u,width:g,height:h}=l;if(i||t(),!g||!h)return;let v=Ip(u),m=Ip(o.clientWidth-(d+g)),y=Ip(o.clientHeight-(u+h)),p=Ip(d),x={rootMargin:-v+"px "+-m+"px "+-y+"px "+-p+"px",threshold:co(0,Ts(1,c))||1},b=!0;function w(N){let I=N[0].intersectionRatio;if(I!==c){if(!b)return s();I?s(!1,I):a=setTimeout(()=>{s(!1,1e-7)},1e3)}I===1&&!r3(l,e.getBoundingClientRect())&&s(),b=!1}try{r=new IntersectionObserver(w,{...x,root:o.ownerDocument})}catch{r=new IntersectionObserver(w,x)}r.observe(e)}return s(!0),n}function A1(e,t,r,a){a===void 0&&(a={});let{ancestorScroll:o=!0,ancestorResize:n=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,l=I1(e),d=o||n?[...l?hc(l):[],...hc(t)]:[];d.forEach(p=>{o&&p.addEventListener("scroll",r,{passive:!0}),n&&p.addEventListener("resize",r)});let u=l&&i?zj(l,r):null,g=-1,h=null;s&&(h=new ResizeObserver(p=>{let[f]=p;f&&f.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(t)})),r()}),l&&!c&&h.observe(l),h.observe(t));let v,m=c?xc(e):null;c&&y();function y(){let p=xc(e);m&&!r3(m,p)&&r(),m=p,v=requestAnimationFrame(y)}return r(),()=>{var p;d.forEach(f=>{o&&f.removeEventListener("scroll",r),n&&f.removeEventListener("resize",r)}),u?.(),(p=h)==null||p.disconnect(),h=null,c&&cancelAnimationFrame(v)}}var a3=q5;var o3=j5,n3=_5,s3=z5,i3=B5,P1=M5;var l3=U5,T1=(e,t,r)=>{let a=new Map,o={platform:t3,...r},n={...o.platform,_c:a};return O5(e,t,{...o,platform:n})};var da=H(he(),1),d3=H(he(),1),u3=H(Xi(),1),$j=typeof document<"u",Hj=function(){},U0=$j?d3.useLayoutEffect:Hj;function z0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!z0(e[a],t[a]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,o[a]))return!1;for(a=r;a--!==0;){let n=o[a];if(!(n==="_owner"&&e.$$typeof)&&!z0(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function f3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function c3(e,t){let r=f3(e);return Math.round(t*r)/r}function D1(e){let t=da.useRef(e);return U0(()=>{t.current=e}),t}function m3(e){e===void 0&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:o,elements:{reference:n,floating:s}={},transform:i=!0,whileElementsMounted:c,open:l}=e,[d,u]=da.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,h]=da.useState(a);z0(g,a)||h(a);let[v,m]=da.useState(null),[y,p]=da.useState(null),f=da.useCallback(D=>{D!==N.current&&(N.current=D,m(D))},[]),x=da.useCallback(D=>{D!==I.current&&(I.current=D,p(D))},[]),b=n||v,w=s||y,N=da.useRef(null),I=da.useRef(null),C=da.useRef(d),S=c!=null,k=D1(c),E=D1(o),L=D1(l),P=da.useCallback(()=>{if(!N.current||!I.current)return;let D={placement:t,strategy:r,middleware:g};E.current&&(D.platform=E.current),T1(N.current,I.current,D).then(A=>{let B={...A,isPositioned:L.current!==!1};j.current&&!z0(C.current,B)&&(C.current=B,u3.flushSync(()=>{u(B)}))})},[g,t,r,E,L]);U0(()=>{l===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,u(D=>({...D,isPositioned:!1})))},[l]);let j=da.useRef(!1);U0(()=>(j.current=!0,()=>{j.current=!1}),[]),U0(()=>{if(b&&(N.current=b),w&&(I.current=w),b&&w){if(k.current)return k.current(b,w,P);P()}},[b,w,P,k,S]);let M=da.useMemo(()=>({reference:N,floating:I,setReference:f,setFloating:x}),[f,x]),q=da.useMemo(()=>({reference:b,floating:w}),[b,w]),R=da.useMemo(()=>{let D={position:r,left:0,top:0};if(!q.floating)return D;let A=c3(q.floating,d.x),B=c3(q.floating,d.y);return i?{...D,transform:"translate("+A+"px, "+B+"px)",...f3(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:B}},[r,i,q.floating,d.x,d.y]);return da.useMemo(()=>({...d,update:P,refs:M,elements:q,floatingStyles:R}),[d,P,M,q,R])}var Vj=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){let{element:a,padding:o}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?P1({element:a.current,padding:o}).fn(r):{}:a?P1({element:a,padding:o}).fn(r):{}}}},p3=(e,t)=>({...a3(e),options:[e,t]}),g3=(e,t)=>({...o3(e),options:[e,t]}),h3=(e,t)=>({...l3(e),options:[e,t]}),v3=(e,t)=>({...n3(e),options:[e,t]}),y3=(e,t)=>({...s3(e),options:[e,t]});var x3=(e,t)=>({...i3(e),options:[e,t]});var b3=(e,t)=>({...Vj(e),options:[e,t]});var w3=H(he(),1);var F1=H(se(),1),Wj="Arrow",k3=w3.forwardRef((e,t)=>{let{children:r,width:a=10,height:o=5,...n}=e;return(0,F1.jsx)(Eo.svg,{...n,ref:t,width:a,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,F1.jsx)("polygon",{points:"0,0 30,0 15,10"})})});k3.displayName=Wj;var N3=k3;var C3=H(he(),1);function S3(e){let[t,r]=C3.useState(void 0);return Lo(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let a=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;let n=o[0],s,i;if("borderBoxSize"in n){let c=n.borderBoxSize,l=Array.isArray(c)?c[0]:c;s=l.inlineSize,i=l.blockSize}else s=e.offsetWidth,i=e.offsetHeight;r({width:s,height:i})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var yl=H(se(),1);var O1="Popper",[E3,M1]=P0(O1),[Kj,L3]=E3(O1),I3=e=>{let{__scopePopper:t,children:r}=e,[a,o]=Qo.useState(null);return(0,yl.jsx)(Kj,{scope:t,anchor:a,onAnchorChange:o,children:r})};I3.displayName=O1;var R3="PopperAnchor",A3=Qo.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:a,...o}=e,n=L3(R3,r),s=Qo.useRef(null),i=as(t,s);return Qo.useEffect(()=>{n.onAnchorChange(a?.current||s.current)}),a?null:(0,yl.jsx)(Eo.div,{...o,ref:i})});A3.displayName=R3;var _1="PopperContent",[Qj,Yj]=E3(_1),P3=Qo.forwardRef((e,t)=>{let{__scopePopper:r,side:a="bottom",sideOffset:o=0,align:n="center",alignOffset:s=0,arrowPadding:i=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:g=!1,updatePositionStrategy:h="optimized",onPlaced:v,...m}=e,y=L3(_1,r),[p,f]=Qo.useState(null),x=as(t,J=>f(J)),[b,w]=Qo.useState(null),N=S3(b),I=N?.width??0,C=N?.height??0,S=a+(n!=="center"?"-"+n:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(l)?l:[l],L=E.length>0,P={padding:k,boundary:E.filter(Jj),altBoundary:L},{refs:j,floatingStyles:M,placement:q,isPositioned:R,middlewareData:D}=m3({strategy:"fixed",placement:S,whileElementsMounted:(...J)=>A1(...J,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[p3({mainAxis:o+C,alignmentAxis:s}),c&&g3({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?h3():void 0,...P}),c&&v3({...P}),y3({...P,apply:({elements:J,rects:K,availableWidth:ue,availableHeight:ve})=>{let{width:tt,height:qe}=K.reference,pe=J.floating.style;pe.setProperty("--radix-popper-available-width",`${ue}px`),pe.setProperty("--radix-popper-available-height",`${ve}px`),pe.setProperty("--radix-popper-anchor-width",`${tt}px`),pe.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),b&&b3({element:b,padding:i}),Zj({arrowWidth:I,arrowHeight:C}),g&&x3({strategy:"referenceHidden",...P})]}),[A,B]=F3(q),F=mc(v);Lo(()=>{R&&F?.()},[R,F]);let T=D.arrow?.x,U=D.arrow?.y,O=D.arrow?.centerOffset!==0,[z,X]=Qo.useState();return Lo(()=>{p&&X(window.getComputedStyle(p).zIndex)},[p]),(0,yl.jsx)("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:R?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[D.transformOrigin?.x,D.transformOrigin?.y].join(" "),...D.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,yl.jsx)(Qj,{scope:r,placedSide:A,onArrowChange:w,arrowX:T,arrowY:U,shouldHideArrow:O,children:(0,yl.jsx)(Eo.div,{"data-side":A,"data-align":B,...m,ref:x,style:{...m.style,animation:R?void 0:"none"}})})})});P3.displayName=_1;var T3="PopperArrow",Xj={top:"bottom",right:"left",bottom:"top",left:"right"},D3=Qo.forwardRef(function(t,r){let{__scopePopper:a,...o}=t,n=Yj(T3,a),s=Xj[n.placedSide];return(0,yl.jsx)("span",{ref:n.onArrowChange,style:{position:"absolute",left:n.arrowX,top:n.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[n.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[n.placedSide],visibility:n.shouldHideArrow?"hidden":void 0},children:(0,yl.jsx)(N3,{...o,ref:r,style:{...o.style,display:"block"}})})});D3.displayName=T3;function Jj(e){return e!==null}var Zj=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:a,middlewareData:o}=t,s=o.arrow?.centerOffset!==0,i=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[l,d]=F3(r),u={start:"0%",center:"50%",end:"100%"}[d],g=(o.arrow?.x??0)+i/2,h=(o.arrow?.y??0)+c/2,v="",m="";return l==="bottom"?(v=s?u:`${g}px`,m=`${-c}px`):l==="top"?(v=s?u:`${g}px`,m=`${a.floating.height+c}px`):l==="right"?(v=`${-c}px`,m=s?u:`${h}px`):l==="left"&&(v=`${a.floating.width+c}px`,m=s?u:`${h}px`),{data:{x:v,y:m}}}});function F3(e){let[t,r="center"]=e.split("-");return[t,r]}var O3=I3,M3=A3,_3=P3,B3=D3;var $0=H(he(),1),q3=H(Xi(),1);var j3=H(se(),1),tU="Portal",B1=$0.forwardRef((e,t)=>{let{container:r,...a}=e,[o,n]=$0.useState(!1);Lo(()=>n(!0),[]);let s=r||o&&globalThis?.document?.body;return s?q3.default.createPortal((0,j3.jsx)(Eo.div,{...a,ref:t}),s):null});B1.displayName=tU;var Ro=H(he(),1);var U3=H(he(),1);function rU(e,t){return U3.useReducer((r,a)=>t[r][a]??r,e)}var V0=e=>{let{present:t,children:r}=e,a=aU(t),o=typeof r=="function"?r({present:a.isPresent}):Ro.Children.only(r),n=as(a.ref,oU(o));return typeof r=="function"||a.isPresent?Ro.cloneElement(o,{ref:n}):null};V0.displayName="Presence";function aU(e){let[t,r]=Ro.useState(),a=Ro.useRef(null),o=Ro.useRef(e),n=Ro.useRef("none"),s=e?"mounted":"unmounted",[i,c]=rU(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Ro.useEffect(()=>{let l=H0(a.current);n.current=i==="mounted"?l:"none"},[i]),Lo(()=>{let l=a.current,d=o.current;if(d!==e){let g=n.current,h=H0(l);e?c("MOUNT"):h==="none"||l?.display==="none"?c("UNMOUNT"):c(d&&g!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),Lo(()=>{if(t){let l,d=t.ownerDocument.defaultView??window,u=h=>{let m=H0(a.current).includes(h.animationName);if(h.target===t&&m&&(c("ANIMATION_END"),!o.current)){let y=t.style.animationFillMode;t.style.animationFillMode="forwards",l=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},g=h=>{h.target===t&&(n.current=H0(a.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{d.clearTimeout(l),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:Ro.useCallback(l=>{a.current=l?getComputedStyle(l):null,r(l)},[])}}function H0(e){return e?.animationName||"none"}function oU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wn=H(he(),1);var W0=H(he(),1);var nU=wn[" useInsertionEffect ".trim().toString()]||Lo;function z3({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){let[o,n,s]=sU({defaultProp:t,onChange:r}),i=e!==void 0,c=i?e:o;{let d=wn.useRef(e!==void 0);wn.useEffect(()=>{let u=d.current;u!==i&&console.warn(`${a} is changing from ${u?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=i},[i,a])}let l=wn.useCallback(d=>{if(i){let u=iU(d)?d(e):d;u!==e&&s.current?.(u)}else n(d)},[i,e,n,s]);return[c,l]}function sU({defaultProp:e,onChange:t}){let[r,a]=wn.useState(e),o=wn.useRef(r),n=wn.useRef(t);return nU(()=>{n.current=t},[t]),wn.useEffect(()=>{o.current!==r&&(n.current?.(r),o.current=r)},[r,o]),[r,a,n]}function iU(e){return typeof e=="function"}var yue=Symbol("RADIX:SYNC_STATE");var $3=H(he(),1);var H3=H(se(),1),lU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cU="VisuallyHidden",V3=$3.forwardRef((e,t)=>(0,H3.jsx)(Eo.span,{...e,ref:t,style:{...lU,...e.style}}));V3.displayName=cU;var W3=V3;var ua=H(se(),1),[G0,Tue]=P0("Tooltip",[M1]),K0=M1(),G3="TooltipProvider",uU=700,q1="tooltip.open",[fU,U1]=G0(G3),K3=e=>{let{__scopeTooltip:t,delayDuration:r=uU,skipDelayDuration:a=300,disableHoverableContent:o=!1,children:n}=e,s=$t.useRef(!0),i=$t.useRef(!1),c=$t.useRef(0);return $t.useEffect(()=>{let l=c.current;return()=>window.clearTimeout(l)},[]),(0,ua.jsx)(fU,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:$t.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:$t.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,a)},[a]),isPointerInTransitRef:i,onPointerInTransitChange:$t.useCallback(l=>{i.current=l},[]),disableHoverableContent:o,children:n})};K3.displayName=G3;var Pp="Tooltip",[mU,Tp]=G0(Pp),Q3=e=>{let{__scopeTooltip:t,children:r,open:a,defaultOpen:o,onOpenChange:n,disableHoverableContent:s,delayDuration:i}=e,c=U1(Pp,e.__scopeTooltip),l=K0(t),[d,u]=$t.useState(null),g=L5(),h=$t.useRef(0),v=s??c.disableHoverableContent,m=i??c.delayDuration,y=$t.useRef(!1),[p,f]=z3({prop:a,defaultProp:o??!1,onChange:I=>{I?(c.onOpen(),document.dispatchEvent(new CustomEvent(q1))):c.onClose(),n?.(I)},caller:Pp}),x=$t.useMemo(()=>p?y.current?"delayed-open":"instant-open":"closed",[p]),b=$t.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y.current=!1,f(!0)},[f]),w=$t.useCallback(()=>{window.clearTimeout(h.current),h.current=0,f(!1)},[f]),N=$t.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{y.current=!0,f(!0),h.current=0},m)},[m,f]);return $t.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),(0,ua.jsx)(O3,{...l,children:(0,ua.jsx)(mU,{scope:t,contentId:g,open:p,stateAttribute:x,trigger:d,onTriggerChange:u,onTriggerEnter:$t.useCallback(()=>{c.isOpenDelayedRef.current?N():b()},[c.isOpenDelayedRef,N,b]),onTriggerLeave:$t.useCallback(()=>{v?w():(window.clearTimeout(h.current),h.current=0)},[w,v]),onOpen:b,onClose:w,disableHoverableContent:v,children:r})})};Q3.displayName=Pp;var j1="TooltipTrigger",Y3=$t.forwardRef((e,t)=>{let{__scopeTooltip:r,...a}=e,o=Tp(j1,r),n=U1(j1,r),s=K0(r),i=$t.useRef(null),c=as(t,i,o.onTriggerChange),l=$t.useRef(!1),d=$t.useRef(!1),u=$t.useCallback(()=>l.current=!1,[]);return $t.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),(0,ua.jsx)(M3,{asChild:!0,...s,children:(0,ua.jsx)(Eo.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...a,ref:c,onPointerMove:rs(e.onPointerMove,g=>{g.pointerType!=="touch"&&!d.current&&!n.isPointerInTransitRef.current&&(o.onTriggerEnter(),d.current=!0)}),onPointerLeave:rs(e.onPointerLeave,()=>{o.onTriggerLeave(),d.current=!1}),onPointerDown:rs(e.onPointerDown,()=>{o.open&&o.onClose(),l.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:rs(e.onFocus,()=>{l.current||o.onOpen()}),onBlur:rs(e.onBlur,o.onClose),onClick:rs(e.onClick,o.onClose)})})});Y3.displayName=j1;var z1="TooltipPortal",[pU,gU]=G0(z1,{forceMount:void 0}),X3=e=>{let{__scopeTooltip:t,forceMount:r,children:a,container:o}=e,n=Tp(z1,t);return(0,ua.jsx)(pU,{scope:t,forceMount:r,children:(0,ua.jsx)(V0,{present:r||n.open,children:(0,ua.jsx)(B1,{asChild:!0,container:o,children:a})})})};X3.displayName=z1;var Ru="TooltipContent",J3=$t.forwardRef((e,t)=>{let r=gU(Ru,e.__scopeTooltip),{forceMount:a=r.forceMount,side:o="top",...n}=e,s=Tp(Ru,e.__scopeTooltip);return(0,ua.jsx)(V0,{present:a||s.open,children:s.disableHoverableContent?(0,ua.jsx)(Z3,{side:o,...n,ref:t}):(0,ua.jsx)(hU,{side:o,...n,ref:t})})}),hU=$t.forwardRef((e,t)=>{let r=Tp(Ru,e.__scopeTooltip),a=U1(Ru,e.__scopeTooltip),o=$t.useRef(null),n=as(t,o),[s,i]=$t.useState(null),{trigger:c,onClose:l}=r,d=o.current,{onPointerInTransitChange:u}=a,g=$t.useCallback(()=>{i(null),u(!1)},[u]),h=$t.useCallback((v,m)=>{let y=v.currentTarget,p={x:v.clientX,y:v.clientY},f=bU(p,y.getBoundingClientRect()),x=wU(p,f),b=kU(m.getBoundingClientRect()),w=CU([...x,...b]);i(w),u(!0)},[u]);return $t.useEffect(()=>()=>g(),[g]),$t.useEffect(()=>{if(c&&d){let v=y=>h(y,d),m=y=>h(y,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[c,d,h,g]),$t.useEffect(()=>{if(s){let v=m=>{let y=m.target,p={x:m.clientX,y:m.clientY},f=c?.contains(y)||d?.contains(y),x=!NU(p,s);f?g():x&&(g(),l())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,s,l,g]),(0,ua.jsx)(Z3,{...e,ref:n})}),[vU,yU]=G0(Pp,{isInside:!1}),xU=g5("TooltipContent"),Z3=$t.forwardRef((e,t)=>{let{__scopeTooltip:r,children:a,"aria-label":o,onEscapeKeyDown:n,onPointerDownOutside:s,...i}=e,c=Tp(Ru,r),l=K0(r),{onClose:d}=c;return $t.useEffect(()=>(document.addEventListener(q1,d),()=>document.removeEventListener(q1,d)),[d]),$t.useEffect(()=>{if(c.trigger){let u=g=>{g.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[c.trigger,d]),(0,ua.jsx)(C1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:(0,ua.jsxs)(_3,{"data-state":c.stateAttribute,...l,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,ua.jsx)(xU,{children:a}),(0,ua.jsx)(vU,{scope:r,isInside:!0,children:(0,ua.jsx)(W3,{id:c.contentId,role:"tooltip",children:o||a})})]})})});J3.displayName=Ru;var eL="TooltipArrow",tL=$t.forwardRef((e,t)=>{let{__scopeTooltip:r,...a}=e,o=K0(r);return yU(eL,r).isInside?null:(0,ua.jsx)(B3,{...o,...a,ref:t})});tL.displayName=eL;function bU(e,t){let r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),n=Math.abs(t.left-e.x);switch(Math.min(r,a,o,n)){case n:return"left";case o:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function wU(e,t,r=5){let a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function kU(e){let{top:t,right:r,bottom:a,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:a},{x:o,y:a}]}function NU(e,t){let{x:r,y:a}=e,o=!1;for(let n=0,s=t.length-1;n<t.length;s=n++){let i=t[n],c=t[s],l=i.x,d=i.y,u=c.x,g=c.y;d>a!=g>a&&r<(u-l)*(a-d)/(g-d)+l&&(o=!o)}return o}function CU(e){let t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),SU(t)}function SU(e){if(e.length<=1)return e.slice();let t=[];for(let a=0;a<e.length;a++){let o=e[a];for(;t.length>=2;){let n=t[t.length-1],s=t[t.length-2];if((n.x-s.x)*(o.y-s.y)>=(n.y-s.y)*(o.x-s.x))t.pop();else break}t.push(o)}t.pop();let r=[];for(let a=e.length-1;a>=0;a--){let o=e[a];for(;r.length>=2;){let n=r[r.length-1],s=r[r.length-2];if((n.x-s.x)*(o.y-s.y)>=(n.y-s.y)*(o.x-s.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var rL=K3,aL=Q3,oL=Y3,nL=X3,sL=J3,iL=tL;var ls=H(se()),Ao=({content:e,children:t,side:r="top",delayDuration:a=300,variant:o="default",className:n=""})=>(0,ls.jsx)(rL,{delayDuration:a,children:(0,ls.jsxs)(aL,{children:[(0,ls.jsx)(oL,{asChild:!0,children:t}),(0,ls.jsx)(nL,{children:(0,ls.jsxs)(sL,{side:r,sideOffset:8,className:`
              z-50 rounded-lg px-3 py-2 text-sm font-medium shadow-lg
              bg-gray-900 dark:bg-gray-800 text-white
              animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out 
              data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95
              data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2
              data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2
              ${n}
            `,children:[e,(0,ls.jsx)(iL,{className:"fill-gray-900 dark:fill-gray-800"})]})})]})}),Dp=({content:e,side:t="top",className:r=""})=>(0,ls.jsx)(Ao,{content:e,side:t,variant:"help",className:r,children:(0,ls.jsx)("button",{type:"button",className:"inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Help",children:(0,ls.jsx)(No,{className:"w-3.5 h-3.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})})});var Ce=H(se()),lL=()=>{let{user:e,logout:t}=Ge(),r=ht(),a=lr(),[o,n]=(0,Aa.useState)(!1),[s,i]=(0,Aa.useState)(!1),[c,l]=(0,Aa.useState)(!1),[d,u]=(0,Aa.useState)(null),[g,h]=(0,Aa.useState)(null),[v,m]=(0,Aa.useState)(0),[y,p]=(0,Aa.useState)(0),f=(0,Aa.useRef)(null),x=(0,Aa.useRef)(null),b=(0,Aa.useRef)(null),w=(0,Aa.useRef)(null);(0,Aa.useEffect)(()=>{if(!e)return;let E=async()=>{try{let P=await Pd();m(P||0);let M=(await pn({limit:100})).data.reduce((q,R)=>q+(R.unreadCount||0),0);p(M)}catch(P){console.error("Error fetching unread counts:",P),m(0),p(0)}};E();let L=setInterval(E,3e4);return()=>clearInterval(L)},[e]),(0,Aa.useEffect)(()=>{let E=L=>{w.current&&!w.current.contains(L.target)&&i(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);let N=()=>{t(),r("/login")},I=()=>{setShowMessagingPopup(!1),setTimeout(()=>{r("/messages")},100)},C=(E,L)=>{u({userId:E,userName:L}),l(!0)},S=()=>{l(!1),u(null)},k=E=>a.pathname===E;return e?(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("header",{className:"sticky top-0 z-50 w-full backdrop-blur-2xl border-b transition-all duration-300 lg:block hidden",style:{backgroundColor:"rgba(255, 255, 255, 0.98)",borderColor:"rgba(11, 30, 63, 0.2)",boxShadow:"0 20px 60px rgba(11, 30, 63, 0.2), 0 8px 24px rgba(11, 30, 63, 0.15), 0 2px 8px rgba(11, 30, 63, 0.1), 0 0 0 1px rgba(11, 30, 63, 0.08)"},children:(0,Ce.jsxs)("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[(0,Ce.jsxs)("div",{className:"flex items-center justify-between h-20",children:[(0,Ce.jsx)("div",{className:"flex items-center",children:(0,Ce.jsx)(we,{to:"/home",className:"group",children:(0,Ce.jsx)("span",{className:"text-2xl font-bold transition-all duration-300 group-hover:opacity-80",style:{background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 50%, #9A8CFF 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",fontFamily:"Inter, system-ui, -apple-system, sans-serif",letterSpacing:"-0.02em"},children:"SkillStream"})})}),(0,Ce.jsxs)("nav",{className:"hidden lg:flex items-center space-x-1 mx-8 flex-1 justify-center",children:[(0,Ce.jsx)(we,{to:"/home",className:`px-4 py-2 rounded-xl font-medium text-sm transition-all duration-200 ${k("/home")||k("/dashboard")?"text-white":"hover:opacity-80"}`,style:{backgroundColor:k("/home")||k("/dashboard")?"#00B5AD":"transparent",color:k("/home")||k("/dashboard")?"white":"#0B1E3F"},children:"Home"}),e?.role==="TEACHER"?(0,Ce.jsx)(we,{to:"/courses",className:`px-4 py-2 rounded-xl font-medium text-sm transition-all duration-200 ${k("/courses")?"text-white":"hover:opacity-80"}`,style:{backgroundColor:k("/courses")?"#00B5AD":"transparent",color:k("/courses")?"white":"#0B1E3F"},children:"My Courses"}):(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(we,{to:"/learn",className:`px-4 py-2 rounded-xl font-medium text-sm transition-all duration-200 ${k("/learn")||k("/courses")?"text-white":"hover:opacity-80"}`,style:{backgroundColor:k("/learn")||k("/courses")?"#00B5AD":"transparent",color:k("/learn")||k("/courses")?"white":"#0B1E3F"},children:"Learn"}),(0,Ce.jsx)(we,{to:"/discover",className:`px-4 py-2 rounded-xl font-medium text-sm transition-all duration-200 ${k("/discover")?"text-white":"hover:opacity-80"}`,style:{backgroundColor:k("/discover")?"#00B5AD":"transparent",color:k("/discover")?"white":"#0B1E3F"},children:"Discover"})]}),(0,Ce.jsx)(we,{to:"/calendar",className:`px-4 py-2 rounded-xl font-medium text-sm transition-all duration-200 ${k("/schedule")||k("/calendar")?"text-white":"hover:opacity-80"}`,style:{backgroundColor:k("/schedule")||k("/calendar")?"#00B5AD":"transparent",color:k("/schedule")||k("/calendar")?"white":"#0B1E3F"},children:"Schedule"}),(0,Ce.jsxs)(we,{to:"/messages",className:`px-4 py-2 rounded-xl font-medium text-sm transition-all duration-200 relative ${k("/messages")?"text-white":"hover:opacity-80"}`,style:{backgroundColor:k("/messages")?"#00B5AD":"transparent",color:k("/messages")?"white":"#0B1E3F"},children:["Messages",y>0&&(0,Ce.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full text-xs text-white flex items-center justify-center font-semibold",style:{backgroundColor:"#6F73D2"},children:y>9?"9+":y})]}),e?.role==="TEACHER"&&(0,Ce.jsx)(we,{to:"/analytics",className:`px-4 py-2 rounded-xl font-medium text-sm transition-all duration-200 ${k("/analytics")?"text-white":"hover:opacity-80"}`,style:{backgroundColor:k("/analytics")?"#00B5AD":"transparent",color:k("/analytics")?"white":"#0B1E3F"},children:"Analytics"}),e?.role==="ADMIN"&&(0,Ce.jsx)(we,{to:"/analytics",className:`px-4 py-2 rounded-xl font-medium text-sm transition-all duration-200 ${k("/analytics")?"text-white":"hover:opacity-80"}`,style:{backgroundColor:k("/analytics")?"#00B5AD":"transparent",color:k("/analytics")?"white":"#0B1E3F"},children:"Analytics"})]}),(0,Ce.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ce.jsx)("div",{className:"hidden md:block",children:(0,Ce.jsx)(b1,{placeholder:"Search courses, instructors, topics...",className:"w-64"})}),(0,Ce.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ce.jsxs)("div",{className:"relative",children:[(0,Ce.jsx)(Ao,{content:`Notifications${v>0?` (${v} unread)`:""}`,children:(0,Ce.jsxs)("button",{ref:b,onClick:()=>{h(g==="notifications"?null:"notifications")},className:"p-2.5 rounded-xl transition-all duration-200 hover:scale-110 relative button-press",style:{backgroundColor:g==="notifications"?"rgba(0, 181, 173, 0.1)":"transparent"},"aria-label":`Notifications${v>0?`, ${v} unread`:""}`,children:[(0,Ce.jsx)(Ba,{className:"h-5 w-5",style:{color:"#0B1E3F"}}),v>0&&(0,Ce.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full text-xs text-white flex items-center justify-center font-semibold min-w-[20px] px-1",style:{backgroundColor:"#00B5AD"},children:v>99?"99+":v})]})}),g==="notifications"&&(0,Ce.jsx)(l5,{isOpen:!0,onClose:()=>{h(null),e&&Pd().then(E=>m(E||0))},buttonRef:b})]}),(0,Ce.jsxs)("div",{className:"relative",children:[(0,Ce.jsx)(Ao,{content:`Messages${y>0?` (${y} unread)`:""}`,children:(0,Ce.jsxs)("button",{ref:x,onClick:()=>{h(g==="messages"?null:"messages")},className:"p-2.5 rounded-xl transition-all duration-200 hover:scale-110 relative button-press",style:{backgroundColor:g==="messages"?"rgba(0, 181, 173, 0.1)":"transparent"},"aria-label":`Messages${y>0?`, ${y} unread`:""}`,children:[(0,Ce.jsx)(Br,{className:"h-5 w-5",style:{color:"#0B1E3F"}}),y>0&&(0,Ce.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full text-xs text-white flex items-center justify-center font-semibold min-w-[20px] px-1",style:{backgroundColor:"#00B5AD"},children:y>99?"99+":y})]})}),g==="messages"&&(0,Ce.jsx)(c5,{isOpen:!0,onClose:()=>{h(null),e&&pn({limit:100}).then(E=>{let L=E.data.reduce((P,j)=>P+(j.unreadCount||0),0);p(L)})},onExpand:I,buttonRef:x})]}),(0,Ce.jsxs)("div",{className:"relative",children:[(0,Ce.jsx)(Ao,{content:"Start Video Call",children:(0,Ce.jsx)("button",{ref:f,onClick:()=>{h(g==="videoCall"?null:"videoCall")},className:"p-2.5 rounded-xl transition-all duration-200 hover:scale-110 button-press",style:{backgroundColor:g==="videoCall"?"rgba(0, 181, 173, 0.1)":"transparent"},"aria-label":"Start Video Call",children:(0,Ce.jsx)(Bt,{className:"h-5 w-5",style:{color:"#0B1E3F"}})})}),g==="videoCall"&&(0,Ce.jsx)(i5,{isOpen:!0,onClose:()=>h(null),onStartCall:C,buttonRef:f})]}),(0,Ce.jsxs)("div",{className:"relative",ref:w,children:[(0,Ce.jsxs)("button",{onClick:()=>i(!s),className:"flex items-center space-x-2 p-1.5 rounded-xl transition-all duration-200 hover:scale-105",style:{backgroundColor:s?"rgba(0, 181, 173, 0.1)":"transparent"},children:[(0,Ce.jsx)("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center text-white font-semibold text-sm",style:{background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 100%)"},children:e.avatar?(0,Ce.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover rounded-lg"}):io(e.name||"U")}),(0,Ce.jsx)(qa,{className:"h-4 w-4 hidden md:block",style:{color:"#0B1E3F"}})]}),s&&(0,Ce.jsxs)("div",{className:"absolute right-0 mt-2 w-56 rounded-xl shadow-2xl border py-2 z-50 backdrop-blur-xl",style:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"rgba(11, 30, 63, 0.1)",boxShadow:"0 20px 60px rgba(11, 30, 63, 0.15)"},children:[(0,Ce.jsxs)("div",{className:"px-4 py-3 border-b",style:{borderColor:"rgba(11, 30, 63, 0.1)"},children:[(0,Ce.jsx)("p",{className:"text-sm font-semibold",style:{color:"#0B1E3F"},children:e.name}),(0,Ce.jsx)("p",{className:"text-xs mt-1",style:{color:"#6F73D2"},children:e.email})]}),(0,Ce.jsxs)(we,{to:"/profile",className:"flex items-center px-4 py-2.5 text-sm transition-colors hover:opacity-80",style:{color:"#0B1E3F"},onClick:()=>i(!1),children:[(0,Ce.jsx)(Kr,{className:"h-4 w-4 mr-3"}),"Profile"]}),(0,Ce.jsxs)(we,{to:"/profile?tab=settings",className:"flex items-center px-4 py-2.5 text-sm transition-colors hover:opacity-80",style:{color:"#0B1E3F"},onClick:()=>i(!1),children:[(0,Ce.jsx)(Zn,{className:"h-4 w-4 mr-3"}),"Settings"]}),e.role!=="TEACHER"&&(0,Ce.jsxs)(we,{to:"/certificates",className:"flex items-center px-4 py-2.5 text-sm transition-colors hover:opacity-80",style:{color:"#0B1E3F"},onClick:()=>i(!1),children:[(0,Ce.jsx)(_a,{className:"h-4 w-4 mr-3"}),"Your Certificates"]}),e.role==="TEACHER"&&(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("div",{className:"border-t my-2",style:{borderColor:"rgba(11, 30, 63, 0.1)"}}),(0,Ce.jsxs)(we,{to:"/lessons/create",className:"flex items-center px-4 py-2.5 text-sm transition-colors hover:opacity-80",style:{color:"#0B1E3F"},onClick:()=>i(!1),children:[(0,Ce.jsx)(Bt,{className:"h-4 w-4 mr-3"}),"Create Lesson"]}),(0,Ce.jsxs)(we,{to:"/lessons/availability",className:"flex items-center px-4 py-2.5 text-sm transition-colors hover:opacity-80",style:{color:"#0B1E3F"},onClick:()=>i(!1),children:[(0,Ce.jsx)(Kt,{className:"h-4 w-4 mr-3"}),"Set Availability"]}),(0,Ce.jsxs)(we,{to:"/assignments/grade",className:"flex items-center px-4 py-2.5 text-sm transition-colors hover:opacity-80",style:{color:"#0B1E3F"},onClick:()=>i(!1),children:[(0,Ce.jsx)(or,{className:"h-4 w-4 mr-3"}),"Grade Assignments"]}),(0,Ce.jsxs)(we,{to:"/gradebook",className:"flex items-center px-4 py-2.5 text-sm transition-colors hover:opacity-80",style:{color:"#0B1E3F"},onClick:()=>i(!1),children:[(0,Ce.jsx)(_r,{className:"h-4 w-4 mr-3"}),"Gradebook"]}),(0,Ce.jsxs)(we,{to:"/content-library",className:"flex items-center px-4 py-2.5 text-sm transition-colors hover:opacity-80",style:{color:"#0B1E3F"},onClick:()=>i(!1),children:[(0,Ce.jsx)(ot,{className:"h-4 w-4 mr-3"}),"Content Library"]}),(0,Ce.jsxs)(we,{to:"/analytics",className:"flex items-center px-4 py-2.5 text-sm transition-colors hover:opacity-80",style:{color:"#0B1E3F"},onClick:()=>i(!1),children:[(0,Ce.jsx)(_r,{className:"h-4 w-4 mr-3"}),"Instructor Dashboard"]}),(0,Ce.jsxs)(we,{to:"/students/progress",className:"flex items-center px-4 py-2.5 text-sm transition-colors hover:opacity-80",style:{color:"#0B1E3F"},onClick:()=>i(!1),children:[(0,Ce.jsx)(it,{className:"h-4 w-4 mr-3"}),"Student Progress"]}),(0,Ce.jsxs)(we,{to:"/students/groups",className:"flex items-center px-4 py-2.5 text-sm transition-colors hover:opacity-80",style:{color:"#0B1E3F"},onClick:()=>i(!1),children:[(0,Ce.jsx)(it,{className:"h-4 w-4 mr-3"}),"Student Groups"]}),(0,Ce.jsxs)(we,{to:"/earnings-report",className:"flex items-center px-4 py-2.5 text-sm transition-colors hover:opacity-80",style:{color:"#0B1E3F"},onClick:()=>i(!1),children:[(0,Ce.jsx)(Ra,{className:"h-4 w-4 mr-3"}),"Earnings Report"]}),(0,Ce.jsxs)(we,{to:"/marketing-guide",className:"flex items-center px-4 py-2.5 text-sm transition-colors hover:opacity-80",style:{color:"#0B1E3F"},onClick:()=>i(!1),children:[(0,Ce.jsx)(_r,{className:"h-4 w-4 mr-3"}),"Marketing Guide"]})]}),(0,Ce.jsx)("div",{className:"border-t my-2",style:{borderColor:"rgba(11, 30, 63, 0.1)"}}),(0,Ce.jsxs)("button",{onClick:()=>{i(!1),N()},className:"flex items-center w-full px-4 py-2.5 text-sm transition-colors hover:opacity-80",style:{color:"#0B1E3F"},children:[(0,Ce.jsx)(Gm,{className:"h-4 w-4 mr-3"}),"Logout"]})]})]}),(0,Ce.jsx)("button",{onClick:()=>n(!o),className:"lg:hidden p-2.5 rounded-xl transition-all duration-200",style:{color:"#0B1E3F"},children:o?(0,Ce.jsx)(et,{className:"h-5 w-5"}):(0,Ce.jsx)(Qm,{className:"h-5 w-5"})})]})]})]}),o&&(0,Ce.jsx)("div",{className:"lg:hidden border-t py-4 mt-2",style:{borderColor:"rgba(11, 30, 63, 0.1)"},children:(0,Ce.jsxs)("div",{className:"space-y-1",children:[(0,Ce.jsx)(we,{to:"/home",className:"block px-4 py-2.5 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:k("/home")||k("/dashboard")?"rgba(0, 181, 173, 0.1)":"transparent",color:"#0B1E3F"},onClick:()=>n(!1),children:"Home"}),e?.role==="TEACHER"?(0,Ce.jsx)(we,{to:"/courses",className:"block px-4 py-2.5 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:k("/courses")?"rgba(0, 181, 173, 0.1)":"transparent",color:"#0B1E3F"},onClick:()=>n(!1),children:"My Courses"}):(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(we,{to:"/learn",className:"block px-4 py-2.5 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:k("/learn")?"rgba(0, 181, 173, 0.1)":"transparent",color:"#0B1E3F"},onClick:()=>n(!1),children:"Learn"}),(0,Ce.jsx)(we,{to:"/discover",className:"block px-4 py-2.5 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:k("/discover")?"rgba(0, 181, 173, 0.1)":"transparent",color:"#0B1E3F"},onClick:()=>n(!1),children:"Discover"})]}),(0,Ce.jsx)(we,{to:"/calendar",className:"block px-4 py-2.5 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:k("/schedule")||k("/calendar")?"rgba(0, 181, 173, 0.1)":"transparent",color:"#0B1E3F"},onClick:()=>n(!1),children:"Schedule"}),(0,Ce.jsx)(we,{to:"/messages",className:"block px-4 py-2.5 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:k("/messages")?"rgba(0, 181, 173, 0.1)":"transparent",color:"#0B1E3F"},onClick:()=>n(!1),children:"Messages"}),e?.role==="TEACHER"&&(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("div",{className:"border-t my-2",style:{borderColor:"rgba(11, 30, 63, 0.1)"}}),(0,Ce.jsx)(we,{to:"/lessons/create",className:"block px-4 py-2.5 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:k("/lessons/create")?"rgba(0, 181, 173, 0.1)":"transparent",color:"#0B1E3F"},onClick:()=>n(!1),children:"Create Lesson"}),(0,Ce.jsx)(we,{to:"/lessons/availability",className:"block px-4 py-2.5 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:k("/lessons/availability")?"rgba(0, 181, 173, 0.1)":"transparent",color:"#0B1E3F"},onClick:()=>n(!1),children:"Set Availability"}),(0,Ce.jsx)(we,{to:"/assignments/grade",className:"block px-4 py-2.5 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:k("/assignments/grade")?"rgba(0, 181, 173, 0.1)":"transparent",color:"#0B1E3F"},onClick:()=>n(!1),children:"Grade Assignments"}),(0,Ce.jsx)(we,{to:"/analytics",className:"block px-4 py-2.5 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:k("/analytics")?"rgba(0, 181, 173, 0.1)":"transparent",color:"#0B1E3F"},onClick:()=>n(!1),children:"Instructor Dashboard"}),(0,Ce.jsx)(we,{to:"/students/progress",className:"block px-4 py-2.5 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:k("/students/progress")?"rgba(0, 181, 173, 0.1)":"transparent",color:"#0B1E3F"},onClick:()=>n(!1),children:"Student Progress"}),(0,Ce.jsx)(we,{to:"/earnings-report",className:"block px-4 py-2.5 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:k("/earnings-report")?"rgba(0, 181, 173, 0.1)":"transparent",color:"#0B1E3F"},onClick:()=>n(!1),children:"Earnings Report"}),(0,Ce.jsx)(we,{to:"/marketing-guide",className:"block px-4 py-2.5 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:k("/marketing-guide")?"rgba(0, 181, 173, 0.1)":"transparent",color:"#0B1E3F"},onClick:()=>n(!1),children:"Marketing Guide"})]}),(e?.role==="TEACHER"||e?.role==="ADMIN")&&(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(we,{to:"/analytics",className:"block px-4 py-2.5 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:k("/analytics")?"rgba(0, 181, 173, 0.1)":"transparent",color:"#0B1E3F"},onClick:()=>n(!1),children:"Analytics"}),(0,Ce.jsx)(we,{to:"/students/progress",className:"block px-4 py-2.5 rounded-xl text-sm font-medium transition-colors",style:{backgroundColor:k("/students/progress")?"rgba(0, 181, 173, 0.1)":"transparent",color:"#0B1E3F"},onClick:()=>n(!1),children:"Student Progress"})]})]})})]})}),c&&d&&(0,Ce.jsx)(s5,{conferenceId:`call-${d.userId}`,onLeave:S})]}):null},cL=()=>{let{user:e}=Ge(),t=ht(),r=lr(),[a,o]=(0,Aa.useState)(!1),[n,s]=(0,Aa.useState)("");if(!e)return null;let i=c=>{c.preventDefault(),n.trim()&&(t(`/discover?search=${encodeURIComponent(n)}`),o(!1))};return(0,Ce.jsx)("header",{className:"sticky top-0 z-50 w-full backdrop-blur-2xl border-b lg:hidden",style:{backgroundColor:"rgba(255, 255, 255, 0.98)",borderColor:"rgba(11, 30, 63, 0.2)",boxShadow:"0 16px 48px rgba(11, 30, 63, 0.2), 0 6px 20px rgba(11, 30, 63, 0.15), 0 2px 8px rgba(11, 30, 63, 0.1), 0 0 0 1px rgba(11, 30, 63, 0.08)"},children:(0,Ce.jsxs)("div",{className:"px-4 py-3",children:[(0,Ce.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ce.jsx)(we,{to:"/home",className:"group",children:(0,Ce.jsx)("span",{className:"text-xl font-bold transition-all duration-300 group-hover:opacity-80",style:{background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 50%, #9A8CFF 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",fontFamily:"Inter, system-ui, -apple-system, sans-serif",letterSpacing:"-0.02em"},children:"SkillStream"})}),(0,Ce.jsx)("button",{onClick:()=>o(!a),className:"p-2 rounded-xl transition-all duration-200 active:scale-95",style:{backgroundColor:"rgba(0, 181, 173, 0.1)"},children:(0,Ce.jsx)(Pt,{className:"h-5 w-5",style:{color:"#00B5AD"}})})]}),a&&(0,Ce.jsx)("div",{className:"mt-3",children:(0,Ce.jsx)(b1,{onClose:()=>o(!1),placeholder:"Search courses, instructors, topics..."})})]})})};var Qt=H(se()),dL=({className:e})=>(0,Qt.jsx)("footer",{className:mi("border-t mt-auto",e),style:{borderColor:"rgba(11, 30, 63, 0.1)",backgroundColor:"white"},children:(0,Qt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Qt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Qt.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,Qt.jsx)("h3",{className:"text-2xl font-bold mb-3",style:{background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 50%, #9A8CFF 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"SkillStream"}),(0,Qt.jsx)("p",{className:"text-sm mb-4",style:{color:"#6F73D2"},children:"Empowering educators. Elevating learning."}),(0,Qt.jsxs)("div",{className:"flex space-x-4",children:[(0,Qt.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(0, 181, 173, 0.1)"},children:(0,Qt.jsx)(ot,{className:"h-5 w-5",style:{color:"#00B5AD"}})}),(0,Qt.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(111, 115, 210, 0.1)"},children:(0,Qt.jsx)(or,{className:"h-5 w-5",style:{color:"#6F73D2"}})}),(0,Qt.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(154, 140, 255, 0.1)"},children:(0,Qt.jsx)(gn,{className:"h-5 w-5",style:{color:"#9A8CFF"}})})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-4",style:{color:"#0B1E3F"},children:"Platform"}),(0,Qt.jsxs)("ul",{className:"space-y-2",children:[(0,Qt.jsx)("li",{children:(0,Qt.jsx)(we,{to:"/courses",className:"text-sm transition-colors hover:opacity-80",style:{color:"#6F73D2"},children:"Courses"})}),(0,Qt.jsx)("li",{children:(0,Qt.jsx)(we,{to:"/lessons",className:"text-sm transition-colors hover:opacity-80",style:{color:"#6F73D2"},children:"Lessons"})}),(0,Qt.jsx)("li",{children:(0,Qt.jsx)(we,{to:"/calendar",className:"text-sm transition-colors hover:opacity-80",style:{color:"#6F73D2"},children:"Calendar"})}),(0,Qt.jsx)("li",{children:(0,Qt.jsx)(we,{to:"/messages",className:"text-sm transition-colors hover:opacity-80",style:{color:"#6F73D2"},children:"Messages"})})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-4",style:{color:"#0B1E3F"},children:"Support"}),(0,Qt.jsxs)("ul",{className:"space-y-2",children:[(0,Qt.jsx)("li",{children:(0,Qt.jsx)(we,{to:"/help",className:"text-sm transition-colors hover:opacity-80",style:{color:"#6F73D2"},children:"Help Center"})}),(0,Qt.jsx)("li",{children:(0,Qt.jsx)(we,{to:"/privacy",className:"text-sm transition-colors hover:opacity-80",style:{color:"#6F73D2"},children:"Privacy Policy"})}),(0,Qt.jsx)("li",{children:(0,Qt.jsx)(we,{to:"/terms",className:"text-sm transition-colors hover:opacity-80",style:{color:"#6F73D2"},children:"Terms of Service"})}),(0,Qt.jsx)("li",{children:(0,Qt.jsx)(we,{to:"/contact",className:"text-sm transition-colors hover:opacity-80",style:{color:"#6F73D2"},children:"Contact Us"})})]})]})]}),(0,Qt.jsx)("div",{className:"mt-8 pt-8 border-t text-center text-sm",style:{borderColor:"rgba(11, 30, 63, 0.1)",color:"#6F73D2"},children:(0,Qt.jsxs)("p",{children:["\xA9 ",new Date().getFullYear()," SkillStream. All rights reserved."]})})]})});var xi=H(he());Rt();var dr=H(se()),uL=()=>{let{user:e}=Ge(),t=lr(),r=ht(),[a,o]=(0,xi.useState)(!1),[n,s]=(0,xi.useState)(0),[i,c]=(0,xi.useState)(0),[l,d]=(0,xi.useState)(0),[u,g]=(0,xi.useState)(!0);(0,xi.useEffect)(()=>{if(!e)return;let m=async()=>{try{let p=await Pd();s(p||0);let x=(await pn({limit:100})).data.reduce((b,w)=>b+(w.unreadCount||0),0);c(x)}catch(p){console.error("Error fetching unread counts:",p)}};m();let y=setInterval(m,3e4);return()=>clearInterval(y)},[e]),(0,xi.useEffect)(()=>{let m=()=>{let y=window.scrollY;y<10?g(!0):y>l&&y>100?(g(!1),o(!1)):y<l&&g(!0),d(y)};return window.addEventListener("scroll",m,{passive:!0}),()=>window.removeEventListener("scroll",m)},[l]);let h=m=>t.pathname===m,v=[{path:"/home",icon:ci,label:"Home"},{path:"/learn",icon:ot,label:"Learn"},{path:"/discover",icon:tc,label:"Discover"},{path:"/schedule",icon:Kt,label:"Schedule"},{path:"/messages",icon:Br,label:"Messages",badge:i}];return e?(0,dr.jsxs)(dr.Fragment,{children:[a&&(0,dr.jsx)("div",{className:"fixed inset-0 z-40 lg:hidden",style:{backgroundColor:"rgba(11, 30, 63, 0.5)",backdropFilter:"blur(4px)"},onClick:()=>o(!1),children:(0,dr.jsx)("div",{className:"absolute bottom-20 left-0 right-0 mx-4 mb-4 rounded-[24px] p-6 backdrop-blur-xl border",style:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 60px rgba(11, 30, 63, 0.3)"},onClick:m=>m.stopPropagation(),children:(0,dr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[v.map(m=>{let y=m.icon,p=h(m.path);return(0,dr.jsxs)(we,{to:m.path,onClick:()=>o(!1),className:`flex flex-col items-center justify-center p-4 rounded-2xl transition-all duration-200 ${p?"scale-105":""}`,style:{backgroundColor:p?"rgba(0, 181, 173, 0.1)":"transparent"},children:[(0,dr.jsxs)("div",{className:"relative",children:[(0,dr.jsx)(y,{className:"h-6 w-6 mb-2",style:{color:p?"#00B5AD":"#6F73D2"}}),m.badge&&m.badge>0&&(0,dr.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full text-xs text-white flex items-center justify-center font-semibold min-w-[20px] px-1",style:{backgroundColor:"#00B5AD"},children:m.badge>99?"99+":m.badge})]}),(0,dr.jsx)("span",{className:"text-xs font-semibold",style:{color:p?"#00B5AD":"#0B1E3F"},children:m.label})]},m.path)}),(0,dr.jsxs)(we,{to:"/profile",onClick:()=>o(!1),className:"flex flex-col items-center justify-center p-4 rounded-2xl transition-all duration-200",style:{backgroundColor:"rgba(0, 181, 173, 0.1)"},children:[(0,dr.jsx)(Kr,{className:"h-6 w-6 mb-2",style:{color:"#00B5AD"}}),(0,dr.jsx)("span",{className:"text-xs font-semibold",style:{color:"#0B1E3F"},children:"Profile"})]}),(0,dr.jsxs)(we,{to:"/notifications",onClick:()=>o(!1),className:"flex flex-col items-center justify-center p-4 rounded-2xl transition-all duration-200 relative",style:{backgroundColor:"rgba(111, 115, 210, 0.1)"},children:[(0,dr.jsx)(Ba,{className:"h-6 w-6 mb-2",style:{color:"#6F73D2"}}),n>0&&(0,dr.jsx)("span",{className:"absolute top-2 right-2 h-5 w-5 rounded-full text-xs text-white flex items-center justify-center font-semibold min-w-[20px] px-1",style:{backgroundColor:"#00B5AD"},children:n>99?"99+":n}),(0,dr.jsx)("span",{className:"text-xs font-semibold",style:{color:"#0B1E3F"},children:"Notifications"})]}),e?.role==="TEACHER"&&(0,dr.jsxs)(we,{to:"/instructor",onClick:()=>o(!1),className:"flex flex-col items-center justify-center p-4 rounded-2xl transition-all duration-200",style:{backgroundColor:"rgba(154, 140, 255, 0.1)"},children:[(0,dr.jsx)(or,{className:"h-6 w-6 mb-2",style:{color:"#9A8CFF"}}),(0,dr.jsx)("span",{className:"text-xs font-semibold",style:{color:"#0B1E3F"},children:"Instructor"})]})]})})}),(0,dr.jsx)("nav",{className:`fixed bottom-0 left-0 right-0 z-50 lg:hidden transition-transform duration-300 ${u?"translate-y-0":"translate-y-full"}`,style:{backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",borderTop:"1px solid rgba(11, 30, 63, 0.1)",boxShadow:"0 -4px 20px rgba(11, 30, 63, 0.1)"},children:(0,dr.jsxs)("div",{className:"flex items-center justify-around px-2 py-2 safe-area-bottom",children:[v.map(m=>{let y=m.icon,p=h(m.path);return(0,dr.jsxs)(we,{to:m.path,className:"flex flex-col items-center justify-center flex-1 py-2 rounded-xl transition-all duration-200 active:scale-95",style:{backgroundColor:p?"rgba(0, 181, 173, 0.1)":"transparent"},children:[(0,dr.jsxs)("div",{className:"relative",children:[(0,dr.jsx)(y,{className:"h-6 w-6 mb-1",style:{color:p?"#00B5AD":"#6F73D2"}}),m.badge&&m.badge>0&&(0,dr.jsx)("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full text-[10px] text-white flex items-center justify-center font-semibold",style:{backgroundColor:"#00B5AD"},children:m.badge>9?"9+":m.badge})]}),(0,dr.jsx)("span",{className:"text-[10px] font-semibold",style:{color:p?"#00B5AD":"#0B1E3F"},children:m.label})]},m.path)}),(0,dr.jsxs)("button",{onClick:()=>o(!a),className:"flex flex-col items-center justify-center flex-1 py-2 rounded-xl transition-all duration-200 active:scale-95",style:{backgroundColor:a?"rgba(0, 181, 173, 0.1)":"transparent"},children:[(0,dr.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mb-1 transition-transform duration-300",style:{background:a?"linear-gradient(135deg, #00B5AD 0%, #6F73D2 100%)":"rgba(0, 181, 173, 0.1)",transform:a?"rotate(180deg)":"rotate(0deg)"},children:(0,dr.jsx)(si,{className:"h-5 w-5 text-white"})}),(0,dr.jsx)("span",{className:"text-[10px] font-semibold",style:{color:a?"#00B5AD":"#0B1E3F"},children:"More"})]})]})})]}):null};var xl=H(se()),Wt=({children:e,className:t})=>(0,xl.jsxs)("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"#F4F7FA"},children:[(0,xl.jsx)(lL,{}),(0,xl.jsx)(cL,{}),(0,xl.jsx)("main",{className:mi("flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8 w-full pb-20 lg:pb-8",t),children:e}),(0,xl.jsx)(dL,{className:"hidden lg:block"}),(0,xl.jsx)(uL,{})]});var bc=H(he());var Fp=H(se()),Q0=()=>{let{theme:e,toggleTheme:t,getEffectiveTheme:r}=Td(),a=r(),o=()=>e==="system"?(0,Fp.jsx)(Jm,{className:"h-5 w-5",style:{color:a==="dark"?"white":"#0B1E3F"}}):e==="light"?(0,Fp.jsx)(Zm,{className:"h-5 w-5 text-[#0B1E3F]"}):(0,Fp.jsx)(mp,{className:"h-5 w-5 text-white"});return(0,Fp.jsx)("button",{onClick:t,className:"fixed top-6 right-6 z-50 p-3 rounded-full bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border border-gray-200/50 dark:border-gray-700/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110","aria-label":"Toggle theme",title:e==="system"?`System (${a==="dark"?"Dark":"Light"})`:e==="light"?"Light Mode":"Dark Mode",children:o()})};var Fe=H(se()),Y0=()=>{let[e,t]=(0,bc.useState)(""),[r,a]=(0,bc.useState)(""),[o,n]=(0,bc.useState)(!1),[s,i]=(0,bc.useState)({}),[c,l]=(0,bc.useState)(null),[d,u]=(0,bc.useState)(!1),{login:g,loginWithOAuth:h,isLoading:v,error:m,clearError:y}=Ge(),p=ht(),f=()=>{let b={};return e?/\S+@\S+\.\S+/.test(e)||(b.email="Email is invalid"):b.email="Email is required",r?r.length<6&&(b.password="Password must be at least 6 characters"):b.password="Password is required",i(b),Object.keys(b).length>0&&(u(!0),setTimeout(()=>u(!1),500)),Object.keys(b).length===0};return(0,Fe.jsxs)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",style:{backgroundColor:"#F4F7FA"},children:[(0,Fe.jsx)(Q0,{}),(0,Fe.jsxs)("div",{className:"absolute inset-0 opacity-[0.015] dark:opacity-[0.025]",children:[(0,Fe.jsx)("div",{className:"absolute top-[10%] left-[8%]",children:(0,Fe.jsx)(ot,{className:"h-4 w-4",style:{color:"#00B5AD"}})}),(0,Fe.jsx)("div",{className:"absolute top-[15%] left-[25%]",children:(0,Fe.jsx)(oc,{className:"h-3 w-3",style:{color:"#6F73D2"}})}),(0,Fe.jsx)("div",{className:"absolute top-[20%] left-[45%]",children:(0,Fe.jsx)(rc,{className:"h-4 w-4",style:{color:"#9A8CFF"}})}),(0,Fe.jsx)("div",{className:"absolute top-[12%] left-[65%]",children:(0,Fe.jsx)(Bt,{className:"h-3 w-3",style:{color:"#00B5AD"}})}),(0,Fe.jsx)("div",{className:"absolute top-[18%] left-[85%]",children:(0,Fe.jsx)(or,{className:"h-4 w-4",style:{color:"#6F73D2"}})}),(0,Fe.jsx)("div",{className:"absolute top-[30%] right-[12%]",children:(0,Fe.jsx)(ot,{className:"h-3 w-3",style:{color:"#9A8CFF"}})}),(0,Fe.jsx)("div",{className:"absolute top-[35%] right-[30%]",children:(0,Fe.jsx)(oc,{className:"h-4 w-4",style:{color:"#00B5AD"}})}),(0,Fe.jsx)("div",{className:"absolute top-[40%] right-[50%]",children:(0,Fe.jsx)(rc,{className:"h-3 w-3",style:{color:"#6F73D2"}})}),(0,Fe.jsx)("div",{className:"absolute top-[50%] left-[15%]",children:(0,Fe.jsx)(Bt,{className:"h-4 w-4",style:{color:"#9A8CFF"}})}),(0,Fe.jsx)("div",{className:"absolute top-[55%] left-[35%]",children:(0,Fe.jsx)(or,{className:"h-3 w-3",style:{color:"#00B5AD"}})}),(0,Fe.jsx)("div",{className:"absolute top-[60%] left-[55%]",children:(0,Fe.jsx)(ot,{className:"h-4 w-4",style:{color:"#6F73D2"}})}),(0,Fe.jsx)("div",{className:"absolute top-[70%] right-[20%]",children:(0,Fe.jsx)(oc,{className:"h-3 w-3",style:{color:"#9A8CFF"}})}),(0,Fe.jsx)("div",{className:"absolute top-[75%] right-[40%]",children:(0,Fe.jsx)(rc,{className:"h-4 w-4",style:{color:"#00B5AD"}})}),(0,Fe.jsx)("div",{className:"absolute top-[80%] right-[60%]",children:(0,Fe.jsx)(Bt,{className:"h-3 w-3",style:{color:"#6F73D2"}})}),(0,Fe.jsx)("div",{className:"absolute top-[85%] left-[25%]",children:(0,Fe.jsx)(or,{className:"h-4 w-4",style:{color:"#9A8CFF"}})})]}),(0,Fe.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,Fe.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full opacity-20 blur-3xl",style:{background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 100%)"}}),(0,Fe.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full opacity-20 blur-3xl",style:{background:"linear-gradient(135deg, #9A8CFF 0%, #6F73D2 100%)"}})]}),(0,Fe.jsxs)("div",{className:"max-w-md w-full relative z-10",children:[(0,Fe.jsxs)("div",{className:"text-center mb-10",children:[(0,Fe.jsx)("h1",{className:"text-7xl font-bold mb-4 tracking-tight",style:{fontFamily:"Inter, system-ui, -apple-system, sans-serif",fontWeight:700,background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 50%, #9A8CFF 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"SkillStream"}),(0,Fe.jsx)("p",{className:"text-lg font-medium tracking-wide",style:{color:"#0B1E3F"},children:"Empowering educators. Elevating learning."})]}),(0,Fe.jsxs)("div",{className:`bg-white/90 dark:bg-[#0B1E3F]/90 backdrop-blur-xl border border-white/20 dark:border-gray-700/30 shadow-2xl rounded-[20px] p-10 transition-all duration-300 ${d?"animate-shake":""}`,style:{boxShadow:"0 20px 60px rgba(11, 30, 63, 0.1)"},children:[(0,Fe.jsxs)("div",{className:"mb-8",children:[(0,Fe.jsx)("h2",{className:"text-3xl font-bold mb-2",style:{color:"#0B1E3F"},children:"Welcome to SkillStream"}),(0,Fe.jsx)("p",{className:"text-base",style:{color:"#6F73D2"},children:"Share your knowledge. Inspire minds."})]}),m&&(0,Fe.jsx)("div",{className:"mb-6 p-4 rounded-xl border",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderColor:"rgba(239, 68, 68, 0.3)",color:"#dc2626"},children:(0,Fe.jsx)("p",{className:"text-sm",children:m})}),(0,Fe.jsxs)("form",{onSubmit:async b=>{if(b.preventDefault(),y(),!!f())try{await g(e,r),p("/dashboard")}catch{u(!0),setTimeout(()=>u(!1),500)}},className:"space-y-6",children:[(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10",children:(0,Fe.jsx)($o,{className:`h-5 w-5 transition-colors duration-200 ${c==="email"||e?"text-[#00B5AD]":"text-gray-400"}`})}),(0,Fe.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:b=>t(b.target.value),onFocus:()=>l("email"),onBlur:()=>l(null),className:`block w-full pl-12 pr-4 py-5 border-2 rounded-xl transition-all duration-200 ${s.email?"border-red-300 focus:border-red-400 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-[#00B5AD] focus:ring-4 focus:ring-[#00B5AD]/20"} bg-white dark:bg-gray-800 text-[#0B1E3F] dark:text-white placeholder-transparent focus:outline-none`,style:{fontSize:"16px"}}),(0,Fe.jsx)("label",{htmlFor:"email",className:`absolute transition-all duration-200 pointer-events-none ${e||c==="email"?"left-4 top-2 text-xs font-semibold":"left-12 top-5 text-base"}`,style:{color:e||c==="email"?"#00B5AD":"#9CA3AF",transform:"translateY(0)"},children:"Email address"})]}),s.email&&(0,Fe.jsx)("p",{className:"mt-2 text-sm",style:{color:"#dc2626"},children:s.email})]}),(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10",children:(0,Fe.jsx)(ja,{className:`h-5 w-5 transition-colors duration-200 ${c==="password"||r?"text-[#00B5AD]":"text-gray-400"}`})}),(0,Fe.jsx)("input",{id:"password",name:"password",type:o?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:b=>a(b.target.value),onFocus:()=>l("password"),onBlur:()=>l(null),className:`block w-full pl-12 pr-12 py-5 border-2 rounded-xl transition-all duration-200 ${s.password?"border-red-300 focus:border-red-400 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-[#00B5AD] focus:ring-4 focus:ring-[#00B5AD]/20"} bg-white dark:bg-gray-800 text-[#0B1E3F] dark:text-white placeholder-transparent focus:outline-none`,style:{fontSize:"16px"}}),(0,Fe.jsx)("label",{htmlFor:"password",className:`absolute transition-all duration-200 pointer-events-none ${r||c==="password"?"left-4 top-2 text-xs font-semibold":"left-12 top-5 text-base"}`,style:{color:r||c==="password"?"#00B5AD":"#9CA3AF"},children:"Password"}),(0,Fe.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center z-10 hover:opacity-70 transition-opacity",onClick:()=>n(!o),children:o?(0,Fe.jsx)(nl,{className:"h-5 w-5 text-gray-400"}):(0,Fe.jsx)(Nr,{className:"h-5 w-5 text-gray-400"})})]}),s.password&&(0,Fe.jsx)("p",{className:"mt-2 text-sm",style:{color:"#dc2626"},children:s.password})]}),(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 rounded border-gray-300 focus:ring-2 focus:ring-[#00B5AD]",style:{accentColor:"#00B5AD"}}),(0,Fe.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm",style:{color:"#0B1E3F"},children:"Remember me"})]}),(0,Fe.jsx)("div",{className:"text-sm",children:(0,Fe.jsx)(we,{to:"/forgot-password",className:"font-medium transition-colors hover:opacity-80",style:{color:"#6F73D2"},children:"Forgot password?"})})]}),(0,Fe.jsx)("div",{children:(0,Fe.jsx)("button",{type:"submit",disabled:v,className:"w-full flex justify-center items-center px-6 py-5 text-white rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{backgroundColor:"#00B5AD",boxShadow:v?"none":"0 4px 14px rgba(0, 181, 173, 0.3)"},onMouseEnter:b=>{v||(b.currentTarget.style.backgroundColor="#00968d")},onMouseLeave:b=>{v||(b.currentTarget.style.backgroundColor="#00B5AD")},children:v?(0,Fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),(0,Fe.jsx)("span",{children:"Signing in..."})]}):(0,Fe.jsxs)(Fe.Fragment,{children:["Sign in",(0,Fe.jsx)(cr,{className:"ml-2 h-5 w-5"})]})})})]}),(0,Fe.jsxs)("div",{className:"mt-6",children:[(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Fe.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,Fe.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Fe.jsx)("span",{className:"px-4 bg-white dark:bg-[#0B1E3F]",style:{color:"#6F73D2"},children:"Or continue with"})})]}),(0,Fe.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[(0,Fe.jsxs)("button",{type:"button",onClick:()=>h("google"),disabled:v,className:"flex items-center justify-center px-4 py-3 border-2 rounded-xl font-medium transition-all duration-200 hover:shadow-md hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"#E5E7EB",color:"#0B1E3F",backgroundColor:"white"},children:[(0,Fe.jsxs)("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[(0,Fe.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Fe.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Fe.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Fe.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),(0,Fe.jsxs)("button",{type:"button",onClick:()=>h("linkedin"),disabled:v,className:"flex items-center justify-center px-4 py-3 border-2 rounded-xl font-medium transition-all duration-200 hover:shadow-md hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"#E5E7EB",color:"#0B1E3F",backgroundColor:"white"},children:[(0,Fe.jsx)("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",fill:"#0077B5",children:(0,Fe.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"LinkedIn"]})]})]}),(0,Fe.jsx)("div",{className:"mt-8 text-center",children:(0,Fe.jsxs)("p",{className:"text-sm",style:{color:"#6F73D2"},children:["Don't have an account?"," ",(0,Fe.jsx)(we,{to:"/register",className:"font-semibold transition-colors hover:opacity-80",style:{color:"#00B5AD"},children:"Sign up"})]})})]}),(0,Fe.jsx)("div",{className:"mt-8 text-center text-xs",style:{color:"#6F73D2"},children:(0,Fe.jsxs)("div",{className:"flex justify-center gap-6",children:[(0,Fe.jsx)(we,{to:"/privacy",className:"hover:opacity-80 transition-opacity",children:"Privacy Policy"}),(0,Fe.jsx)(we,{to:"/terms",className:"hover:opacity-80 transition-opacity",children:"Terms of Service"})]})})]})]})};var Os=H(he());var Yo=H(se()),fL=({password:e})=>{let r=(n=>{if(!n)return{score:0,label:"",color:"",bgColor:""};let s=0,i={length:n.length>=8,lowercase:/[a-z]/.test(n),uppercase:/[A-Z]/.test(n),number:/[0-9]/.test(n),special:/[^a-zA-Z0-9]/.test(n)};return i.length&&s++,i.lowercase&&s++,i.uppercase&&s++,i.number&&s++,i.special&&s++,s<=2?{score:s,label:"Weak",color:"#dc2626",bgColor:"#dc2626"}:s<=3?{score:s,label:"Fair",color:"#f59e0b",bgColor:"#f59e0b"}:s<=4?{score:s,label:"Good",color:"#6F73D2",bgColor:"#6F73D2"}:{score:s,label:"Strong",color:"#00B5AD",bgColor:"#00B5AD"}})(e),a=r.score/5*100,o=[{label:"At least 8 characters",met:e.length>=8},{label:"Contains lowercase letter",met:/[a-z]/.test(e)},{label:"Contains uppercase letter",met:/[A-Z]/.test(e)},{label:"Contains number",met:/[0-9]/.test(e)},{label:"Contains special character",met:/[^a-zA-Z0-9]/.test(e)}];return e?(0,Yo.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,Yo.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Yo.jsx)("span",{className:"text-xs font-medium",style:{color:"#6F73D2"},children:"Password strength:"}),r.label&&(0,Yo.jsx)("span",{className:"text-xs font-semibold",style:{color:r.color},children:r.label})]}),(0,Yo.jsx)("div",{className:"w-full rounded-full h-2 overflow-hidden",style:{backgroundColor:"#E5E7EB"},children:(0,Yo.jsx)("div",{className:"h-full transition-all duration-300 rounded-full",style:{width:`${a}%`,backgroundColor:r.bgColor}})}),(0,Yo.jsx)("div",{className:"space-y-1.5 mt-3",children:o.map((n,s)=>(0,Yo.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[n.met?(0,Yo.jsx)(fr,{className:"h-3.5 w-3.5",style:{color:"#00B5AD"}}):(0,Yo.jsx)(et,{className:"h-3.5 w-3.5",style:{color:"#9CA3AF"}}),(0,Yo.jsx)("span",{style:{color:n.met?"#00B5AD":"#6B7280"},children:n.label})]},s))})]}):null};var fe=H(se()),$1=()=>{let[e,t]=(0,Os.useState)(1),[r,a]=(0,Os.useState)({name:"",email:"",password:"",confirmPassword:"",role:"",organization:"",expertise:"",yearsExperience:"",bio:""}),[o,n]=(0,Os.useState)(!1),[s,i]=(0,Os.useState)(!1),[c,l]=(0,Os.useState)({}),[d,u]=(0,Os.useState)(null),[g,h]=(0,Os.useState)(!1),{register:v,isLoading:m,error:y,clearError:p}=Ge(),f=ht(),x=E=>{let{name:L,value:P}=E.target;a(j=>({...j,[L]:P})),c[L]&&l(j=>({...j,[L]:""}))},b=()=>{let E={};return r.name.trim()?r.name.trim().length<2&&(E.name="Name must be at least 2 characters"):E.name="Name is required",r.email?/\S+@\S+\.\S+/.test(r.email)||(E.email="Email is invalid"):E.email="Email is required",r.password?r.password.length<8&&(E.password="Password must be at least 8 characters"):E.password="Password is required",r.confirmPassword?r.password!==r.confirmPassword&&(E.confirmPassword="Passwords do not match"):E.confirmPassword="Please confirm your password",l(E),Object.keys(E).length>0&&(h(!0),setTimeout(()=>h(!1),500)),Object.keys(E).length===0},w=()=>!r.role||r.role===""?(l({role:"Please select a role"}),h(!0),setTimeout(()=>h(!1),500),!1):(l({}),!0),N=()=>{let E={};return r.role==="TEACHER"&&(r.expertise.trim()||(E.expertise="Area of expertise is required"),r.yearsExperience||(E.yearsExperience="Years of experience is required")),l(E),Object.keys(E).length>0&&(h(!0),setTimeout(()=>h(!1),500)),Object.keys(E).length===0},I=E=>{E&&(E.preventDefault(),E.stopPropagation()),e===1?b()&&(t(2),l({})):e===2&&w()&&(r.role==="STUDENT"?S():(t(3),l({})))},C=()=>{e>1&&(t(e-1),l({}))},S=async()=>{if(!(e===3&&!N())){p();try{await v(r.name,r.email,r.password,r.role),f("/dashboard")}catch{h(!0),setTimeout(()=>h(!1),500)}}},k=[{id:"TEACHER",label:"Teacher",icon:or,description:"Share your knowledge and teach students"},{id:"STUDENT",label:"Student",icon:ot,description:"Learn from top educators and experts"}];return(0,fe.jsxs)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",style:{backgroundColor:"#F4F7FA"},children:[(0,fe.jsx)(Q0,{}),(0,fe.jsxs)("div",{className:"absolute inset-0 opacity-[0.015] dark:opacity-[0.025]",children:[(0,fe.jsx)("div",{className:"absolute top-[10%] left-[8%]",children:(0,fe.jsx)(ot,{className:"h-4 w-4",style:{color:"#00B5AD"}})}),(0,fe.jsx)("div",{className:"absolute top-[15%] left-[25%]",children:(0,fe.jsx)(or,{className:"h-3 w-3",style:{color:"#6F73D2"}})}),(0,fe.jsx)("div",{className:"absolute top-[20%] left-[45%]",children:(0,fe.jsx)(gn,{className:"h-4 w-4",style:{color:"#9A8CFF"}})}),(0,fe.jsx)("div",{className:"absolute top-[12%] left-[65%]",children:(0,fe.jsx)(Xl,{className:"h-3 w-3",style:{color:"#00B5AD"}})}),(0,fe.jsx)("div",{className:"absolute top-[18%] left-[85%]",children:(0,fe.jsx)(ot,{className:"h-4 w-4",style:{color:"#6F73D2"}})}),(0,fe.jsx)("div",{className:"absolute top-[30%] right-[12%]",children:(0,fe.jsx)(or,{className:"h-3 w-3",style:{color:"#9A8CFF"}})}),(0,fe.jsx)("div",{className:"absolute top-[35%] right-[30%]",children:(0,fe.jsx)(gn,{className:"h-4 w-4",style:{color:"#00B5AD"}})}),(0,fe.jsx)("div",{className:"absolute top-[40%] right-[50%]",children:(0,fe.jsx)(Xl,{className:"h-3 w-3",style:{color:"#6F73D2"}})}),(0,fe.jsx)("div",{className:"absolute top-[50%] left-[15%]",children:(0,fe.jsx)(ot,{className:"h-4 w-4",style:{color:"#9A8CFF"}})}),(0,fe.jsx)("div",{className:"absolute top-[55%] left-[35%]",children:(0,fe.jsx)(or,{className:"h-3 w-3",style:{color:"#00B5AD"}})}),(0,fe.jsx)("div",{className:"absolute top-[60%] left-[55%]",children:(0,fe.jsx)(gn,{className:"h-4 w-4",style:{color:"#6F73D2"}})}),(0,fe.jsx)("div",{className:"absolute top-[70%] right-[20%]",children:(0,fe.jsx)(Xl,{className:"h-3 w-3",style:{color:"#9A8CFF"}})}),(0,fe.jsx)("div",{className:"absolute top-[75%] right-[40%]",children:(0,fe.jsx)(ot,{className:"h-4 w-4",style:{color:"#00B5AD"}})}),(0,fe.jsx)("div",{className:"absolute top-[80%] right-[60%]",children:(0,fe.jsx)(or,{className:"h-3 w-3",style:{color:"#6F73D2"}})}),(0,fe.jsx)("div",{className:"absolute top-[85%] left-[25%]",children:(0,fe.jsx)(gn,{className:"h-4 w-4",style:{color:"#9A8CFF"}})})]}),(0,fe.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,fe.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full opacity-20 blur-3xl",style:{background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 100%)"}}),(0,fe.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full opacity-20 blur-3xl",style:{background:"linear-gradient(135deg, #9A8CFF 0%, #6F73D2 100%)"}})]}),(0,fe.jsxs)("div",{className:"max-w-2xl w-full relative z-10",children:[(0,fe.jsxs)("div",{className:"text-center mb-10",children:[(0,fe.jsx)("h1",{className:"text-7xl font-bold mb-4 tracking-tight",style:{fontFamily:"Inter, system-ui, -apple-system, sans-serif",fontWeight:700,background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 50%, #9A8CFF 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"SkillStream"}),(0,fe.jsx)("p",{className:"text-lg font-medium tracking-wide",style:{color:"#0B1E3F"},children:"Empowering educators. Elevating learning."})]}),(0,fe.jsxs)("div",{className:"mb-8",children:[(0,fe.jsx)("div",{className:"flex items-center justify-center gap-2",children:[1,2,3].map(E=>(0,fe.jsxs)(Os.default.Fragment,{children:[(0,fe.jsx)("div",{className:"flex items-center",children:(0,fe.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all duration-300 ${e>=E?"text-white":"text-gray-400 border-2 border-gray-300"}`,style:{backgroundColor:e>=E?e===E?"#00B5AD":"#6F73D2":"transparent"},children:e>E?(0,fe.jsx)(fr,{className:"h-5 w-5"}):E})}),E<3&&(0,fe.jsx)("div",{className:`w-16 h-1 transition-all duration-300 ${e>E?"bg-[#6F73D2]":"bg-gray-200"}`})]},E))}),(0,fe.jsxs)("div",{className:"flex justify-between mt-2 text-xs font-medium",style:{color:"#6F73D2"},children:[(0,fe.jsx)("span",{className:e>=1?"opacity-100":"opacity-50",children:"Basic Info"}),(0,fe.jsx)("span",{className:e>=2?"opacity-100":"opacity-50",children:"Role"}),(0,fe.jsx)("span",{className:e>=3?"opacity-100":"opacity-50",children:"Details"})]})]}),(0,fe.jsxs)("div",{className:`bg-white/90 dark:bg-[#0B1E3F]/90 backdrop-blur-xl border border-white/20 dark:border-gray-700/30 shadow-2xl rounded-[20px] p-10 transition-all duration-300 ${g?"animate-shake":""}`,style:{boxShadow:"0 20px 60px rgba(11, 30, 63, 0.1)"},children:[y&&(0,fe.jsx)("div",{className:"mb-6 p-4 rounded-xl border",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderColor:"rgba(239, 68, 68, 0.3)",color:"#dc2626"},children:(0,fe.jsx)("p",{className:"text-sm",children:y})}),e===1&&(0,fe.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,fe.jsxs)("div",{className:"mb-6",children:[(0,fe.jsx)("h2",{className:"text-3xl font-bold mb-2",style:{color:"#0B1E3F"},children:"Create your account"}),(0,fe.jsx)("p",{className:"text-base",style:{color:"#6F73D2"},children:"Let's start with your basic information"})]}),(0,fe.jsxs)("div",{className:"space-y-5",children:[(0,fe.jsxs)("div",{className:"relative",children:[(0,fe.jsxs)("div",{className:"relative",children:[(0,fe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10",children:(0,fe.jsx)(Kr,{className:`h-5 w-5 transition-colors duration-200 ${d==="name"||r.name?"text-[#00B5AD]":"text-gray-400"}`})}),(0,fe.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:r.name,onChange:x,onFocus:()=>u("name"),onBlur:()=>u(null),className:`block w-full pl-12 pr-4 py-5 border-2 rounded-xl transition-all duration-200 ${c.name?"border-red-300 focus:border-red-400 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-[#00B5AD] focus:ring-4 focus:ring-[#00B5AD]/20"} bg-white dark:bg-gray-800 text-[#0B1E3F] dark:text-white placeholder-transparent focus:outline-none`,style:{fontSize:"16px"}}),(0,fe.jsx)("label",{htmlFor:"name",className:`absolute transition-all duration-200 pointer-events-none ${r.name||d==="name"?"left-4 top-2 text-xs font-semibold":"left-12 top-5 text-base"}`,style:{color:r.name||d==="name"?"#00B5AD":"#9CA3AF"},children:"Full name"})]}),c.name&&(0,fe.jsx)("p",{className:"mt-2 text-sm",style:{color:"#dc2626"},children:c.name})]}),(0,fe.jsxs)("div",{className:"relative",children:[(0,fe.jsxs)("div",{className:"relative",children:[(0,fe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10",children:(0,fe.jsx)($o,{className:`h-5 w-5 transition-colors duration-200 ${d==="email"||r.email?"text-[#00B5AD]":"text-gray-400"}`})}),(0,fe.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r.email,onChange:x,onFocus:()=>u("email"),onBlur:()=>u(null),className:`block w-full pl-12 pr-4 py-5 border-2 rounded-xl transition-all duration-200 ${c.email?"border-red-300 focus:border-red-400 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-[#00B5AD] focus:ring-4 focus:ring-[#00B5AD]/20"} bg-white dark:bg-gray-800 text-[#0B1E3F] dark:text-white placeholder-transparent focus:outline-none`,style:{fontSize:"16px"}}),(0,fe.jsx)("label",{htmlFor:"email",className:`absolute transition-all duration-200 pointer-events-none ${r.email||d==="email"?"left-4 top-2 text-xs font-semibold":"left-12 top-5 text-base"}`,style:{color:r.email||d==="email"?"#00B5AD":"#9CA3AF"},children:"Email address"})]}),c.email&&(0,fe.jsx)("p",{className:"mt-2 text-sm",style:{color:"#dc2626"},children:c.email})]}),(0,fe.jsxs)("div",{className:"relative",children:[(0,fe.jsxs)("div",{className:"relative",children:[(0,fe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10",children:(0,fe.jsx)(ja,{className:`h-5 w-5 transition-colors duration-200 ${d==="password"||r.password?"text-[#00B5AD]":"text-gray-400"}`})}),(0,fe.jsx)("input",{id:"password",name:"password",type:o?"text":"password",autoComplete:"new-password",required:!0,value:r.password,onChange:x,onFocus:()=>u("password"),onBlur:()=>u(null),className:`block w-full pl-12 pr-12 py-5 border-2 rounded-xl transition-all duration-200 ${c.password?"border-red-300 focus:border-red-400 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-[#00B5AD] focus:ring-4 focus:ring-[#00B5AD]/20"} bg-white dark:bg-gray-800 text-[#0B1E3F] dark:text-white placeholder-transparent focus:outline-none`,style:{fontSize:"16px"}}),(0,fe.jsx)("label",{htmlFor:"password",className:`absolute transition-all duration-200 pointer-events-none ${r.password||d==="password"?"left-4 top-2 text-xs font-semibold":"left-12 top-5 text-base"}`,style:{color:r.password||d==="password"?"#00B5AD":"#9CA3AF"},children:"Password"}),(0,fe.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center z-10 hover:opacity-70 transition-opacity",onClick:()=>n(!o),children:o?(0,fe.jsx)(nl,{className:"h-5 w-5 text-gray-400"}):(0,fe.jsx)(Nr,{className:"h-5 w-5 text-gray-400"})})]}),(0,fe.jsx)(fL,{password:r.password}),c.password&&(0,fe.jsx)("p",{className:"mt-2 text-sm",style:{color:"#dc2626"},children:c.password})]}),(0,fe.jsxs)("div",{className:"relative",children:[(0,fe.jsxs)("div",{className:"relative",children:[(0,fe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10",children:(0,fe.jsx)(ja,{className:`h-5 w-5 transition-colors duration-200 ${d==="confirmPassword"||r.confirmPassword?"text-[#00B5AD]":"text-gray-400"}`})}),(0,fe.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:s?"text":"password",autoComplete:"new-password",required:!0,value:r.confirmPassword,onChange:x,onFocus:()=>u("confirmPassword"),onBlur:()=>u(null),className:`block w-full pl-12 pr-12 py-5 border-2 rounded-xl transition-all duration-200 ${c.confirmPassword?"border-red-300 focus:border-red-400 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-[#00B5AD] focus:ring-4 focus:ring-[#00B5AD]/20"} bg-white dark:bg-gray-800 text-[#0B1E3F] dark:text-white placeholder-transparent focus:outline-none`,style:{fontSize:"16px"}}),(0,fe.jsx)("label",{htmlFor:"confirmPassword",className:`absolute transition-all duration-200 pointer-events-none ${r.confirmPassword||d==="confirmPassword"?"left-4 top-2 text-xs font-semibold":"left-12 top-5 text-base"}`,style:{color:r.confirmPassword||d==="confirmPassword"?"#00B5AD":"#9CA3AF"},children:"Confirm Password"}),(0,fe.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center z-10 hover:opacity-70 transition-opacity",onClick:()=>i(!s),children:s?(0,fe.jsx)(nl,{className:"h-5 w-5 text-gray-400"}):(0,fe.jsx)(Nr,{className:"h-5 w-5 text-gray-400"})})]}),c.confirmPassword&&(0,fe.jsx)("p",{className:"mt-2 text-sm",style:{color:"#dc2626"},children:c.confirmPassword})]})]}),(0,fe.jsx)("div",{className:"flex justify-end mt-8",children:(0,fe.jsxs)("button",{type:"button",onClick:I,className:"flex items-center px-8 py-5 text-white rounded-xl font-semibold transition-all duration-300 hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},onMouseEnter:E=>{E.currentTarget.style.backgroundColor="#00968d"},onMouseLeave:E=>{E.currentTarget.style.backgroundColor="#00B5AD"},children:["Continue",(0,fe.jsx)(cr,{className:"ml-2 h-5 w-5"})]})})]}),e===2&&(0,fe.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,fe.jsxs)("div",{className:"mb-6",children:[(0,fe.jsx)("h2",{className:"text-3xl font-bold mb-2",style:{color:"#0B1E3F"},children:"Choose your role"}),(0,fe.jsx)("p",{className:"text-base",style:{color:"#6F73D2"},children:"Select the role that best describes you"})]}),(0,fe.jsx)("div",{className:"grid grid-cols-2 gap-4",children:k.map(E=>{let L=E.icon,P=r.role===E.id;return(0,fe.jsxs)("button",{type:"button",onClick:j=>{j.preventDefault(),j.stopPropagation(),a(M=>({...M,role:E.id})),l(M=>{let q={...M};return delete q.role,q})},className:`p-6 rounded-xl border-2 transition-all duration-300 text-left hover:shadow-lg hover:-translate-y-1 ${P?"border-[#00B5AD] shadow-lg scale-105":"border-gray-200 hover:border-[#6F73D2]"}`,style:{backgroundColor:P?"rgba(0, 181, 173, 0.05)":"white"},children:[(0,fe.jsx)("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center mb-4 transition-colors ${P?"bg-[#00B5AD]":"bg-gray-100"}`,children:(0,fe.jsx)(L,{className:`h-6 w-6 ${P?"text-white":"text-gray-600"}`})}),(0,fe.jsx)("h3",{className:"font-bold text-lg mb-1",style:{color:"#0B1E3F"},children:E.label}),(0,fe.jsx)("p",{className:"text-sm",style:{color:"#6F73D2"},children:E.description})]},E.id)})}),c.role&&(0,fe.jsx)("p",{className:"text-sm text-center",style:{color:"#dc2626"},children:c.role}),(0,fe.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,fe.jsxs)("button",{type:"button",onClick:E=>{E.preventDefault(),E.stopPropagation(),C()},className:"flex items-center px-6 py-5 border-2 rounded-xl font-semibold transition-all duration-200 hover:shadow-md",style:{borderColor:"#E5E7EB",color:"#0B1E3F",backgroundColor:"white"},children:[(0,fe.jsx)(Ka,{className:"mr-2 h-5 w-5"}),"Back"]}),(0,fe.jsxs)("button",{type:"button",onClick:E=>{E.preventDefault(),E.stopPropagation(),I(E)},disabled:!r.role,className:"flex items-center px-8 py-5 text-white rounded-xl font-semibold transition-all duration-300 hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0",style:{backgroundColor:r.role?"#00B5AD":"#9CA3AF",boxShadow:r.role?"0 4px 14px rgba(0, 181, 173, 0.3)":"none"},onMouseEnter:E=>{r.role&&(E.currentTarget.style.backgroundColor="#00968d")},onMouseLeave:E=>{r.role&&(E.currentTarget.style.backgroundColor="#00B5AD")},children:["Continue",(0,fe.jsx)(cr,{className:"ml-2 h-5 w-5"})]})]})]}),e===3&&(0,fe.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,fe.jsxs)("div",{className:"mb-6",children:[(0,fe.jsx)("h2",{className:"text-3xl font-bold mb-2",style:{color:"#0B1E3F"},children:"Professional details"}),(0,fe.jsx)("p",{className:"text-base",style:{color:"#6F73D2"},children:"Tell us more about your professional background"})]}),(0,fe.jsxs)("div",{className:"space-y-5",children:[r.role==="TEACHER"&&(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsxs)("div",{className:"relative",children:[(0,fe.jsx)("label",{htmlFor:"expertise",className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Area of Expertise"}),(0,fe.jsx)("input",{id:"expertise",name:"expertise",type:"text",value:r.expertise,onChange:x,placeholder:"e.g., Mathematics, Science, Business",className:`block w-full px-4 py-4 border-2 rounded-xl transition-all duration-200 ${c.expertise?"border-red-300 focus:border-red-400 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-[#00B5AD] focus:ring-4 focus:ring-[#00B5AD]/20"} bg-white dark:bg-gray-800 text-[#0B1E3F] dark:text-white focus:outline-none`,style:{fontSize:"16px"}}),c.expertise&&(0,fe.jsx)("p",{className:"mt-2 text-sm",style:{color:"#dc2626"},children:c.expertise})]}),(0,fe.jsxs)("div",{className:"relative",children:[(0,fe.jsx)("label",{htmlFor:"yearsExperience",className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Years of Experience"}),(0,fe.jsx)("input",{id:"yearsExperience",name:"yearsExperience",type:"number",min:"0",value:r.yearsExperience,onChange:x,placeholder:"e.g., 5",className:`block w-full px-4 py-4 border-2 rounded-xl transition-all duration-200 ${c.yearsExperience?"border-red-300 focus:border-red-400 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-[#00B5AD] focus:ring-4 focus:ring-[#00B5AD]/20"} bg-white dark:bg-gray-800 text-[#0B1E3F] dark:text-white focus:outline-none`,style:{fontSize:"16px"}}),c.yearsExperience&&(0,fe.jsx)("p",{className:"mt-2 text-sm",style:{color:"#dc2626"},children:c.yearsExperience})]})]}),(0,fe.jsxs)("div",{className:"relative",children:[(0,fe.jsx)("label",{htmlFor:"bio",className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Bio (Optional)"}),(0,fe.jsx)("textarea",{id:"bio",name:"bio",rows:4,value:r.bio,onChange:x,placeholder:"Tell us about yourself...",className:"block w-full px-4 py-4 border-2 border-gray-200 rounded-xl transition-all duration-200 focus:border-[#00B5AD] focus:ring-4 focus:ring-[#00B5AD]/20 bg-white dark:bg-gray-800 text-[#0B1E3F] dark:text-white focus:outline-none resize-none",style:{fontSize:"16px"}})]})]}),(0,fe.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,fe.jsxs)("button",{type:"button",onClick:C,className:"flex items-center px-6 py-5 border-2 rounded-xl font-semibold transition-all duration-200 hover:shadow-md",style:{borderColor:"#E5E7EB",color:"#0B1E3F",backgroundColor:"white"},children:[(0,fe.jsx)(Ka,{className:"mr-2 h-5 w-5"}),"Back"]}),(0,fe.jsx)("button",{type:"button",onClick:S,disabled:m,className:"flex items-center px-8 py-5 text-white rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{backgroundColor:"#00B5AD",boxShadow:m?"none":"0 4px 14px rgba(0, 181, 173, 0.3)"},onMouseEnter:E=>{m||(E.currentTarget.style.backgroundColor="#00968d")},onMouseLeave:E=>{m||(E.currentTarget.style.backgroundColor="#00B5AD")},children:m?(0,fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,fe.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),(0,fe.jsx)("span",{children:"Creating account..."})]}):(0,fe.jsxs)(fe.Fragment,{children:["Create Account",(0,fe.jsx)(cr,{className:"ml-2 h-5 w-5"})]})})]})]})]}),(0,fe.jsxs)("div",{className:"mt-8 text-center text-xs",style:{color:"#6F73D2"},children:[(0,fe.jsxs)("div",{className:"flex justify-center gap-6 mb-4",children:[(0,fe.jsx)(we,{to:"/privacy",className:"hover:opacity-80 transition-opacity",children:"Privacy Policy"}),(0,fe.jsx)(we,{to:"/terms",className:"hover:opacity-80 transition-opacity",children:"Terms of Service"})]}),(0,fe.jsxs)("p",{children:["Already have an account?"," ",(0,fe.jsx)(we,{to:"/login",className:"font-semibold transition-colors hover:opacity-80",style:{color:"#00B5AD"},children:"Sign in"})]})]})]})]})};var X0=H(he());Rt();var Pa=H(se()),mL=()=>{let[e,t]=(0,X0.useState)(""),[r,a]=(0,X0.useState)("idle"),[o,n]=(0,X0.useState)("");return(0,Pa.jsx)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-[#F4F7FA]",children:(0,Pa.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white rounded-2xl shadow-xl p-8",children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsxs)(we,{to:"/login",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,Pa.jsx)(Ka,{className:"h-4 w-4 mr-1"}),"Back to login"]}),(0,Pa.jsx)("h2",{className:"mt-2 text-2xl font-bold text-gray-900",children:"Reset your password"}),(0,Pa.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Enter the email associated with your account and we'll send you a link to reset your password."})]}),o&&(0,Pa.jsx)("div",{className:`p-3 rounded-md text-sm ${r==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:o}),(0,Pa.jsxs)("form",{className:"mt-4 space-y-6",onSubmit:async i=>{i.preventDefault(),a("submitting"),n("");try{await vt.requestPasswordReset(e),a("success"),n("If an account exists for this email, a reset link has been sent.")}catch(c){console.error("Error requesting password reset:",c),a("error"),n("Something went wrong. Please try again in a few minutes.")}finally{a(c=>c==="submitting"?"idle":c)}},children:[(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),(0,Pa.jsxs)("div",{className:"relative",children:[(0,Pa.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Pa.jsx)($o,{className:"h-5 w-5 text-gray-400"})}),(0,Pa.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"you@example.com",value:e,onChange:i=>t(i.target.value)})]})]}),(0,Pa.jsx)("button",{type:"submit",disabled:r==="submitting",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#00B5AD] hover:bg-[#009b94] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#00B5AD] disabled:opacity-60",children:r==="submitting"?"Sending...":"Send reset link"})]})]})})};var Op=H(he());Rt();var qr=H(se()),pL=()=>{let e=lr(),t=ht(),a=new URLSearchParams(e.search).get("token")||"",[o,n]=(0,Op.useState)(""),[s,i]=(0,Op.useState)(""),[c,l]=(0,Op.useState)("idle"),[d,u]=(0,Op.useState)("");return(0,qr.jsx)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-[#F4F7FA]",children:(0,qr.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white rounded-2xl shadow-xl p-8",children:[(0,qr.jsxs)("div",{children:[(0,qr.jsxs)(we,{to:"/login",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,qr.jsx)(Ka,{className:"h-4 w-4 mr-1"}),"Back to login"]}),(0,qr.jsx)("h2",{className:"mt-2 text-2xl font-bold text-gray-900",children:"Set a new password"}),(0,qr.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Please choose a strong password that you don't use elsewhere."})]}),d&&(0,qr.jsx)("div",{className:`p-3 rounded-md text-sm ${c==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:d}),(0,qr.jsxs)("form",{className:"mt-4 space-y-6",onSubmit:async h=>{if(h.preventDefault(),!a){l("error"),u("Reset token is missing or invalid.");return}if(!o||o.length<8){l("error"),u("Password must be at least 8 characters.");return}if(o!==s){l("error"),u("Passwords do not match.");return}l("submitting"),u("");try{await vt.resetPassword(a,o),l("success"),u("Your password has been reset. You can now log in with your new password."),setTimeout(()=>t("/login"),2500)}catch(v){console.error("Error resetting password:",v),l("error"),u("Failed to reset password. The link may have expired. Please request a new one.")}finally{l(v=>v==="submitting"?"idle":v)}},children:[(0,qr.jsxs)("div",{children:[(0,qr.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New password"}),(0,qr.jsxs)("div",{className:"relative",children:[(0,qr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,qr.jsx)(ja,{className:"h-5 w-5 text-gray-400"})}),(0,qr.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter new password",value:o,onChange:h=>n(h.target.value)})]})]}),(0,qr.jsxs)("div",{children:[(0,qr.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm password"}),(0,qr.jsxs)("div",{className:"relative",children:[(0,qr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,qr.jsx)(ja,{className:"h-5 w-5 text-gray-400"})}),(0,qr.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Confirm new password",value:s,onChange:h=>i(h.target.value)})]})]}),(0,qr.jsx)("button",{type:"submit",disabled:c==="submitting",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#00B5AD] hover:bg-[#009b94] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#00B5AD] disabled:opacity-60",children:c==="submitting"?"Saving...":"Reset password"})]})]})})};var Xa=H(he());Rt();async function J0(e){try{let t=await wm(Number(e));if(!t||!t.lessons||t.lessons.length===0)return null;let r=await oi(String(e));if(!r||r.completedLessons===0)return t.lessons[0]?.id||null;if(r.completedLessons>=r.totalLessons)return null;let a=r.completedLessons;return a<t.lessons.length?t.lessons[a].id:null}catch(t){return console.error("Error finding next uncompleted lesson:",t),null}}Rt();var Tt=H(se()),Po=({course:e,isTeacher:t=!1,onBoost:r})=>{let a=()=>e.imageUrl||"https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?w=400&h=200&fit=crop",o={totalStudents:e.enrolledStudents||e.enrollments?.length||0,activeStudents:e.activeStudents??0,completionRate:e.completionRate??0};return(0,Tt.jsxs)(we,{to:`/courses/${e.id}`,className:"block rounded-2xl border-2 overflow-hidden transition-all duration-300 active:scale-[0.98]",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:[(0,Tt.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[a()?(0,Tt.jsx)("img",{src:a(),alt:e.title,className:"w-full h-full object-cover"}):(0,Tt.jsx)("div",{className:"w-full h-full flex items-center justify-center",style:{backgroundColor:"rgba(0, 181, 173, 0.1)"},children:(0,Tt.jsx)(ot,{className:"h-16 w-16",style:{color:"#00B5AD"}})}),(0,Tt.jsxs)("div",{className:"absolute top-3 left-3 flex flex-col space-y-2",children:[!e.isPaid&&(0,Tt.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-bold text-white",style:{backgroundColor:"#00B5AD"},children:"Free"}),e.level&&(0,Tt.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-bold text-white",style:{backgroundColor:"#6F73D2"},children:e.level}),t&&(0,Tt.jsx)("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold text-white ${e.isActive?"bg-[#00B5AD]":"bg-[#9A8CFF]"}`,children:e.isActive?"Active":"Draft"})]}),e.enrolledStudents&&e.enrolledStudents>1e3&&(0,Tt.jsx)("span",{className:"absolute top-3 right-3 px-3 py-1.5 rounded-full text-xs font-bold text-white",style:{backgroundColor:"#9A8CFF"},children:"Popular"})]}),(0,Tt.jsxs)("div",{className:"p-5",children:[(0,Tt.jsx)("div",{className:"mb-3",children:(0,Tt.jsx)("span",{className:"text-xs font-bold uppercase tracking-wide px-3 py-1.5 rounded-full",style:{backgroundColor:"rgba(0, 181, 173, 0.1)",color:"#00B5AD"},children:e.category||"Course"})}),(0,Tt.jsx)("h3",{className:"text-lg font-bold mb-3 line-clamp-2",style:{color:"#0B1E3F"},children:e.title}),(0,Tt.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Tt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Tt.jsx)(Jt,{className:"h-4 w-4 fill-current",style:{color:"#F59E0B"}}),(0,Tt.jsx)("span",{className:"text-sm font-bold",style:{color:"#0B1E3F"},children:e.rating?.toFixed(1)||"4.5"})]}),(0,Tt.jsxs)("span",{className:"text-xs",style:{color:"#6F73D2"},children:["(",e.enrolledStudents||0," students)"]})]}),(0,Tt.jsxs)("div",{className:"flex items-center space-x-4 text-sm mb-4",style:{color:"#6F73D2"},children:[(0,Tt.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,Tt.jsx)(xt,{className:"h-4 w-4"}),(0,Tt.jsx)("span",{children:e.duration||"8 weeks"})]}),(0,Tt.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,Tt.jsx)(it,{className:"h-4 w-4"}),(0,Tt.jsx)("span",{children:o.totalStudents.toLocaleString()})]})]}),t&&(0,Tt.jsx)("div",{className:"rounded-xl p-4 mb-4",style:{backgroundColor:"rgba(111, 115, 210, 0.05)"},children:(0,Tt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsx)("div",{className:"font-bold text-lg mb-1",style:{color:"#0B1E3F"},children:o.activeStudents}),(0,Tt.jsx)("div",{style:{color:"#6F73D2"},children:"Active"})]}),(0,Tt.jsxs)("div",{className:"text-center",children:[(0,Tt.jsxs)("div",{className:"font-bold text-lg mb-1",style:{color:"#0B1E3F"},children:[o.completionRate,"%"]}),(0,Tt.jsx)("div",{style:{color:"#6F73D2"},children:"Completion"})]})]})}),!t&&(0,Tt.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Tt.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center mr-3 overflow-hidden text-white font-bold",style:{background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 100%)"},children:e.teacher.avatarUrl?(0,Tt.jsx)("img",{src:e.teacher.avatarUrl,alt:e.teacher.name,className:"w-full h-full object-cover"}):(0,Tt.jsx)("span",{children:e.teacher.name.charAt(0)})}),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("p",{className:"text-sm font-bold",style:{color:"#0B1E3F"},children:e.teacher.name}),(0,Tt.jsx)("p",{className:"text-xs",style:{color:"#6F73D2"},children:"Instructor"})]})]}),(0,Tt.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",style:{borderColor:"#E5E7EB"},children:[(0,Tt.jsx)("div",{children:e.price===0||!e.isPaid?(0,Tt.jsx)("span",{className:"text-2xl font-bold",style:{color:"#00B5AD"},children:"Free"}):(0,Tt.jsxs)("span",{className:"text-2xl font-bold",style:{color:"#0B1E3F"},children:["$",e.price]})}),(0,Tt.jsxs)("div",{className:"flex items-center space-x-2 px-5 py-3 rounded-xl font-bold text-white",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:[(0,Tt.jsx)("span",{children:t?"Manage":"View"}),(0,Tt.jsx)(cr,{className:"h-5 w-5"})]})]})]})]})};var V=H(se()),gL=()=>{let{user:e}=Ge(),t=ht(),r=e?.role==="TEACHER",[a,o]=(0,Xa.useState)([]),[n,s]=(0,Xa.useState)([]),[i,c]=(0,Xa.useState)([]),[l,d]=(0,Xa.useState)([]),[u,g]=(0,Xa.useState)([]),[h,v]=(0,Xa.useState)(!0),[m,y]=(0,Xa.useState)(!1),[p,f]=(0,Xa.useState)([]),[x,b]=(0,Xa.useState)(!1),[w,N]=(0,Xa.useState)({}),[I,C]=(0,Xa.useState)({totalCourses:0,totalStudents:0,pendingAssignments:0,averageCompletionRate:0,activeStudents:0,totalLessons:0}),[S,k]=(0,Xa.useState)({totalRevenue:0,monthlyRevenue:0});(0,Xa.useEffect)(()=>{if(e?.id){let q=!1;if(e.createdAt){let D=new Date(e.createdAt);q=(new Date().getTime()-D.getTime())/(1e3*60*60)<1}let R=sessionStorage.getItem(`home_visited_${e.id}`);(q||!R)&&(y(!0),sessionStorage.setItem(`home_visited_${e.id}`,"true"))}},[e?.id,e?.createdAt]),(0,Xa.useEffect)(()=>{E(),r?L():P()},[r]);let E=async()=>{try{v(!0);let q=await aa({limit:30});if(!r&&e?.id)try{let D=await Aw(e.id,10);s(D.slice(0,6))}catch(D){console.error("Error loading course recommendations:",D),s(q.slice(3,9))}else r||s(q.slice(3,9));let R=[...q].sort((D,A)=>{let B=(D.rating||0)*.6+(D.enrolledStudents||0)*.4;return(A.rating||0)*.6+(A.enrolledStudents||0)*.4-B}).slice(0,6);c(R);try{let D=await Yw({});d(D.slice(0,3))}catch{d([])}try{let D=await Gl(),A=e?.id?await bw(e.id):[];g([...D||[],...A||[]])}catch(D){console.error("Error loading announcements:",D),g([])}}catch(q){console.error("Error loading home data:",q)}finally{v(!1)}},L=async()=>{try{if(!e?.id)return;try{let q=await e1(e.id);C(q)}catch(q){console.error("Error loading teacher stats:",q)}try{let q=await Nm(e.id);k(q)}catch(q){console.error("Error loading earnings:",q)}try{let q=await ca();o(q.slice(0,6))}catch(q){console.error("Error loading teacher courses:",q)}}catch(q){console.error("Error loading teacher data:",q)}},P=async()=>{try{let q=await ca(),D=(await Promise.all(q.map(async B=>{try{let F=await oi(B.id);return{course:B,progress:F}}catch{return{course:B,progress:null}}}))).filter(({progress:B})=>B?B.overallProgress>0&&B.overallProgress<100:!1);f(D),b(D.length>0);let A=D.slice(0,3).map(({course:B})=>B);o(A)}catch(q){console.error("Error loading courses in progress:",q),f([]),b(!1),o([])}},j=async(q,R)=>{R.preventDefault(),R.stopPropagation(),N(D=>({...D,[q]:!0}));try{let D=await J0(q);t(D?`/courses/${q}/learn/${D}`:`/courses/${q}`)}catch(D){console.error("Error finding next lesson:",D),t(`/courses/${q}`)}finally{N(D=>({...D,[q]:!1}))}},M=[{id:"web-dev",name:"Web Development",icon:ec,color:"#00B5AD"},{id:"design",name:"Design",icon:tp,color:"#6F73D2"},{id:"business",name:"Business",icon:gn,color:"#9A8CFF"},{id:"marketing",name:"Marketing",icon:_r,color:"#00B5AD"},{id:"photography",name:"Photography",icon:Jl,color:"#6F73D2"},{id:"music",name:"Music",icon:cl,color:"#9A8CFF"}];return h?(0,V.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,V.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,V.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):(0,V.jsxs)("div",{className:"home-page",children:[(0,V.jsx)("div",{className:"home-hero",children:(0,V.jsx)("div",{className:"home-hero-content",children:(0,V.jsxs)("div",{className:"home-hero-text",children:[(0,V.jsxs)("h1",{className:"home-hero-title",children:[m?"Welcome":"Welcome back",", ",e?.name||"there","!",(0,V.jsx)(jm,{className:"home-hero-title-icon"})]}),(0,V.jsx)("p",{className:"home-hero-subtitle",children:r?"Ready to inspire your students today?":"Continue your learning journey and discover new skills"}),(0,V.jsx)("div",{className:"home-quick-access",children:r?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(we,{to:"/courses",className:"home-quick-access-card",children:[(0,V.jsx)(ot,{className:"home-quick-access-card-icon home-quick-access-card-icon--teal"}),(0,V.jsx)("p",{className:"home-quick-access-card-text",children:"My Courses"})]}),(0,V.jsxs)(we,{to:"/courses?create=true",className:"home-quick-access-card",children:[(0,V.jsx)(Wo,{className:"home-quick-access-card-icon home-quick-access-card-icon--purple"}),(0,V.jsx)("p",{className:"home-quick-access-card-text",children:"Create Course"})]}),(0,V.jsxs)(we,{to:"/lessons/create",className:"home-quick-access-card",children:[(0,V.jsx)(Bt,{className:"home-quick-access-card-icon home-quick-access-card-icon--teal"}),(0,V.jsx)("p",{className:"home-quick-access-card-text",children:"Create Lesson"})]}),(0,V.jsxs)(we,{to:"/assignments/grade",className:"home-quick-access-card",children:[(0,V.jsx)(or,{className:"home-quick-access-card-icon home-quick-access-card-icon--purple"}),(0,V.jsx)("p",{className:"home-quick-access-card-text",children:"Grade Assignments"})]}),(0,V.jsxs)(we,{to:"/analytics",className:"home-quick-access-card",children:[(0,V.jsx)(_r,{className:"home-quick-access-card-icon home-quick-access-card-icon--light-purple"}),(0,V.jsx)("p",{className:"home-quick-access-card-text",children:"Analytics"})]}),(0,V.jsxs)(we,{to:"/students/progress",className:"home-quick-access-card",children:[(0,V.jsx)(it,{className:"home-quick-access-card-icon home-quick-access-card-icon--teal"}),(0,V.jsx)("p",{className:"home-quick-access-card-text",children:"Student Progress"})]}),(0,V.jsxs)(we,{to:"/earnings-report",className:"home-quick-access-card",children:[(0,V.jsx)(Ra,{className:"home-quick-access-card-icon home-quick-access-card-icon--purple"}),(0,V.jsx)("p",{className:"home-quick-access-card-text",children:"Earnings"})]}),(0,V.jsxs)(we,{to:"/schedule",className:"home-quick-access-card",children:[(0,V.jsx)(Kt,{className:"home-quick-access-card-icon home-quick-access-card-icon--teal"}),(0,V.jsx)("p",{className:"home-quick-access-card-text",children:"Schedule"})]})]}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(we,{to:"/learn",className:"home-quick-access-card",children:[(0,V.jsx)(ot,{className:"home-quick-access-card-icon home-quick-access-card-icon--teal"}),(0,V.jsx)("p",{className:"home-quick-access-card-text",children:"My Learning"})]}),(0,V.jsxs)(we,{to:"/discover",className:"home-quick-access-card",children:[(0,V.jsx)(tc,{className:"home-quick-access-card-icon home-quick-access-card-icon--purple"}),(0,V.jsx)("p",{className:"home-quick-access-card-text",children:"Discover"})]}),(0,V.jsxs)(we,{to:"/schedule",className:"home-quick-access-card",children:[(0,V.jsx)(Kt,{className:"home-quick-access-card-icon home-quick-access-card-icon--light-purple"}),(0,V.jsx)("p",{className:"home-quick-access-card-text",children:"Schedule"})]}),(0,V.jsxs)(we,{to:"/messages",className:"home-quick-access-card",children:[(0,V.jsx)(Br,{className:"home-quick-access-card-icon home-quick-access-card-icon--teal"}),(0,V.jsx)("p",{className:"home-quick-access-card-text",children:"Messages"})]})]})})]})})}),r&&(0,V.jsxs)("div",{className:"home-section",children:[(0,V.jsxs)("div",{className:"home-section-header",children:[(0,V.jsx)("h2",{className:"home-section-title",children:"Your Teaching Overview"}),(0,V.jsxs)(we,{to:"/analytics",className:"home-section-link",children:[(0,V.jsx)("span",{children:"View Analytics"}),(0,V.jsx)(cr,{className:"home-course-card-meta-icon"})]})]}),(0,V.jsxs)("div",{className:"home-stats-grid",children:[(0,V.jsxs)("div",{className:"home-stat-card",children:[(0,V.jsx)("div",{className:"home-stat-card-icon",style:{backgroundColor:"rgba(0, 181, 173, 0.1)"},children:(0,V.jsx)(ot,{className:"home-stat-card-icon-svg",style:{color:"#00B5AD"}})}),(0,V.jsxs)("div",{className:"home-stat-card-content",children:[(0,V.jsx)("p",{className:"home-stat-card-label",children:"Total Courses"}),(0,V.jsx)("p",{className:"home-stat-card-value",children:I.totalCourses})]})]}),(0,V.jsxs)("div",{className:"home-stat-card",children:[(0,V.jsx)("div",{className:"home-stat-card-icon",style:{backgroundColor:"rgba(111, 115, 210, 0.1)"},children:(0,V.jsx)(it,{className:"home-stat-card-icon-svg",style:{color:"#6F73D2"}})}),(0,V.jsxs)("div",{className:"home-stat-card-content",children:[(0,V.jsx)("p",{className:"home-stat-card-label",children:"Total Students"}),(0,V.jsx)("p",{className:"home-stat-card-value",children:I.totalStudents})]})]}),(0,V.jsxs)("div",{className:"home-stat-card",children:[(0,V.jsx)("div",{className:"home-stat-card-icon",style:{backgroundColor:"rgba(154, 140, 255, 0.1)"},children:(0,V.jsx)(Ra,{className:"home-stat-card-icon-svg",style:{color:"#9A8CFF"}})}),(0,V.jsxs)("div",{className:"home-stat-card-content",children:[(0,V.jsx)("p",{className:"home-stat-card-label",children:"Monthly Revenue"}),(0,V.jsxs)("p",{className:"home-stat-card-value",children:["$",S.monthlyRevenue.toLocaleString()]})]})]}),(0,V.jsxs)("div",{className:"home-stat-card",children:[(0,V.jsx)("div",{className:"home-stat-card-icon",style:{backgroundColor:"rgba(0, 181, 173, 0.1)"},children:(0,V.jsx)(_r,{className:"home-stat-card-icon-svg",style:{color:"#00B5AD"}})}),(0,V.jsxs)("div",{className:"home-stat-card-content",children:[(0,V.jsx)("p",{className:"home-stat-card-label",children:"Completion Rate"}),(0,V.jsxs)("p",{className:"home-stat-card-value",children:[Math.round(I.averageCompletionRate),"%"]})]})]})]})]}),r&&a.length>0&&(0,V.jsxs)("div",{className:"home-section",children:[(0,V.jsxs)("div",{className:"home-section-header",children:[(0,V.jsxs)("div",{children:[(0,V.jsx)("h2",{className:"home-section-title",children:"Your Courses Preview"}),(0,V.jsx)("p",{className:"home-progress-subtitle",style:{marginTop:"0.5rem"},children:"See how your courses appear to students"})]}),(0,V.jsxs)(we,{to:"/courses",className:"home-section-link",children:[(0,V.jsx)("span",{children:"Manage Courses"}),(0,V.jsx)(cr,{className:"home-course-card-meta-icon"})]})]}),(0,V.jsx)("div",{className:"home-course-scroll",children:(0,V.jsx)("div",{className:"home-course-scroll-container",children:a.slice(0,6).map(q=>(0,V.jsx)("div",{className:"home-course-card-mobile",children:(0,V.jsx)(we,{to:`/courses/${q.id}?preview=true`,className:"block",children:(0,V.jsx)(Po,{course:q})})},q.id))})}),(0,V.jsx)("div",{className:"home-course-grid",children:a.slice(0,6).map(q=>(0,V.jsxs)("div",{className:"home-course-card",children:[(0,V.jsxs)(we,{to:`/courses/${q.id}?preview=true`,className:"home-course-card-link",children:[(0,V.jsxs)("div",{className:"home-course-card-image home-course-card-image--small",children:[q.imageUrl?(0,V.jsx)("img",{src:q.imageUrl,alt:q.title}):(0,V.jsx)(ot,{className:"home-course-card-image-placeholder"}),(0,V.jsx)("span",{className:"home-course-card-category-badge",children:q.category||"Course"})]}),(0,V.jsxs)("div",{className:"home-course-card-body",children:[(0,V.jsx)("h3",{className:"home-course-card-title",children:q.title}),(0,V.jsxs)("div",{className:"home-course-card-rating",children:[(0,V.jsxs)("div",{className:"home-course-card-meta-item",children:[(0,V.jsx)(Jt,{className:"home-course-card-rating-icon"}),(0,V.jsx)("span",{className:"home-course-card-rating-text",children:q.rating?.toFixed(1)||"4.5"})]}),(0,V.jsxs)("div",{className:"home-course-card-meta-item",children:[(0,V.jsx)(it,{className:"home-course-card-meta-icon"}),(0,V.jsx)("span",{children:q.enrolledStudents||0})]})]}),q.price===0||!q.isPaid?(0,V.jsx)("span",{className:"home-course-card-price home-course-card-price--free",children:"Free"}):(0,V.jsxs)("span",{className:"home-course-card-price home-course-card-price--paid",children:["$",q.price]})]})]}),(0,V.jsxs)(we,{to:`/courses/${q.id}?preview=true`,className:"home-course-card-continue-button",style:{textDecoration:"none"},children:[(0,V.jsx)(Nr,{className:"home-course-card-continue-icon"}),(0,V.jsx)("span",{children:"Preview as Student"})]})]},q.id))})]}),a.length>0&&(0,V.jsxs)("div",{className:"home-section",children:[(0,V.jsxs)("div",{className:"home-section-header",children:[(0,V.jsx)("h2",{className:"home-section-title",children:r?"My Courses":"Continue Learning"}),(0,V.jsxs)(we,{to:r?"/courses":"/learn",className:"home-section-link",children:[(0,V.jsx)("span",{children:"View All"}),(0,V.jsx)(cr,{className:"home-course-card-meta-icon"})]})]}),(0,V.jsx)("div",{className:"home-course-scroll",children:(0,V.jsx)("div",{className:"home-course-scroll-container",children:a.map(q=>(0,V.jsx)("div",{className:"home-course-card-mobile",children:(0,V.jsx)(Po,{course:q})},q.id))})}),(0,V.jsx)("div",{className:"home-course-grid",children:a.map(q=>{let R=p.find(A=>A.course.id===q.id)?.progress,D=R&&R.overallProgress>0;return(0,V.jsxs)("div",{className:"home-course-card",children:[(0,V.jsxs)(we,{to:`/courses/${q.id}`,className:"home-course-card-link",children:[(0,V.jsxs)("div",{className:"home-course-card-image",children:[q.imageUrl?(0,V.jsx)("img",{src:q.imageUrl,alt:q.title}):(0,V.jsx)(ot,{className:"home-course-card-image-placeholder"}),(0,V.jsx)("div",{className:"home-course-card-image-overlay"}),(0,V.jsxs)("div",{className:"home-course-card-image-content",children:[(0,V.jsxs)("div",{className:"home-course-card-image-badge",children:[(0,V.jsx)("span",{className:"home-course-card-image-category",children:q.category}),(0,V.jsxs)("div",{className:"home-course-card-image-rating",children:[(0,V.jsx)(Jt,{className:"home-course-card-image-rating-icon"}),(0,V.jsx)("span",{className:"home-course-card-image-rating-text",children:q.rating?.toFixed(1)||"4.5"})]})]}),(0,V.jsx)("h3",{className:"home-course-card-image-title",children:q.title})]})]}),(0,V.jsxs)("div",{className:"home-course-card-body",children:[(0,V.jsx)("div",{className:"home-course-card-meta",children:(0,V.jsxs)("div",{className:"home-course-card-meta-items",children:[(0,V.jsxs)("div",{className:"home-course-card-meta-item",children:[(0,V.jsx)(xt,{className:"home-course-card-meta-icon"}),(0,V.jsx)("span",{children:q.duration||"8 weeks"})]}),(0,V.jsxs)("div",{className:"home-course-card-meta-item",children:[(0,V.jsx)(it,{className:"home-course-card-meta-icon"}),(0,V.jsx)("span",{children:q.enrolledStudents||0})]})]})}),R&&(0,V.jsxs)("div",{className:"home-course-card-progress",children:[(0,V.jsx)("div",{className:"home-course-card-progress-bar",children:(0,V.jsx)("div",{className:"home-course-card-progress-fill",style:{width:`${R.overallProgress}%`}})}),(0,V.jsxs)("span",{className:"home-course-card-progress-text",children:[Math.round(R.overallProgress),"% complete"]})]})]})]}),(0,V.jsx)("button",{onClick:A=>j(q.id,A),disabled:w[q.id],className:"home-course-card-continue-button",children:w[q.id]?(0,V.jsx)("span",{children:"Loading..."}):D?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(oa,{className:"home-course-card-continue-icon"}),(0,V.jsx)("span",{children:"Continue"})]}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(oa,{className:"home-course-card-continue-icon"}),(0,V.jsx)("span",{children:"Start"})]})})]},q.id)})})]}),!r&&n.length>0&&(0,V.jsxs)("div",{className:"home-section",children:[(0,V.jsxs)("div",{className:"home-section-header",children:[(0,V.jsx)("h2",{className:"home-section-title",children:"Recommended for You"}),(0,V.jsxs)(we,{to:"/discover",className:"home-section-link",children:[(0,V.jsx)("span",{children:"Explore More"}),(0,V.jsx)(cr,{className:"home-course-card-meta-icon"})]})]}),(0,V.jsx)("div",{className:"home-course-list-mobile",children:n.slice(0,3).map(q=>(0,V.jsx)(Po,{course:q},q.id))}),(0,V.jsx)("div",{className:"home-course-grid",children:n.map(q=>(0,V.jsxs)(we,{to:`/courses/${q.id}`,className:"home-course-card",children:[(0,V.jsxs)("div",{className:"home-course-card-image home-course-card-image--small",children:[q.imageUrl?(0,V.jsx)("img",{src:q.imageUrl,alt:q.title}):(0,V.jsx)(ot,{className:"home-course-card-image-placeholder"}),(0,V.jsx)("span",{className:"home-course-card-category-badge",children:q.category||"Course"})]}),(0,V.jsxs)("div",{className:"home-course-card-body",children:[(0,V.jsx)("h3",{className:"home-course-card-title",children:q.title}),(0,V.jsxs)("div",{className:"home-course-card-rating",children:[(0,V.jsxs)("div",{className:"home-course-card-meta-item",children:[(0,V.jsx)(Jt,{className:"home-course-card-rating-icon"}),(0,V.jsx)("span",{className:"home-course-card-rating-text",children:q.rating?.toFixed(1)||"4.5"})]}),(0,V.jsxs)("div",{className:"home-course-card-meta-item",children:[(0,V.jsx)(it,{className:"home-course-card-meta-icon"}),(0,V.jsx)("span",{children:q.enrolledStudents||0})]})]}),q.price===0||!q.isPaid?(0,V.jsx)("span",{className:"home-course-card-price home-course-card-price--free",children:"Free"}):(0,V.jsxs)("span",{className:"home-course-card-price home-course-card-price--paid",children:["$",q.price]})]})]},q.id))})]}),!r&&x&&(0,V.jsxs)("div",{className:"home-section",children:[(0,V.jsxs)("div",{className:"home-section-header",children:[(0,V.jsxs)("div",{children:[(0,V.jsx)("h2",{className:"home-section-title",children:"Your Current Courses"}),(0,V.jsx)("p",{className:"home-progress-subtitle",children:"Pick up where you left off and keep making progress"})]}),(0,V.jsxs)(we,{to:"/learn",className:"home-section-link",children:[(0,V.jsx)("span",{children:"View All"}),(0,V.jsx)(cr,{className:"home-course-card-meta-icon"})]})]}),(0,V.jsx)("div",{className:"home-course-list-mobile",children:p.slice(0,3).map(({course:q,progress:R})=>(0,V.jsxs)("div",{className:"home-progress-card",children:[(0,V.jsx)("div",{className:"home-progress-card-header",children:(0,V.jsx)("div",{className:"home-progress-card-title",children:q.title})}),R&&(0,V.jsxs)("div",{className:"home-progress-info",children:[(0,V.jsxs)("div",{className:"home-progress-info-header",children:[(0,V.jsx)("span",{children:"Progress"}),(0,V.jsxs)("span",{className:"home-progress-info-percent",children:[Math.round(R.overallProgress),"%"]})]}),(0,V.jsx)("div",{className:"home-progress-bar-container",children:(0,V.jsx)("div",{className:"home-progress-bar",style:{width:`${R.overallProgress}%`}})})]}),(0,V.jsxs)(we,{to:`/courses/${q.id}/learn`,className:"home-progress-button",children:[(0,V.jsx)(oa,{className:"home-progress-button-icon"}),"Continue"]})]},q.id))}),(0,V.jsx)("div",{className:"home-progress-grid",children:p.slice(0,6).map(({course:q,progress:R})=>(0,V.jsxs)("div",{className:"home-progress-card",children:[(0,V.jsxs)("div",{children:[(0,V.jsx)("h3",{className:"home-progress-card-title",children:q.title}),R&&(0,V.jsxs)("div",{className:"home-progress-info",children:[(0,V.jsxs)("div",{className:"home-progress-info-header",children:[(0,V.jsx)("span",{children:"Your Progress"}),(0,V.jsxs)("span",{className:"home-progress-info-percent",children:[Math.round(R.overallProgress),"%"]})]}),(0,V.jsx)("div",{className:"home-progress-bar-container",children:(0,V.jsx)("div",{className:"home-progress-bar",style:{width:`${R.overallProgress}%`}})}),R.completedLessons>0&&(0,V.jsxs)("p",{className:"home-progress-stats",children:[R.completedLessons," of ",R.totalLessons," lessons completed"]})]})]}),(0,V.jsxs)(we,{to:`/courses/${q.id}/learn`,className:"home-progress-button",children:[(0,V.jsx)(oa,{className:"home-progress-button-icon"}),"Continue"]})]},q.id))})]}),!r&&(0,V.jsxs)("div",{className:"home-section",children:[(0,V.jsx)("h2",{className:"home-section-title",children:"Browse Categories"}),(0,V.jsx)("div",{className:"home-categories-scroll",children:(0,V.jsx)("div",{className:"home-categories-scroll-container",children:M.map(q=>{let R=q.icon;return(0,V.jsxs)(we,{to:`/discover?category=${q.id}`,className:"home-category-card","data-color":q.color,children:[(0,V.jsx)(R,{className:"home-category-icon",style:{color:q.color}}),(0,V.jsx)("span",{className:"home-category-text",children:q.name})]},q.id)})})}),(0,V.jsx)("div",{className:"home-categories-grid",children:M.map(q=>{let R=q.icon;return(0,V.jsxs)(we,{to:`/discover?category=${q.id}`,className:"home-category-card","data-color":q.color,children:[(0,V.jsx)(R,{className:"home-category-icon",style:{color:q.color}}),(0,V.jsx)("span",{className:"home-category-text",children:q.name})]},q.id)})})]}),i.length>0&&(0,V.jsxs)("div",{className:"home-section",children:[(0,V.jsxs)("div",{className:"home-section-header",children:[(0,V.jsx)("h2",{className:"home-section-title",children:"Popular Courses"}),(0,V.jsxs)(we,{to:"/discover",className:"home-section-link",children:[(0,V.jsx)("span",{children:"View All"}),(0,V.jsx)(cr,{className:"home-course-card-meta-icon"})]})]}),(0,V.jsx)("div",{className:"home-course-scroll",children:(0,V.jsx)("div",{className:"home-course-scroll-container",children:i.map(q=>(0,V.jsx)("div",{className:"home-course-card-mobile",children:(0,V.jsx)(Po,{course:q})},q.id))})}),(0,V.jsx)("div",{className:"home-course-grid",children:i.map(q=>(0,V.jsxs)(we,{to:`/courses/${q.id}`,className:"home-course-card",children:[(0,V.jsxs)("div",{className:"home-course-card-image home-course-card-image--small",children:[q.imageUrl?(0,V.jsx)("img",{src:q.imageUrl,alt:q.title}):(0,V.jsx)(ot,{className:"home-course-card-image-placeholder"}),(0,V.jsx)("span",{className:"home-course-card-category-badge",children:q.category||"Course"})]}),(0,V.jsxs)("div",{className:"home-course-card-body",children:[(0,V.jsx)("h3",{className:"home-course-card-title",children:q.title}),(0,V.jsxs)("div",{className:"home-course-card-rating",children:[(0,V.jsxs)("div",{className:"home-course-card-meta-item",children:[(0,V.jsx)(Jt,{className:"home-course-card-rating-icon"}),(0,V.jsx)("span",{className:"home-course-card-rating-text",children:q.rating?.toFixed(1)||"4.5"})]}),(0,V.jsxs)("div",{className:"home-course-card-meta-item",children:[(0,V.jsx)(it,{className:"home-course-card-meta-icon"}),(0,V.jsx)("span",{children:q.enrolledStudents||0})]})]}),q.price===0||!q.isPaid?(0,V.jsx)("span",{className:"home-course-card-price home-course-card-price--free",children:"Free"}):(0,V.jsxs)("span",{className:"home-course-card-price home-course-card-price--paid",children:["$",q.price]})]})]},q.id))})]}),l.length>0&&(0,V.jsxs)("div",{className:"home-section",children:[(0,V.jsxs)("div",{className:"home-section-header",children:[(0,V.jsx)("h2",{className:"home-section-title",children:"Upcoming Sessions"}),(0,V.jsxs)(we,{to:"/schedule",className:"home-section-link",children:[(0,V.jsx)("span",{children:"View Calendar"}),(0,V.jsx)(cr,{className:"home-course-card-meta-icon"})]})]}),(0,V.jsx)("div",{className:"home-sessions-list",children:l.map(q=>(0,V.jsx)("div",{className:"home-session-card",children:(0,V.jsxs)("div",{className:"home-session-content",children:[(0,V.jsxs)("div",{className:"home-session-info",children:[(0,V.jsx)("h3",{className:"home-session-title",children:q.title||"Live Session"}),(0,V.jsxs)("div",{className:"home-session-meta",children:[(0,V.jsxs)("div",{className:"home-session-meta-item",children:[(0,V.jsx)(Kt,{className:"home-session-meta-icon"}),(0,V.jsx)("span",{children:new Date(q.startTime||Date.now()).toLocaleDateString()})]}),(0,V.jsxs)("div",{className:"home-session-meta-item",children:[(0,V.jsx)(xt,{className:"home-session-meta-icon"}),(0,V.jsx)("span",{children:new Date(q.startTime||Date.now()).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})]})]}),(0,V.jsx)("button",{className:"home-session-button",children:"Join"})]})},q.id))})]}),u.length>0&&(0,V.jsxs)("div",{className:"home-section",children:[(0,V.jsx)("h2",{className:"home-section-title",children:"Announcements"}),(0,V.jsx)("div",{className:"home-announcements-list",children:u.map(q=>(0,V.jsx)("div",{className:`home-announcement-card ${q.type==="challenge"?"home-announcement-card--challenge":"home-announcement-card--default"}`,children:(0,V.jsxs)("div",{className:"home-announcement-content",children:[(0,V.jsx)("div",{className:`home-announcement-icon-wrapper ${q.type==="challenge"?"home-announcement-icon-wrapper--challenge":"home-announcement-icon-wrapper--default"}`,children:q.type==="challenge"?(0,V.jsx)(Wo,{className:"home-announcement-icon home-announcement-icon--challenge"}):(0,V.jsx)(Ba,{className:"home-announcement-icon home-announcement-icon--default"})}),(0,V.jsxs)("div",{className:"home-announcement-text",children:[(0,V.jsx)("h3",{className:"home-announcement-title",children:q.title}),(0,V.jsx)("p",{className:"home-announcement-message",children:q.message})]})]})},q.id))})]})]})};var Jo=H(he());Rt();var Ms=H(he());var Xo=H(se()),Au=({tabs:e,defaultTab:t,onTabChange:r})=>{let[a,o]=(0,Ms.useState)(t||e[0]?.id),[n,s]=(0,Ms.useState)(null),[i,c]=(0,Ms.useState)(null),[l,d]=(0,Ms.useState)(0),u=(0,Ms.useRef)(null),g=(0,Ms.useRef)(null),h=50;(0,Ms.useEffect)(()=>{r&&r(a)},[a,r]);let v=I=>{c(null),s(I.targetTouches[0].clientX)},m=I=>{c(I.targetTouches[0].clientX)},y=()=>{if(!n||!i)return;let I=n-i,C=I>h,S=I<-h;if(C||S){let k=e.findIndex(E=>E.id===a);if(C&&k<e.length-1){let E=e[k+1];o(E.id),p(k+1)}else if(S&&k>0){let E=e[k-1];o(E.id),p(k-1)}}},p=I=>{if(u.current){let C=u.current.children[I];if(C){let S=u.current,k=C.offsetLeft-S.offsetLeft-S.offsetWidth/2+C.offsetWidth/2;S.scrollTo({left:k,behavior:"smooth"})}}},f=(I,C)=>{o(I),p(C)},x=()=>{u.current&&d(u.current.scrollLeft)},b=l>0,w=u.current&&l<u.current.scrollWidth-u.current.clientWidth,N=I=>{u.current&&u.current.scrollBy({left:I==="left"?-200:200,behavior:"smooth"})};return(0,Xo.jsxs)("div",{className:"w-full",children:[(0,Xo.jsxs)("div",{className:"relative mb-6",children:[b&&(0,Xo.jsx)("button",{onClick:()=>N("left"),className:"absolute left-0 top-0 bottom-0 z-10 px-3 flex items-center",style:{background:"linear-gradient(to right, rgba(255, 255, 255, 0.95), transparent)"},children:(0,Xo.jsx)(Fm,{className:"h-5 w-5",style:{color:"#00B5AD"}})}),(0,Xo.jsx)("div",{ref:u,onScroll:x,className:"flex space-x-2 overflow-x-auto scrollbar-hide pb-2 px-1",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitScrollbar:{display:"none"}},children:e.map((I,C)=>{let S=a===I.id;return(0,Xo.jsx)("button",{onClick:()=>f(I.id,C),className:`px-6 py-3 rounded-xl font-semibold text-sm whitespace-nowrap transition-all duration-200 flex-shrink-0 ${S?"scale-105":""}`,style:{backgroundColor:S?"#00B5AD":"rgba(0, 181, 173, 0.1)",color:S?"white":"#0B1E3F",boxShadow:S?"0 4px 14px rgba(0, 181, 173, 0.3)":"none"},children:I.label},I.id)})}),w&&(0,Xo.jsx)("button",{onClick:()=>N("right"),className:"absolute right-0 top-0 bottom-0 z-10 px-3 flex items-center",style:{background:"linear-gradient(to left, rgba(255, 255, 255, 0.95), transparent)"},children:(0,Xo.jsx)(Om,{className:"h-5 w-5",style:{color:"#00B5AD"}})})]}),(0,Xo.jsx)("div",{ref:g,onTouchStart:v,onTouchMove:m,onTouchEnd:y,className:"overflow-hidden",children:(0,Xo.jsx)("div",{className:"flex transition-transform duration-300 ease-out",style:{transform:`translateX(-${e.findIndex(I=>I.id===a)*100}%)`,width:`${e.length*100}%`},children:e.map(I=>(0,Xo.jsx)("div",{className:"flex-shrink-0 px-1",style:{width:`${100/e.length}%`},children:I.content},I.id))})})]})};var hL=H(he());var To=H(se()),kn=({isOpen:e,onClose:t,title:r,children:a,maxHeight:o="90vh",showHandle:n=!0})=>((0,hL.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),e?(0,To.jsxs)(To.Fragment,{children:[(0,To.jsx)("div",{className:"fixed inset-0 z-40 lg:hidden transition-opacity duration-300",style:{backgroundColor:"rgba(11, 30, 63, 0.5)",backdropFilter:"blur(4px)"},onClick:t}),(0,To.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 z-50 lg:hidden rounded-t-[24px] transition-transform duration-300 ease-out",style:{backgroundColor:"white",boxShadow:"0 -10px 40px rgba(11, 30, 63, 0.15)",maxHeight:o,transform:e?"translateY(0)":"translateY(100%)"},children:[n&&(0,To.jsx)("div",{className:"flex justify-center pt-3 pb-2",children:(0,To.jsx)("div",{className:"w-12 h-1 rounded-full",style:{backgroundColor:"#E5E7EB"}})}),(r||!0)&&(0,To.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b",style:{borderColor:"#E5E7EB"},children:[r&&(0,To.jsx)("h2",{className:"text-xl font-bold",style:{color:"#0B1E3F"},children:r}),(0,To.jsx)("button",{onClick:t,className:"p-2 rounded-xl transition-all duration-200 active:scale-95",style:{backgroundColor:"rgba(0, 181, 173, 0.1)"},children:(0,To.jsx)(et,{className:"h-5 w-5",style:{color:"#00B5AD"}})})]}),(0,To.jsx)("div",{className:"overflow-y-auto",style:{maxHeight:`calc(${o} - 80px)`,WebkitOverflowScrolling:"touch"},children:a})]})]}):null);var Ne=H(se()),vL=()=>{let{user:e}=Ge(),t=ht(),[r,a]=(0,Jo.useState)("active"),[o,n]=(0,Jo.useState)([]),[s,i]=(0,Jo.useState)([]),[c,l]=(0,Jo.useState)([]),[d,u]=(0,Jo.useState)(""),[g,h]=(0,Jo.useState)(!1),[v,m]=(0,Jo.useState)(!0),[y,p]=(0,Jo.useState)({}),[f,x]=(0,Jo.useState)({});(0,Jo.useEffect)(()=>{b()},[]),(0,Jo.useEffect)(()=>{N.length>0&&N.forEach(async L=>{try{let P=await w(L.id);x(j=>({...j,[L.id]:P}))}catch(P){console.error(`Error loading progress for course ${L.id}:`,P)}})},[N]);let b=async()=>{try{m(!0);let L=await aa({limit:50}),P=[],j=[];if(e?.id)try{let[M,q]=await Promise.all([C0(e.id,"in_progress"),C0(e.id,"completed")]);P=M.map(R=>R.id),j=q.map(R=>R.id)}catch(M){console.error("Error loading user progress course lists:",M)}n(L),i(P),l(j)}catch(L){console.error("Error loading courses:",L),n([])}finally{m(!1)}},w=async L=>{try{return(await oi(L))?.overallProgress??0}catch{return 0}},N=s.length?o.filter(L=>s.includes(L.id)):o,I=c.length?o.filter(L=>c.includes(L.id)):[],C=[],S={active:N.filter(L=>L.title.toLowerCase().includes(d.toLowerCase())),completed:I.filter(L=>L.title.toLowerCase().includes(d.toLowerCase())),saved:C.filter(L=>L.title.toLowerCase().includes(d.toLowerCase()))};if(v)return(0,Ne.jsx)("div",{className:"learn-loading",children:(0,Ne.jsx)("div",{className:"learn-loading-spinner"})});let k=async(L,P)=>{P.preventDefault(),P.stopPropagation(),p(j=>({...j,[L]:!0}));try{let j=await J0(L);t(j?`/courses/${L}/learn/${j}`:`/courses/${L}`)}catch(j){console.error("Error finding next lesson:",j),t(`/courses/${L}`)}finally{p(j=>({...j,[L]:!1}))}},E=(L,P)=>{let j=P??f[L.id]??0,M=j>0;return(0,Ne.jsxs)("div",{className:"learn-course-card",children:[(0,Ne.jsx)(we,{to:`/courses/${L.id}`,className:"learn-course-card-link",children:(0,Ne.jsxs)("div",{className:"learn-course-card-content",children:[(0,Ne.jsxs)("div",{className:"learn-course-image-wrapper",children:[L.imageUrl?(0,Ne.jsx)("img",{src:L.imageUrl,alt:L.title}):(0,Ne.jsx)(ot,{className:"learn-course-image-icon"}),j>0&&(0,Ne.jsx)("div",{className:"learn-course-progress-overlay",children:(0,Ne.jsxs)("div",{className:"learn-course-progress-circle",children:[(0,Ne.jsxs)("svg",{children:[(0,Ne.jsx)("circle",{cx:"32",cy:"32",r:"28",stroke:"#E5E7EB",strokeWidth:"4",fill:"transparent"}),(0,Ne.jsx)("circle",{cx:"32",cy:"32",r:"28",stroke:"#00B5AD",strokeWidth:"4",fill:"transparent",strokeDasharray:`${2*Math.PI*28}`,strokeDashoffset:`${2*Math.PI*28*(1-j/100)}`,className:"transition-all duration-300"})]}),(0,Ne.jsx)("div",{className:"learn-course-progress-text",children:(0,Ne.jsxs)("span",{children:[Math.round(j),"%"]})})]})})]}),(0,Ne.jsxs)("div",{className:"learn-course-info",children:[(0,Ne.jsxs)("div",{className:"learn-course-header",children:[(0,Ne.jsxs)("div",{className:"learn-course-header-left",children:[(0,Ne.jsx)("span",{className:"learn-course-category",children:L.category||"Course"}),(0,Ne.jsx)("h3",{className:"learn-course-title",children:L.title})]}),j===100&&(0,Ne.jsx)(Xt,{className:"learn-course-complete-icon"})]}),(0,Ne.jsxs)("div",{className:"learn-course-meta",children:[(0,Ne.jsxs)("div",{className:"learn-course-meta-item",children:[(0,Ne.jsx)(Jt,{className:"learn-course-meta-icon learn-course-meta-icon--star"}),(0,Ne.jsx)("span",{className:"font-semibold",children:L.rating?.toFixed(1)||"4.5"})]}),(0,Ne.jsxs)("div",{className:"learn-course-meta-item",children:[(0,Ne.jsx)(xt,{className:"learn-course-meta-icon"}),(0,Ne.jsx)("span",{children:L.duration||"8 weeks"})]}),(0,Ne.jsxs)("div",{className:"learn-course-meta-item",children:[(0,Ne.jsx)(it,{className:"learn-course-meta-icon"}),(0,Ne.jsx)("span",{children:L.enrolledStudents||0})]})]}),j>0&&j<100&&(0,Ne.jsx)("div",{className:"learn-course-progress-bar",children:(0,Ne.jsx)("div",{className:"learn-course-progress-bar-bg",children:(0,Ne.jsx)("div",{className:"learn-course-progress-bar-fill",style:{width:`${j}%`}})})})]})]})}),(0,Ne.jsx)("button",{className:"learn-course-action-button",onClick:q=>k(L.id,q),disabled:y[L.id],children:y[L.id]?(0,Ne.jsx)("span",{children:"Loading..."}):j===100?(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("span",{children:"Review"}),(0,Ne.jsx)(oa,{className:"learn-course-action-button-icon"})]}):M?(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("span",{children:"Continue"}),(0,Ne.jsx)(oa,{className:"learn-course-action-button-icon"})]}):(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("span",{children:"Start"}),(0,Ne.jsx)(oa,{className:"learn-course-action-button-icon"})]})})]},L.id)};return(0,Ne.jsxs)("div",{className:"learn-page",children:[(0,Ne.jsx)("div",{className:"courses-header",children:(0,Ne.jsx)("div",{className:"courses-header-content",children:(0,Ne.jsxs)("div",{className:"courses-header-text",children:[(0,Ne.jsx)("h1",{className:"courses-header-title",children:"My Learning"}),(0,Ne.jsx)("p",{className:"courses-header-subtitle",children:"Continue your courses and track your progress"})]})})}),(0,Ne.jsxs)("div",{className:"learn-header",children:[(0,Ne.jsx)("h1",{className:"learn-title",children:"My Learning"}),(0,Ne.jsx)("p",{className:"learn-subtitle",children:"Track your progress and continue your learning journey"})]}),(0,Ne.jsxs)("div",{className:"learn-search-filter",children:[(0,Ne.jsxs)("div",{className:"learn-search-wrapper",children:[(0,Ne.jsx)(Pt,{className:"learn-search-icon"}),(0,Ne.jsx)("input",{type:"text",placeholder:"Search your courses...",value:d,onChange:L=>u(L.target.value),className:"learn-search-input"})]}),(0,Ne.jsxs)("button",{onClick:()=>h(!0),className:"learn-filters-button",children:[(0,Ne.jsx)(li,{className:"learn-filters-button-icon"}),"Filters"]})]}),(0,Ne.jsx)("div",{className:"lg:hidden mb-6",children:(0,Ne.jsx)(Au,{tabs:[{id:"active",label:"Active",content:(0,Ne.jsx)("div",{className:"space-y-4",children:S.active.length>0?S.active.map(L=>(0,Ne.jsx)("div",{children:(0,Ne.jsx)(Po,{course:L})},L.id)):(0,Ne.jsxs)("div",{className:"learn-empty-state",children:[(0,Ne.jsx)(ot,{className:"learn-empty-state-icon"}),(0,Ne.jsx)("p",{className:"learn-empty-state-title",children:"No active courses"}),(0,Ne.jsx)("p",{className:"learn-empty-state-text",children:"Start learning to see your progress here"}),(0,Ne.jsxs)(we,{to:"/discover",className:"learn-empty-state-button",children:[(0,Ne.jsx)("span",{children:"Discover Courses"}),(0,Ne.jsx)(cr,{className:"learn-empty-state-button-icon"})]})]})})},{id:"completed",label:"Completed",content:(0,Ne.jsx)("div",{className:"space-y-4",children:S.completed.length>0?S.completed.map(L=>(0,Ne.jsx)("div",{children:(0,Ne.jsx)(Po,{course:L})},L.id)):(0,Ne.jsxs)("div",{className:"learn-empty-state",children:[(0,Ne.jsx)(Xt,{className:"learn-empty-state-icon"}),(0,Ne.jsx)("p",{className:"learn-empty-state-title",children:"No completed courses yet"}),(0,Ne.jsx)("p",{className:"learn-empty-state-text",children:"Complete your first course to see it here"})]})})},{id:"saved",label:"Saved",content:(0,Ne.jsx)("div",{className:"space-y-4",children:S.saved.length>0?S.saved.map(L=>(0,Ne.jsx)("div",{children:(0,Ne.jsx)(Po,{course:L})},L.id)):(0,Ne.jsxs)("div",{className:"learn-empty-state",children:[(0,Ne.jsx)(zo,{className:"learn-empty-state-icon"}),(0,Ne.jsx)("p",{className:"learn-empty-state-title",children:"No saved courses"}),(0,Ne.jsx)("p",{className:"learn-empty-state-text",children:"Save courses to access them later"})]})})}],defaultTab:r,onTabChange:L=>a(L)})}),(0,Ne.jsxs)("div",{className:"hidden lg:block",children:[(0,Ne.jsx)("div",{className:"learn-desktop-tabs",children:[{id:"active",label:"Active",count:S.active.length},{id:"completed",label:"Completed",count:S.completed.length},{id:"saved",label:"Saved",count:S.saved.length}].map(L=>(0,Ne.jsxs)("button",{onClick:()=>a(L.id),className:`learn-tab-button ${r===L.id?"learn-tab-button--active":"learn-tab-button--inactive"}`,children:[L.label,L.count>0&&(0,Ne.jsx)("span",{className:`learn-tab-count ${r===L.id?"learn-tab-count--active":"learn-tab-count--inactive"}`,children:L.count})]},L.id))}),(0,Ne.jsxs)("div",{className:"space-y-4",children:[r==="active"&&(0,Ne.jsx)(Ne.Fragment,{children:S.active.length>0?S.active.map(L=>E(L)):(0,Ne.jsxs)("div",{className:"learn-empty-state-desktop",children:[(0,Ne.jsx)(ot,{className:"learn-empty-state-desktop-icon"}),(0,Ne.jsx)("p",{className:"learn-empty-state-desktop-title",children:"No active courses"}),(0,Ne.jsx)("p",{className:"learn-empty-state-desktop-text",children:"Start learning to see your progress here"}),(0,Ne.jsxs)(we,{to:"/discover",className:"learn-empty-state-button",children:[(0,Ne.jsx)("span",{children:"Discover Courses"}),(0,Ne.jsx)(cr,{className:"learn-empty-state-button-icon"})]})]})}),r==="completed"&&(0,Ne.jsx)(Ne.Fragment,{children:S.completed.length>0?S.completed.map(L=>E(L,100)):(0,Ne.jsxs)("div",{className:"learn-empty-state-desktop",children:[(0,Ne.jsx)(Xt,{className:"learn-empty-state-desktop-icon"}),(0,Ne.jsx)("p",{className:"learn-empty-state-desktop-title",children:"No completed courses yet"}),(0,Ne.jsx)("p",{className:"learn-empty-state-desktop-text",children:"Complete your first course to see it here"})]})}),r==="saved"&&(0,Ne.jsx)(Ne.Fragment,{children:S.saved.length>0?S.saved.map(L=>E(L)):(0,Ne.jsxs)("div",{className:"learn-empty-state-desktop",children:[(0,Ne.jsx)(zo,{className:"learn-empty-state-desktop-icon"}),(0,Ne.jsx)("p",{className:"learn-empty-state-desktop-title",children:"No saved courses"}),(0,Ne.jsx)("p",{className:"learn-empty-state-desktop-text",children:"Save courses to access them later"})]})})]})]}),(0,Ne.jsx)(kn,{isOpen:g,onClose:()=>h(!1),title:"Filter Courses",maxHeight:"70vh",children:(0,Ne.jsx)("div",{className:"p-6 space-y-4",children:(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("label",{className:"block text-sm font-semibold mb-3",style:{color:"#0B1E3F"},children:"Sort By"}),(0,Ne.jsx)("div",{className:"space-y-2",children:["Recent","Progress","Title","Rating"].map(L=>(0,Ne.jsx)("button",{className:"w-full px-4 py-3 rounded-xl font-semibold text-left transition-all duration-200",style:{backgroundColor:"rgba(0, 181, 173, 0.1)",color:"#0B1E3F"},children:L},L))})]})})})]})};var _s=H(he());Rt();var LU=H(he()),Z0=H(se());var yL=({items:e,selected:t,onSelect:r})=>(0,Z0.jsx)("div",{className:"flex space-x-3 overflow-x-auto pb-2 scrollbar-hide",children:e.map(a=>{let o=t===a.id;return(0,Z0.jsx)("button",{onClick:()=>r?.(a.id),className:"px-4 py-2 rounded-full font-semibold text-sm whitespace-nowrap transition-all duration-200 flex-shrink-0",style:{backgroundColor:o?"#00B5AD":"rgba(0, 181, 173, 0.1)",color:o?"white":"#0B1E3F",boxShadow:o?"0 2px 8px rgba(0, 181, 173, 0.3)":"none"},children:a.label},a.id)})});var be=H(se()),xL=()=>{let{user:e}=Ge(),t=lr(),[r,a]=(0,_s.useState)([]),[o,n]=(0,_s.useState)([]),[s,i]=(0,_s.useState)(""),[c,l]=(0,_s.useState)("all"),[d,u]=(0,_s.useState)("all"),[g,h]=(0,_s.useState)(!1),[v,m]=(0,_s.useState)(!0);(0,_s.useEffect)(()=>{let N=new URLSearchParams(t.search),I=N.get("category"),C=N.get("search");I&&l(I),C&&i(C),y(),p()},[t.search]);let y=async()=>{try{m(!0);let N=await aa({limit:50});a(N)}catch(N){console.error("Error loading courses:",N),a([])}finally{m(!1)}},p=async()=>{try{let N=await km(),I=await aa({limit:100}),S=N.map(k=>{let E=I.filter(D=>D.teacherId===k.id||D.teacher?.id===k.id),L=E.reduce((D,A)=>D+(A.enrolledStudents||0),0),P=E.map(D=>D.rating||0).filter(D=>D>0),j=P.length>0?P.reduce((D,A)=>D+A,0)/P.length:0,M=E.map(D=>D.category).filter(D=>D),q={};M.forEach(D=>{q[D]=(q[D]||0)+1});let R=Object.keys(q).length>0?Object.keys(q).reduce((D,A)=>q[D]>q[A]?D:A):"Instructor";return{id:k.id,name:k.name,specialty:R,students:L,rating:Math.round(j*10)/10,avatar:k.avatar||null}}).sort((k,E)=>{let L=k.students*.7+k.rating*100*.3;return E.students*.7+E.rating*100*.3-L}).slice(0,3);n(S)}catch(N){console.error("Error loading featured instructors:",N),n([])}},f=[{id:"all",label:"All Categories"},{id:"web-dev",label:"Web Development"},{id:"design",label:"Design"},{id:"business",label:"Business"},{id:"marketing",label:"Marketing"},{id:"photography",label:"Photography"},{id:"music",label:"Music"}],x=[{id:"all",name:"All Levels"},{id:"BEGINNER",name:"Beginner"},{id:"INTERMEDIATE",name:"Intermediate"},{id:"ADVANCED",name:"Advanced"}],b=r.filter(N=>{let I=N.title.toLowerCase().includes(s.toLowerCase())||N.description?.toLowerCase().includes(s.toLowerCase()),C=c==="all"||N.category?.toLowerCase()===c.toLowerCase(),S=d==="all"||N.level===d;return I&&C&&S}),w=r.sort((N,I)=>(I.enrolledStudents||0)-(N.enrolledStudents||0)).slice(0,6);return v?(0,be.jsx)("div",{className:"discover-loading",children:(0,be.jsx)("div",{className:"discover-loading-spinner"})}):(0,be.jsxs)("div",{className:"discover-page",children:[(0,be.jsx)("div",{className:"courses-header",children:(0,be.jsx)("div",{className:"courses-header-content",children:(0,be.jsxs)("div",{className:"courses-header-text",children:[(0,be.jsx)("h1",{className:"courses-header-title",children:"Discover Courses"}),(0,be.jsx)("p",{className:"courses-header-subtitle",children:"Explore amazing courses and find your next learning adventure"})]})})}),(0,be.jsx)("div",{className:"discover-search-bar",children:(0,be.jsxs)("div",{className:"discover-search-content",children:[(0,be.jsxs)("div",{className:"discover-search-wrapper",children:[(0,be.jsx)(Pt,{className:"discover-search-icon"}),(0,be.jsx)("input",{type:"text",placeholder:"Search lessons, instructors, topics...",value:s,onChange:N=>i(N.target.value),className:"discover-search-input"})]}),(0,be.jsxs)("button",{onClick:()=>h(!0),className:"discover-filters-button",children:[(0,be.jsx)(li,{className:"discover-filters-button-icon"}),"Filters"]})]})}),(0,be.jsx)("div",{className:"mb-6 lg:mb-8",children:(0,be.jsx)(yL,{items:f,selected:c,onSelect:l})}),s===""&&(0,be.jsxs)("div",{className:"discover-section",children:[(0,be.jsx)("div",{className:"discover-section-header",children:(0,be.jsxs)("div",{className:"discover-section-title-wrapper",children:[(0,be.jsx)(Cr,{className:"discover-section-icon"}),(0,be.jsx)("h2",{className:"discover-section-title",children:"Trending Now"})]})}),(0,be.jsx)("div",{className:"discover-trending-mobile",children:(0,be.jsx)("div",{className:"discover-trending-mobile-list",children:w.map(N=>(0,be.jsx)("div",{className:"discover-trending-mobile-item",children:(0,be.jsx)(Po,{course:N})},N.id))})}),(0,be.jsx)("div",{className:"discover-trending-desktop",children:w.map(N=>(0,be.jsxs)(we,{to:`/courses/${N.id}`,className:"discover-course-card",children:[(0,be.jsxs)("div",{className:"discover-course-image",children:[N.imageUrl?(0,be.jsx)("img",{src:N.imageUrl,alt:N.title}):(0,be.jsx)(ot,{className:"discover-course-image-icon"}),(0,be.jsxs)("div",{className:"discover-course-trending-badge",children:[(0,be.jsx)(Cr,{className:"discover-course-trending-icon"}),(0,be.jsx)("span",{className:"discover-course-trending-text",children:"Trending"})]})]}),(0,be.jsxs)("div",{className:"discover-course-content",children:[(0,be.jsx)("span",{className:"discover-course-category",children:N.category||"Course"}),(0,be.jsx)("h3",{className:"discover-course-title",children:N.title}),(0,be.jsxs)("div",{className:"discover-course-meta",children:[(0,be.jsxs)("div",{className:"discover-course-meta-item",children:[(0,be.jsx)(Jt,{className:"discover-course-meta-icon discover-course-meta-icon--star"}),(0,be.jsx)("span",{className:"font-semibold",children:N.rating?.toFixed(1)||"4.5"})]}),(0,be.jsxs)("div",{className:"discover-course-meta-item",children:[(0,be.jsx)(it,{className:"discover-course-meta-icon"}),(0,be.jsx)("span",{children:(N.enrolledStudents||0).toLocaleString()})]})]}),N.price===0||!N.isPaid?(0,be.jsx)("span",{className:"discover-course-price discover-course-price--free",children:"Free"}):(0,be.jsxs)("span",{className:"discover-course-price discover-course-price--paid",children:["$",N.price]})]})]},N.id))})]}),s===""&&o.length>0&&(0,be.jsxs)("div",{className:"mb-6 lg:mb-8",children:[(0,be.jsx)("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:(0,be.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,be.jsx)(vn,{className:"h-6 w-6",style:{color:"#9A8CFF"}}),(0,be.jsx)("h2",{className:"text-xl lg:text-2xl font-bold",style:{color:"#0B1E3F"},children:"Featured Instructors"})]})}),(0,be.jsx)("div",{className:"lg:hidden overflow-x-auto pb-4 scrollbar-hide",children:(0,be.jsx)("div",{className:"flex space-x-4",style:{width:"max-content"},children:o.map(N=>(0,be.jsxs)("div",{className:"w-64 p-5 rounded-2xl border-2 flex-shrink-0",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:[(0,be.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,be.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold",style:{background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 100%)"},children:N.avatar?(0,be.jsx)("img",{src:N.avatar,alt:N.name,className:"w-full h-full object-cover rounded-xl"}):(0,be.jsx)("span",{children:N.name.charAt(0)})}),(0,be.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,be.jsx)("h3",{className:"font-bold truncate",style:{color:"#0B1E3F"},children:N.name}),(0,be.jsx)("p",{className:"text-xs truncate",style:{color:"#6F73D2"},children:N.specialty})]})]}),(0,be.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,be.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,be.jsx)(Jt,{className:"h-3 w-3 fill-current",style:{color:"#F59E0B"}}),(0,be.jsx)("span",{className:"font-semibold",style:{color:"#0B1E3F"},children:N.rating.toFixed(1)})]}),(0,be.jsxs)("span",{style:{color:"#6F73D2"},children:[N.students.toLocaleString()," students"]})]})]},N.id))})}),(0,be.jsx)("div",{className:"hidden lg:grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(N=>(0,be.jsxs)("div",{className:"p-6 rounded-2xl border-2 transition-all duration-200 hover:shadow-lg hover:-translate-y-1",style:{backgroundColor:"white",borderColor:"#E5E7EB"},onMouseEnter:I=>{I.currentTarget.style.borderColor="#9A8CFF"},onMouseLeave:I=>{I.currentTarget.style.borderColor="#E5E7EB"},children:[(0,be.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,be.jsx)("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center text-white font-bold text-xl",style:{background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 100%)"},children:N.avatar?(0,be.jsx)("img",{src:N.avatar,alt:N.name,className:"w-full h-full object-cover rounded-2xl"}):(0,be.jsx)("span",{children:N.name.charAt(0)})}),(0,be.jsxs)("div",{className:"flex-1",children:[(0,be.jsx)("h3",{className:"text-lg font-bold mb-1",style:{color:"#0B1E3F"},children:N.name}),(0,be.jsx)("p",{className:"text-sm",style:{color:"#6F73D2"},children:N.specialty})]})]}),(0,be.jsxs)("div",{className:"flex items-center justify-between",children:[(0,be.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,be.jsx)(Jt,{className:"h-4 w-4 fill-current",style:{color:"#F59E0B"}}),(0,be.jsx)("span",{className:"font-semibold",style:{color:"#0B1E3F"},children:N.rating.toFixed(1)})]}),(0,be.jsxs)("span",{className:"text-sm",style:{color:"#6F73D2"},children:[N.students.toLocaleString()," students"]})]})]},N.id))})]}),(0,be.jsxs)("div",{className:"mb-6 lg:mb-8",children:[(0,be.jsx)("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:(0,be.jsx)("h2",{className:"text-xl lg:text-2xl font-bold",style:{color:"#0B1E3F"},children:s?`Search Results (${b.length})`:"All Courses"})}),b.length>0?(0,be.jsxs)(be.Fragment,{children:[(0,be.jsx)("div",{className:"lg:hidden space-y-4",children:b.map(N=>(0,be.jsx)(Po,{course:N},N.id))}),(0,be.jsx)("div",{className:"hidden lg:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(N=>(0,be.jsxs)(we,{to:`/courses/${N.id}`,className:"group rounded-[20px] border-2 overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1",style:{backgroundColor:"white",borderColor:"#E5E7EB"},onMouseEnter:I=>{I.currentTarget.style.borderColor="#00B5AD"},onMouseLeave:I=>{I.currentTarget.style.borderColor="#E5E7EB"},children:[(0,be.jsxs)("div",{className:"h-48 bg-gray-200 flex items-center justify-center relative overflow-hidden",children:[N.imageUrl?(0,be.jsx)("img",{src:N.imageUrl,alt:N.title,className:"w-full h-full object-cover"}):(0,be.jsx)(ot,{className:"h-16 w-16",style:{color:"#00B5AD"}}),(0,be.jsx)("div",{className:"absolute top-3 left-3",children:(0,be.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold text-white",style:{backgroundColor:"#00B5AD"},children:N.category||"Course"})})]}),(0,be.jsxs)("div",{className:"p-5",children:[(0,be.jsx)("h3",{className:"text-lg font-bold mb-2 line-clamp-2",style:{color:"#0B1E3F"},children:N.title}),(0,be.jsxs)("div",{className:"flex items-center space-x-4 text-sm mb-3",style:{color:"#6F73D2"},children:[(0,be.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,be.jsx)(Jt,{className:"h-4 w-4 fill-current",style:{color:"#F59E0B"}}),(0,be.jsx)("span",{className:"font-semibold",children:N.rating?.toFixed(1)||"4.5"})]}),(0,be.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,be.jsx)(it,{className:"h-4 w-4"}),(0,be.jsx)("span",{children:(N.enrolledStudents||0).toLocaleString()})]}),(0,be.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,be.jsx)(xt,{className:"h-4 w-4"}),(0,be.jsx)("span",{children:N.duration||"8 weeks"})]})]}),(0,be.jsxs)("div",{className:"flex items-center justify-between",children:[N.price===0||!N.isPaid?(0,be.jsx)("span",{className:"text-lg font-bold",style:{color:"#00B5AD"},children:"Free"}):(0,be.jsxs)("span",{className:"text-lg font-bold",style:{color:"#0B1E3F"},children:["$",N.price]}),(0,be.jsx)(cr,{className:"h-5 w-5",style:{color:"#00B5AD"}})]})]})]},N.id))})]}):(0,be.jsxs)("div",{className:"text-center py-16 rounded-2xl border-2",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:[(0,be.jsx)(Pt,{className:"h-16 w-16 mx-auto mb-4",style:{color:"#6F73D2",opacity:.5}}),(0,be.jsx)("p",{className:"text-xl font-bold mb-2",style:{color:"#0B1E3F"},children:"No courses found"}),(0,be.jsx)("p",{className:"text-sm",style:{color:"#6F73D2"},children:"Try adjusting your search or filters"})]})]}),(0,be.jsx)(kn,{isOpen:g,onClose:()=>h(!1),title:"Filter Courses",maxHeight:"80vh",children:(0,be.jsxs)("div",{className:"p-6 space-y-6",children:[(0,be.jsxs)("div",{children:[(0,be.jsx)("label",{className:"block text-sm font-semibold mb-3",style:{color:"#0B1E3F"},children:"Level"}),(0,be.jsx)("div",{className:"space-y-2",children:x.map(N=>(0,be.jsx)("button",{onClick:()=>u(N.id),className:`w-full px-4 py-3 rounded-xl font-semibold text-left transition-all duration-200 ${d===N.id?"text-white":""}`,style:{backgroundColor:d===N.id?"#00B5AD":"rgba(0, 181, 173, 0.1)",color:d===N.id?"white":"#0B1E3F"},children:N.name},N.id))})]}),(0,be.jsxs)("div",{children:[(0,be.jsx)("label",{className:"block text-sm font-semibold mb-3",style:{color:"#0B1E3F"},children:"Price"}),(0,be.jsx)("div",{className:"space-y-2",children:["All","Free","Paid"].map(N=>(0,be.jsx)("button",{className:"w-full px-4 py-3 rounded-xl font-semibold text-left transition-all duration-200",style:{backgroundColor:"rgba(0, 181, 173, 0.1)",color:"#0B1E3F"},children:N},N))})]}),(0,be.jsxs)("div",{className:"flex space-x-3 pt-4 border-t",style:{borderColor:"#E5E7EB"},children:[(0,be.jsx)("button",{onClick:()=>{l("all"),u("all"),h(!1)},className:"flex-1 px-6 py-3 rounded-xl font-semibold border-2 transition-all duration-200",style:{borderColor:"#E5E7EB",color:"#0B1E3F",backgroundColor:"white"},children:"Clear All"}),(0,be.jsx)("button",{onClick:()=>h(!1),className:"flex-1 px-6 py-3 rounded-xl font-semibold text-white transition-all duration-300",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:"Apply Filters"})]})]})})]})};var wc=H(he());Rt();var ut=H(se()),bL=()=>{let e=lr(),t=ht(),{user:r}=Ge(),a=r?.role==="TEACHER",[o,n]=(0,wc.useState)(""),[s,i]=(0,wc.useState)({courses:[],lessons:[],assignments:[],quizzes:[],instructors:[],students:[],announcements:[],files:[],events:[]}),[c,l]=(0,wc.useState)(!1),[d,u]=(0,wc.useState)(!1);(0,wc.useEffect)(()=>{let p=new URLSearchParams(e.search),f=p.get("q")||p.get("search")||"";f&&(n(f),g(f))},[e.search]);let g=async p=>{if(!p.trim()){i({courses:[],lessons:[],assignments:[],quizzes:[],instructors:[],students:[],announcements:[],files:[],events:[]}),u(!1);return}l(!0),u(!0);let f=p.toLowerCase(),x={courses:[],lessons:[],assignments:[],quizzes:[],instructors:[],students:[],announcements:[],files:[],events:[]};try{try{let b=a?await ca():await aa();x.courses=b.filter(w=>w.title.toLowerCase().includes(f)||w.description?.toLowerCase().includes(f)||w.teacher?.name?.toLowerCase().includes(f)).map(w=>({id:w.id,type:"course",title:w.title,subtitle:w.teacher?.name||"Instructor",icon:(0,ut.jsx)(ot,{className:"w-5 h-5"}),courseId:w.id}))}catch(b){console.error("Error searching courses:",b)}try{let w=(a?await ca():await aa()).slice(0,10).map(C=>Em(Number(C.id)).catch(()=>[])),I=(await Promise.all(w)).flat();x.lessons=I.filter(C=>C.title?.toLowerCase().includes(f)||C.content?.toLowerCase().includes(f)).map(C=>({id:C.id?.toString()||"",type:"lesson",title:C.title||"Untitled Lesson",subtitle:"Lesson",icon:(0,ut.jsx)(or,{className:"w-5 h-5"}),courseId:C.courseId?.toString(),metadata:{lesson:C}}))}catch(b){console.error("Error searching lessons:",b)}try{let w=(a?await ca():await aa()).slice(0,10).map(C=>Cm(C.id).catch(()=>[])),I=(await Promise.all(w)).flat();x.assignments=I.filter(C=>C.title?.toLowerCase().includes(f)||C.description?.toLowerCase().includes(f)).map(C=>({id:C.id?.toString()||"",type:"assignment",title:C.title||"Untitled Assignment",subtitle:"Assignment",icon:(0,ut.jsx)(sl,{className:"w-5 h-5"}),courseId:C.courseId?.toString(),metadata:{assignment:C}}))}catch(b){console.error("Error searching assignments:",b)}try{let b=a?await Ql():await Kl();x.quizzes=b.filter(w=>w.title?.toLowerCase().includes(f)||w.description?.toLowerCase().includes(f)).map(w=>({id:w.id?.toString()||"",type:"quiz",title:w.title||"Untitled Quiz",subtitle:"Quiz",icon:(0,ut.jsx)(No,{className:"w-5 h-5"}),courseId:w.courseId?.toString(),metadata:{quiz:w}}))}catch(b){console.error("Error searching quizzes:",b)}try{let b=await aa(),w=new Map;b.forEach(N=>{if(N.teacher?.name?.toLowerCase().includes(f)){let I=N.teacher.id||N.teacher.name;w.has(I)||w.set(I,{id:`instructor-${N.teacher.id}`,type:"instructor",title:N.teacher.name||"Unknown",subtitle:"Instructor",icon:(0,ut.jsx)(it,{className:"w-5 h-5"})})}}),x.instructors=Array.from(w.values())}catch(b){console.error("Error searching instructors:",b)}if(a)try{let b=await Qn();x.students=b.filter(w=>w.name?.toLowerCase().includes(f)||w.email?.toLowerCase().includes(f)).map(w=>({id:w.id?.toString()||"",type:"student",title:w.name||w.email||"Unknown",subtitle:"Student",icon:(0,ut.jsx)(it,{className:"w-5 h-5"}),metadata:{student:w}}))}catch(b){console.error("Error searching students:",b)}try{let b=await Gl();x.announcements=b.filter(w=>w.title?.toLowerCase().includes(f)||w.content?.toLowerCase().includes(f)).map(w=>({id:w.id?.toString()||"",type:"announcement",title:w.title||"Untitled Announcement",subtitle:"Announcement",icon:(0,ut.jsx)(yr,{className:"w-5 h-5"}),courseId:w.courseId?.toString(),metadata:{announcement:w}}))}catch(b){console.error("Error searching announcements:",b)}try{let b=await ai();x.files=b.filter(w=>w.name?.toLowerCase().includes(f)||w.filename?.toLowerCase().includes(f)).map(w=>({id:w.id?.toString()||"",type:"file",title:w.name||w.filename||"Untitled File",subtitle:w.type||"File",icon:(0,ut.jsx)(jt,{className:"w-5 h-5"}),courseId:w.courseId?.toString(),metadata:{file:w}}))}catch(b){console.error("Error searching files:",b)}try{let b=await Yl();x.events=b.filter(w=>w.title?.toLowerCase().includes(f)||w.description?.toLowerCase().includes(f)).map(w=>({id:w.id?.toString()||"",type:"event",title:w.title||"Untitled Event",subtitle:w.start?new Date(w.start).toLocaleDateString():"Event",icon:(0,ut.jsx)(Kt,{className:"w-5 h-5"}),metadata:{event:w}}))}catch(b){console.error("Error searching events:",b)}i(x)}catch(b){console.error("Error performing search:",b)}finally{l(!1)}},h=p=>{p.preventDefault(),o.trim()&&(t(`/search?q=${encodeURIComponent(o)}`),g(o))},v=p=>{p.type==="course"?t(`/courses/${p.id}`):p.type==="lesson"?p.courseId&&t(`/courses/${p.courseId}?lessonId=${p.id}`):p.type==="assignment"?p.courseId&&t(`/courses/${p.courseId}?assignmentId=${p.id}`):p.type==="quiz"?p.courseId&&t(`/courses/${p.courseId}?quizId=${p.id}`):p.type==="instructor"?t(`/discover?instructor=${encodeURIComponent(p.title)}`):p.type==="student"?a&&t(`/students/progress?studentId=${p.id}`):p.type==="announcement"?p.courseId&&t(`/courses/${p.courseId}/announcements`):p.type==="file"?p.courseId&&t(`/courses/${p.courseId}?fileId=${p.id}`):p.type==="event"&&t(`/calendar?eventId=${p.id}`)},m=Object.values(s).reduce((p,f)=>p+f.length,0),y=({title:p,results:f,icon:x})=>f.length===0?null:(0,ut.jsxs)("div",{className:"mb-8",children:[(0,ut.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[x,(0,ut.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[p," (",f.length,")"]})]}),(0,ut.jsx)("div",{className:"space-y-2",children:f.map((b,w)=>(0,ut.jsx)("button",{onClick:()=>v(b),className:"w-full p-4 rounded-lg border-2 border-gray-200 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200 text-left group",children:(0,ut.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ut.jsx)("div",{className:"flex-shrink-0 text-gray-400 dark:text-gray-500 group-hover:text-blue-600 dark:group-hover:text-blue-400",children:b.icon}),(0,ut.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ut.jsx)("div",{className:"text-base font-medium text-gray-900 dark:text-white truncate",children:b.title}),b.subtitle&&(0,ut.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:b.subtitle})]}),(0,ut.jsx)(cr,{className:"w-5 h-5 text-gray-400 dark:text-gray-500 group-hover:text-blue-600 dark:group-hover:text-blue-400 flex-shrink-0"})]})},`${b.type}-${b.id}-${w}`))})]});return(0,ut.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,ut.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ut.jsx)("form",{onSubmit:h,className:"mb-8",children:(0,ut.jsxs)("div",{className:"relative",children:[(0,ut.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,ut.jsx)(Pt,{className:"h-5 w-5 text-gray-400"})}),(0,ut.jsx)("input",{type:"text",value:o,onChange:p=>n(p.target.value),placeholder:"Search everything...",className:"w-full pl-12 pr-12 py-4 text-base border-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"}),o&&(0,ut.jsx)("button",{type:"button",onClick:()=>{n(""),t("/search")},className:"absolute inset-y-0 right-0 pr-4 flex items-center hover:bg-gray-100 dark:hover:bg-gray-700 rounded-r-xl transition-colors",children:(0,ut.jsx)(et,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})})]})}),c&&(0,ut.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,ut.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),!c&&d&&(0,ut.jsx)(ut.Fragment,{children:m>0?(0,ut.jsxs)(ut.Fragment,{children:[(0,ut.jsxs)("div",{className:"mb-6",children:[(0,ut.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:['Search Results for "',o,'"']}),(0,ut.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Found ",m," result",m!==1?"s":""]})]}),(0,ut.jsx)(y,{title:"Courses",results:s.courses,icon:(0,ut.jsx)(ot,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,ut.jsx)(y,{title:"Lessons",results:s.lessons,icon:(0,ut.jsx)(or,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,ut.jsx)(y,{title:"Assignments",results:s.assignments,icon:(0,ut.jsx)(sl,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,ut.jsx)(y,{title:"Quizzes",results:s.quizzes,icon:(0,ut.jsx)(No,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),(0,ut.jsx)(y,{title:"Instructors",results:s.instructors,icon:(0,ut.jsx)(it,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),a&&(0,ut.jsx)(y,{title:"Students",results:s.students,icon:(0,ut.jsx)(it,{className:"w-6 h-6 text-pink-600 dark:text-pink-400"})}),(0,ut.jsx)(y,{title:"Announcements",results:s.announcements,icon:(0,ut.jsx)(yr,{className:"w-6 h-6 text-cyan-600 dark:text-cyan-400"})}),(0,ut.jsx)(y,{title:"Files",results:s.files,icon:(0,ut.jsx)(jt,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),(0,ut.jsx)(y,{title:"Events",results:s.events,icon:(0,ut.jsx)(Kt,{className:"w-6 h-6 text-red-600 dark:text-red-400"})})]}):(0,ut.jsxs)("div",{className:"text-center py-16",children:[(0,ut.jsx)(Pt,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),(0,ut.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No results found"}),(0,ut.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search terms or browse our courses"})]})}),!c&&!d&&(0,ut.jsxs)("div",{className:"text-center py-16",children:[(0,ut.jsx)(Pt,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),(0,ut.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Start searching"}),(0,ut.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Enter a search term to find courses, lessons, assignments, and more"})]})]})})};var mr=H(he());Rt();var iv=H(he()),ZA=H(JA());Rt();var Kp=H(se()),dk=({value:e,onChange:t,placeholder:r="Start typing...",height:a="200px"})=>{let o=(0,iv.useRef)(null);return(0,iv.useEffect)(()=>{if(o.current){let c=o.current.getEditor();if(c){let l=c.container;if(l){l.style.pointerEvents="auto",l.style.cursor="text";let d=l.querySelector(".ql-editor");d&&(d.style.pointerEvents="auto",d.style.cursor="text",d.setAttribute("contenteditable","true"))}}}},[e]),(0,Kp.jsxs)("div",{style:{height:a,position:"relative",zIndex:200,pointerEvents:"auto"},onMouseDown:c=>c.stopPropagation(),onClick:c=>c.stopPropagation(),children:[(0,Kp.jsx)(ZA.default,{ref:o,theme:"snow",value:e,onChange:t,modules:{toolbar:{container:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],[{align:[]}],["link","image","video"],["clean"]],handlers:{image:async()=>{let c=document.createElement("input");c.setAttribute("type","file"),c.setAttribute("accept","image/*"),c.click(),c.onchange=async()=>{let l=c.files?.[0];if(l)try{let d=await vt.uploadFile(l,"course-content",{}),u=o.current?.getEditor();if(!u)return;let g=u.getSelection(!0);u.insertEmbed(g.index,"image",d.url),u.setSelection(g.index+1)}catch(d){console.error("Error uploading image:",d),alert("Failed to upload image. Please try again.")}}}}},clipboard:{matchVisual:!1}},formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","color","background","align","link","image","video"],placeholder:r,style:{height:`calc(${a} - 42px)`,backgroundColor:"white",pointerEvents:"auto"}}),(0,Kp.jsx)("style",{children:`
        .ql-container {
          font-size: 16px;
          color: #0B1E3F;
          pointer-events: auto !important;
          position: relative !important;
        }
        .ql-editor {
          min-height: 150px;
          pointer-events: auto !important;
          cursor: text !important;
        }
        .ql-editor:focus {
          outline: none;
        }
        .ql-editor.ql-blank::before {
          color: #9CA3AF;
          font-style: normal;
        }
        .ql-toolbar {
          border-top-left-radius: 12px;
          border-top-right-radius: 12px;
          border-color: #E5E7EB;
          pointer-events: auto !important;
          z-index: 200 !important;
        }
        .ql-container {
          border-bottom-left-radius: 12px;
          border-bottom-right-radius: 12px;
          border-color: #E5E7EB;
        }
        .ql-toolbar .ql-stroke {
          stroke: #6F73D2;
        }
        .ql-toolbar .ql-fill {
          fill: #6F73D2;
        }
        .ql-toolbar button:hover,
        .ql-toolbar button.ql-active {
          color: #00B5AD;
        }
        .ql-toolbar button:hover .ql-stroke,
        .ql-toolbar button.ql-active .ql-stroke {
          stroke: #00B5AD;
        }
        .ql-toolbar button:hover .ql-fill,
        .ql-toolbar button.ql-active .ql-fill {
          fill: #00B5AD;
        }
        .ql-toolbar button {
          pointer-events: auto !important;
        }
        .ql-snow .ql-picker {
          pointer-events: auto !important;
          z-index: 300 !important;
        }
        .ql-snow .ql-picker-options {
          z-index: 300 !important;
        }
        .ql-snow .ql-picker-label {
          pointer-events: auto !important;
        }
      `})]})};var Bu=H(he()),Ja=()=>{let e=(0,Bu.useCallback)(n=>{typeof window<"u"&&window.addNotification?window.addNotification(n):(console.warn("Notification system not available, using alert fallback"),alert(`${n.title}: ${n.message}`))},[]),t=(0,Bu.useCallback)((n,s,i)=>{e({type:"success",title:n,message:s,duration:i})},[e]),r=(0,Bu.useCallback)((n,s,i)=>{e({type:"error",title:n,message:s,duration:i||7e3})},[e]),a=(0,Bu.useCallback)((n,s,i)=>{e({type:"info",title:n,message:s,duration:i})},[e]),o=(0,Bu.useCallback)((n,s,i)=>{e({type:"warning",title:n,message:s,duration:i})},[e]);return{showNotification:e,showSuccess:t,showError:r,showInfo:a,showWarning:o}};var uo=H(se()),eP=({isOpen:e,title:t,message:r,confirmText:a="Confirm",cancelText:o="Cancel",onConfirm:n,onCancel:s,type:i="danger"})=>{if(!e)return null;let l=(()=>{switch(i){case"danger":return{confirmBg:"#DC2626",confirmHover:"#B91C1C",border:"rgba(220, 38, 38, 0.2)",bg:"rgba(220, 38, 38, 0.05)"};case"warning":return{confirmBg:"#F59E0B",confirmHover:"#D97706",border:"rgba(245, 158, 11, 0.2)",bg:"rgba(245, 158, 11, 0.05)"};default:return{confirmBg:"#00B5AD",confirmHover:"#00968d",border:"rgba(0, 181, 173, 0.2)",bg:"rgba(0, 181, 173, 0.05)"}}})();return(0,uo.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(11, 30, 63, 0.5)",backdropFilter:"blur(4px)"},onClick:s,children:(0,uo.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl border-2 max-w-md w-full p-6",style:{borderColor:l.border,backgroundColor:"white",boxShadow:"0 20px 60px rgba(11, 30, 63, 0.3)"},onClick:d=>d.stopPropagation(),children:[(0,uo.jsxs)("div",{className:"flex items-start space-x-4 mb-6",children:[(0,uo.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:l.bg},children:(0,uo.jsx)(Pm,{className:"w-6 h-6",style:{color:l.confirmBg}})}),(0,uo.jsxs)("div",{className:"flex-1",children:[(0,uo.jsx)("h3",{className:"text-xl font-bold mb-2",style:{color:"#0B1E3F"},children:t}),(0,uo.jsx)("p",{className:"text-sm",style:{color:"#6F73D2"},children:r})]}),(0,uo.jsx)("button",{onClick:s,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors flex-shrink-0",style:{color:"#6F73D2"},children:(0,uo.jsx)(et,{className:"w-5 h-5"})})]}),(0,uo.jsxs)("div",{className:"flex space-x-3",children:[(0,uo.jsx)("button",{onClick:s,className:"flex-1 px-6 py-3 rounded-xl font-semibold text-sm transition-all duration-200 border-2",style:{borderColor:"#E5E7EB",color:"#0B1E3F",backgroundColor:"white"},onMouseEnter:d=>{d.currentTarget.style.backgroundColor="#F4F7FA"},onMouseLeave:d=>{d.currentTarget.style.backgroundColor="white"},children:o}),(0,uo.jsx)("button",{onClick:n,className:"flex-1 px-6 py-3 rounded-xl font-semibold text-sm text-white transition-all duration-200",style:{backgroundColor:l.confirmBg,boxShadow:`0 4px 14px ${l.confirmBg}40`},onMouseEnter:d=>{d.currentTarget.style.backgroundColor=l.confirmHover},onMouseLeave:d=>{d.currentTarget.style.backgroundColor=l.confirmBg},children:a})]})]})})};var Zo=H(he()),tP=({data:e,onSave:t,interval:r=3e4,storageKey:a,enabled:o=!0,debounceMs:n=1e3})=>{let s=(0,Zo.useRef)(null),i=(0,Zo.useRef)(null),c=(0,Zo.useRef)(null),l=(0,Zo.useRef)(!1),d=(0,Zo.useCallback)(async()=>{if(!(l.current||!o)&&JSON.stringify(e)!==JSON.stringify(s.current))try{if(l.current=!0,a)try{localStorage.setItem(a,JSON.stringify({data:e,timestamp:new Date().toISOString()}))}catch(v){console.error("Error saving to localStorage:",v)}await t(e),s.current=JSON.parse(JSON.stringify(e))}catch(v){console.error("Auto-save error:",v)}finally{l.current=!1}},[e,t,a,o]);(0,Zo.useEffect)(()=>{if(o)return i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{d()},n),()=>{i.current&&clearTimeout(i.current)}},[e,n,o,d]),(0,Zo.useEffect)(()=>{if(o)return c.current=setInterval(()=>{d()},r),()=>{c.current&&clearInterval(c.current)}},[r,o,d]);let u=(0,Zo.useCallback)(()=>{if(!a)return null;try{let v=localStorage.getItem(a);if(v)return JSON.parse(v).data}catch(v){console.error("Error loading draft:",v)}return null},[a]),g=(0,Zo.useCallback)(()=>{a&&localStorage.removeItem(a),s.current=null},[a]),h=(0,Zo.useCallback)(async()=>{await d()},[d]);return{loadDraft:u,clearDraft:g,manualSave:h,isSaving:l.current}};var js=H(he()),rP=()=>{let[e,t]=(0,js.useState)([]),[r,a]=(0,js.useState)(!1),o=(0,js.useRef)(50),n=(0,js.useCallback)(l=>{let d={...l,id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:new Date};t(u=>[d,...u].slice(0,o.current)),a(!0)},[]),s=(0,js.useCallback)(async()=>{if(e.length===0)return;let l=e[0];try{await l.undo(),t(d=>d.slice(1)),a(e.length>1)}catch(d){throw console.error("Error undoing action:",d),d}},[e]),i=(0,js.useCallback)(()=>{t([]),a(!1)},[]),c=(0,js.useCallback)(()=>e.length>0?e[0]:null,[e]);return{addAction:n,undo:s,clearHistory:i,getLastAction:c,canUndo:r,historyLength:e.length}};var $=H(se()),aP=()=>{let{user:e}=Ge(),t=ht(),r=lr(),a=e?.role==="TEACHER",[o,n]=(0,mr.useState)([]),[s,i]=(0,mr.useState)([]),[c,l]=(0,mr.useState)(""),[d,u]=(0,mr.useState)({level:"",price:"",category:"",status:""}),[g,h]=(0,mr.useState)("grid"),[v,m]=(0,mr.useState)(!0),[y,p]=(0,mr.useState)(!1),[f,x]=(0,mr.useState)(!1),[b,w]=(0,mr.useState)(!1),[N,I]=(0,mr.useState)({title:"",description:"",category:"",level:"",duration:"",status:"draft",imageUrl:"",imageFile:null}),[C,S]=(0,mr.useState)(!1),k=(0,mr.useRef)(null),[E,L]=(0,mr.useState)(null),[P,j]=(0,mr.useState)(null),[M,q]=(0,mr.useState)(!1),[R,D]=(0,mr.useState)(null),[A,B]=(0,mr.useState)(!1),[F,T]=(0,mr.useState)(null),[U,O]=(0,mr.useState)({subject:"",content:""}),[z,X]=(0,mr.useState)(null),[J,K]=(0,mr.useState)(new Set),[ue,ve]=(0,mr.useState)(!1),[tt,qe]=(0,mr.useState)(!1),[pe,re]=(0,mr.useState)(!1),{showSuccess:Te,showError:ne}=Ja(),{addAction:de,undo:Re,canUndo:Be,getLastAction:xe}=rP(),Et=e?.id?`course-draft:${e.id}`:void 0,{loadDraft:ft,clearDraft:Lt}=tP({data:N,onSave:async W=>{re(!0),setTimeout(()=>re(!1),3e3)},interval:3e4,storageKey:y?Et:void 0,enabled:y&&(N.title.trim().length>0||N.description.trim().length>0),debounceMs:2e3});(0,mr.useEffect)(()=>{if(y){console.log("Create course modal opened, showCreateModal =",y);let W=ft();W?(console.log("Draft found, restoring...",W),I(W)):console.log("No draft found, starting fresh")}else Lt()},[y]),(0,mr.useEffect)(()=>{ze()},[]),(0,mr.useEffect)(()=>{Le()},[o,c,d]),(0,mr.useEffect)(()=>{new URLSearchParams(r.search).get("create")==="true"&&a&&(p(!0),t("/courses",{replace:!0}))},[r.search,a,t]),(0,mr.useEffect)(()=>{let W=ye=>{E&&!ye.target.closest(".course-menu-container")&&L(null)};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[E]);let ze=async()=>{try{m(!0);let W;if(a){if(!e?.id){console.error("User ID is required to load teacher courses"),n([]);return}W=await Iw(e.id)}else W=await aa();n(W||[])}catch(W){console.error("Error loading courses:",W),n([])}finally{m(!1)}},Le=()=>{let W=o;c&&(W=W.filter(ye=>ye.title.toLowerCase().includes(c.toLowerCase())||ye.description.toLowerCase().includes(c.toLowerCase())||ye.teacher.name.toLowerCase().includes(c.toLowerCase()))),d.level&&(W=W.filter(ye=>d.level==="BEGINNER"?ye.level==="Beginner":d.level==="INTERMEDIATE"?ye.level==="Intermediate":d.level==="ADVANCED"?ye.level==="Advanced":!0)),d.price&&(W=W.filter(ye=>d.price==="FREE"?!ye.isPaid:d.price==="PAID"?ye.isPaid:!0)),d.category&&(W=W.filter(ye=>ye.category?.toLowerCase()===d.category.toLowerCase())),a&&d.status&&(W=W.filter(ye=>d.status==="ACTIVE"?ye.isActive!==!1:d.status==="DRAFT"?ye.isActive===!1:d.status==="PUBLISHED"?ye.isPublished===!0:!0)),i(W)},Qe=W=>W.imageUrl||"https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?w=400&h=200&fit=crop",ir=W=>{let ye=W.enrolledStudents||W.enrollments?.length||0,It=W.activeStudents??ye,Gt=W.completionRate??0;return{totalStudents:ye,activeStudents:It,completionRate:Gt}},Ft=()=>o.filter(W=>W.status==="published"&&typeof W.revenue=="number").sort((W,ye)=>(ye.revenue??0)-(W.revenue??0)).slice(0,3),hr=async W=>{try{S(!0);let ye=await vt.uploadFile(W,"course-banner",{});I(It=>({...It,imageUrl:ye.url,imageFile:W}))}catch(ye){console.error("Error uploading image:",ye),ne("Upload Failed","Failed to upload image. Please try again.")}finally{S(!1)}},ho=W=>{let ye=W.target.files?.[0];if(ye){if(ye.size>5*1024*1024){ne("File Too Large","Image size must be less than 5MB. Please choose a smaller file.");return}if(!ye.type.startsWith("image/")){ne("Invalid File Type","Please select an image file (JPG, PNG, etc.)");return}hr(ye)}},Da=()=>{I(W=>({...W,imageUrl:void 0,imageFile:null})),k.current&&(k.current.value="")},Fn=async()=>{try{if(!e?.id){ne("Authentication Required","You must be logged in to create a course");return}if(e.role!=="TEACHER"){ne("Permission Denied","Only teachers can create courses. Please contact support if you believe this is an error.");return}if(!localStorage.getItem("token")){ne("Authentication Required","Your session has expired. Please log in again.");return}if(!N.title.trim()){ne("Missing Information","Please enter a course title");return}let ye=N.description||"",It=e.id,Gt={title:N.title.trim(),description:ye.trim()||void 0,price:0,order:o.length,createdBy:It,instructorId:It};N.imageUrl&&(Gt.imageUrl=N.imageUrl),N.category&&(Gt.category=N.category),N.level&&(Gt.level=N.level),N.duration&&(Gt.duration=N.duration),N.status&&(Gt.status=N.status,Gt.isPublished=N.status==="published"),console.log("Creating course with payload:",Gt);try{let Oo=await kw(Gt);n(ga=>[Oo,...ga]),p(!1),I({title:"",description:"",category:"",level:"",duration:"",status:"draft",imageUrl:void 0,imageFile:null}),Te("Course Created!",`"${Oo.title}" has been created successfully. You can now add content and publish it.`),t(`/courses/${Oo.id}`)}catch(Oo){throw console.error("API Error creating course:",Oo),Oo}}catch(W){console.error("Error creating course:",W),console.error("Error response:",W?.response),console.error("Error data:",W?.response?.data),console.error("Error status:",W?.response?.status),console.error("User info:",{id:e?.id,role:e?.role,email:e?.email}),console.error("Token exists:",!!localStorage.getItem("token")),console.error("Payload sent:",payload);let ye="Failed to create course. Please try again.",It="Failed to Create Course";W?.response?.status===403?(It="Permission Denied",ye=`You do not have permission to create courses.

Possible reasons:
\u2022 Your account role is not set to TEACHER on the backend
\u2022 Your session token may be invalid or expired

Please try:
1. Log out completely
2. Log back in with a TEACHER account
3. If the issue persists, contact support`):W?.response?.status===401?(It="Authentication Required",ye="Your session has expired or is invalid. Please log out and log back in."):W?.response?.status===400?(It="Invalid Data",ye=W?.response?.data?.message||"Invalid course data. Please check all fields and try again."):W?.response?.data?.message?ye=W.response.data.message:W?.response?.data?.error?ye=W.response.data.error:W?.message?ye=W.message:W?.response?.status===500?(It="Server Error",ye="Server error. Please try again later."):W?.response||(It="Network Error",ye="Network error. Please check your connection and try again."),ne(It,ye)}},ae=W=>{t(`/marketing-guide?courseId=${W}`)},Ve=async W=>{try{j(W);let ye=await w0(W);n(It=>[ye,...It]),L(null),Te("Course Duplicated!",`"${ye.title}" has been duplicated successfully.`)}catch(ye){console.error("Error duplicating course:",ye),ne("Failed to Duplicate Course",ye?.response?.data?.message||"Failed to duplicate course. Please try again.")}finally{j(null)}},tr=async W=>{try{let ye=await Nw(W);D(ye),q(!0),L(null)}catch(ye){console.error("Error loading preview:",ye),ne("Failed to Load Preview","Unable to load course preview. Please try again.")}},Dr=async()=>{if(!F||!U.subject||!U.content){ne("Missing Information","Please fill in all fields (subject and message)");return}try{await Cw(F,U),Te("Message Sent!","Your message has been sent successfully to all enrolled students."),B(!1),O({subject:"",content:""}),T(null)}catch(W){console.error("Error sending bulk message:",W),ne("Failed to Send Message",W?.response?.data?.message||"Failed to send message. Please try again.")}},Fr=async W=>{try{let ye=o.find(It=>It.id===W);await vt.axios.delete(`/courses/${W}`,{withCredentials:!0}),ye&&de({type:"delete_course",description:`Delete "${ye.title}"`,undo:async()=>{Te("Course Restored",`"${ye.title}" has been restored.`),n(It=>[...It,ye])}}),n(It=>It.filter(Gt=>Gt.id!==W)),X(null),Te("Course Deleted",ye?`"${ye.title}" has been permanently deleted.`:"The course has been permanently deleted.")}catch(ye){console.error("Error deleting course:",ye),ne("Failed to Delete Course",ye?.response?.data?.message||"Failed to delete course. Please try again."),X(null)}},On=async()=>{try{await Re();let W=xe();W&&Te("Action Undone",`"${W.description}" has been undone.`)}catch{ne("Undo Failed","Unable to undo the last action. Please try again.")}},Hc=()=>{ve(!ue),K(new Set),qe(!1)},Ll=W=>{let ye=new Set(J);ye.has(W)?ye.delete(W):ye.add(W),K(ye),qe(ye.size>0)},xg=()=>{J.size===s.length?(K(new Set),qe(!1)):(K(new Set(s.map(W=>W.id))),qe(!0))},Ea=async()=>{if(J.size!==0)try{let W=Array.from(J).map(ye=>vt.axios.put(`/courses/${ye}`,{status:"PUBLISHED"},{withCredentials:!0}));await Promise.all(W),n(ye=>ye.map(It=>J.has(It.id)?{...It,status:"PUBLISHED"}:It)),Te("Courses Published",`${J.size} course(s) have been published successfully.`),K(new Set),qe(!1)}catch(W){console.error("Error publishing courses:",W),ne("Failed to Publish Courses",W?.response?.data?.message||"Failed to publish courses. Please try again.")}},eo=async()=>{if(J.size===0)return;let W=o.filter(ye=>J.has(ye.id)).map(ye=>ye.title).join(", ");if(window.confirm(`Are you sure you want to delete ${J.size} course(s)? This action cannot be undone.

Courses: ${W}`))try{let ye=Array.from(J).map(It=>vt.axios.delete(`/courses/${It}`,{withCredentials:!0}));await Promise.all(ye),n(It=>It.filter(Gt=>!J.has(Gt.id))),Te("Courses Deleted",`${J.size} course(s) have been deleted successfully.`),K(new Set),qe(!1)}catch(ye){console.error("Error deleting courses:",ye),ne("Failed to Delete Courses",ye?.response?.data?.message||"Failed to delete courses. Please try again.")}},to=async()=>{if(J.size!==0)try{let W=Array.from(J).map(It=>w0(It)),ye=await Promise.all(W);n(It=>[...It,...ye]),Te("Courses Duplicated",`${J.size} course(s) have been duplicated successfully.`),K(new Set),qe(!1)}catch(W){console.error("Error duplicating courses:",W),ne("Failed to Duplicate Courses",W?.response?.data?.message||"Failed to duplicate courses. Please try again.")}};return v?(0,$.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,$.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,$.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):(0,$.jsxs)("div",{className:"courses-page",children:[(0,$.jsx)("div",{className:"courses-header",children:(0,$.jsxs)("div",{className:"courses-header-content",children:[(0,$.jsxs)("div",{className:"courses-header-text",children:[(0,$.jsx)("h1",{className:"courses-header-title",children:a?"My Courses":"Explore Courses"}),(0,$.jsx)("p",{className:"courses-header-subtitle",children:a?"Manage your courses and track student progress":"Discover amazing courses and start learning"})]}),a&&(0,$.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$.jsx)(Ao,{content:ue?"Exit bulk mode":"Select multiple courses",children:(0,$.jsx)("button",{onClick:Hc,className:`courses-create-button button-press hover-lift ${ue?"bg-blue-600":""}`,style:ue?{backgroundColor:"#2563eb"}:{},children:ue?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(et,{className:"courses-create-button-icon"}),"Cancel"]}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(Zl,{className:"courses-create-button-icon"}),"Select"]})})}),(0,$.jsx)(Ao,{content:"Create a new course",children:(0,$.jsxs)("button",{onClick:W=>{W.preventDefault(),W.stopPropagation(),console.log("Create Course button clicked, opening modal..."),p(!0)},className:"courses-create-button button-press hover-lift",type:"button",children:[(0,$.jsx)(Ut,{className:"courses-create-button-icon"}),"Create Course"]})})]})]})}),a&&Ft().length>0&&(0,$.jsxs)("div",{className:"courses-top-performing",children:[(0,$.jsxs)("div",{className:"courses-top-performing-header",children:[(0,$.jsx)("h2",{className:"courses-top-performing-title",children:"Top Performing Courses"}),(0,$.jsxs)(we,{to:"/analytics",className:"courses-top-performing-link",children:[(0,$.jsx)("span",{children:"View All Analytics"}),(0,$.jsx)(qa,{className:"courses-top-performing-link-icon"})]})]}),(0,$.jsx)("div",{className:"courses-top-performing-grid",children:Ft().map(W=>(0,$.jsxs)("div",{className:"courses-top-performing-card",children:[(0,$.jsxs)("div",{className:"courses-top-performing-card-header",children:[(0,$.jsx)("h3",{className:"courses-top-performing-card-title",children:W.title}),(0,$.jsx)("button",{onClick:()=>ae(W.id),className:"courses-top-performing-card-boost",children:(0,$.jsx)(Wo,{className:"courses-top-performing-card-boost-icon"})})]}),(0,$.jsxs)("div",{className:"courses-top-performing-card-stats",children:[(0,$.jsxs)("div",{className:"courses-top-performing-card-stat",children:[(0,$.jsx)("span",{className:"courses-top-performing-card-stat-label",children:"Enrolled Students"}),(0,$.jsx)("span",{className:"courses-top-performing-card-stat-value",children:W.enrolledStudents?.toLocaleString()||0})]}),(0,$.jsxs)("div",{className:"courses-top-performing-card-stat",children:[(0,$.jsx)("span",{className:"courses-top-performing-card-stat-label",children:"Completion Rate"}),(0,$.jsxs)("span",{className:"courses-top-performing-card-stat-value",children:[W.completionRate||0,"%"]})]}),(0,$.jsxs)("div",{className:"courses-top-performing-card-stat",children:[(0,$.jsx)("span",{className:"courses-top-performing-card-stat-label",children:"Revenue"}),(0,$.jsxs)("span",{className:"courses-top-performing-card-stat-value courses-top-performing-card-stat-value--revenue",children:["$",(W.revenue??0).toLocaleString()]})]})]}),(0,$.jsxs)("div",{className:"courses-top-performing-card-actions",children:[(0,$.jsx)(we,{to:`/courses/${W.id}`,className:"courses-top-performing-card-manage",children:"Manage"}),(0,$.jsx)(we,{to:`/analytics?courseId=${W.id}`,className:"courses-top-performing-card-analytics",children:(0,$.jsx)(_r,{className:"courses-top-performing-card-analytics-icon"})})]})]},W.id))})]}),(0,$.jsxs)("div",{className:"courses-search-filters",children:[(0,$.jsxs)("div",{className:"courses-search-filters-content",children:[(0,$.jsxs)("div",{className:"courses-search-wrapper",children:[(0,$.jsx)(Pt,{className:`courses-search-icon ${b?"courses-search-icon--focused":"courses-search-icon--unfocused"}`}),(0,$.jsx)("input",{type:"text",placeholder:a?"Search your courses...":"Search courses...",value:c,onChange:W=>l(W.target.value),onFocus:()=>w(!0),onBlur:()=>w(!1),className:"courses-search-input"})]}),(0,$.jsxs)("div",{className:"courses-filters-actions",children:[(0,$.jsxs)("button",{onClick:()=>x(!f),className:`courses-filters-button ${f?"courses-filters-button--active":"courses-filters-button--inactive"}`,children:[(0,$.jsx)(dp,{className:"courses-filters-button-icon"}),(0,$.jsx)("span",{className:"hidden sm:inline",children:"Filters"})]}),(0,$.jsxs)("div",{className:"courses-view-mode",children:[(0,$.jsx)(Ao,{content:"Grid view",children:(0,$.jsx)("button",{onClick:()=>h("grid"),className:`courses-view-mode-button button-press ${g==="grid"?"courses-view-mode-button--active":"courses-view-mode-button--inactive"}`,"aria-label":"Grid view",children:(0,$.jsx)(so,{className:"courses-view-mode-button-icon"})})}),(0,$.jsx)(Ao,{content:"List view",children:(0,$.jsx)("button",{onClick:()=>h("list"),className:`courses-view-mode-button button-press ${g==="list"?"courses-view-mode-button--active":"courses-view-mode-button--inactive"}`,"aria-label":"List view",children:(0,$.jsx)(Co,{className:"courses-view-mode-button-icon"})})})]})]})]}),f&&(0,$.jsxs)("div",{className:"courses-filter-panel",children:[(0,$.jsxs)("div",{className:"courses-filter-group",children:[(0,$.jsx)("label",{className:"courses-filter-label",children:"Level"}),(0,$.jsxs)("select",{value:d.level,onChange:W=>u(ye=>({...ye,level:W.target.value})),className:"courses-filter-select",onFocus:W=>{W.currentTarget.style.borderColor="#00B5AD",W.currentTarget.style.boxShadow="0 0 0 4px rgba(0, 181, 173, 0.1)"},onBlur:W=>{W.currentTarget.style.borderColor="#E5E7EB",W.currentTarget.style.boxShadow="none"},children:[(0,$.jsx)("option",{value:"",children:"All Levels"}),(0,$.jsx)("option",{value:"BEGINNER",children:"Beginner"}),(0,$.jsx)("option",{value:"INTERMEDIATE",children:"Intermediate"}),(0,$.jsx)("option",{value:"ADVANCED",children:"Advanced"})]})]}),(0,$.jsxs)("div",{children:[(0,$.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Price"}),(0,$.jsxs)("select",{value:d.price,onChange:W=>u(ye=>({...ye,price:W.target.value})),className:"w-full px-4 py-3 border-2 rounded-xl focus:outline-none transition-all duration-200",style:{borderColor:"#E5E7EB",backgroundColor:"white",color:"#0B1E3F",fontSize:"16px"},onFocus:W=>{W.currentTarget.style.borderColor="#00B5AD",W.currentTarget.style.boxShadow="0 0 0 4px rgba(0, 181, 173, 0.1)"},onBlur:W=>{W.currentTarget.style.borderColor="#E5E7EB",W.currentTarget.style.boxShadow="none"},children:[(0,$.jsx)("option",{value:"",children:"All Prices"}),(0,$.jsx)("option",{value:"FREE",children:"Free"}),(0,$.jsx)("option",{value:"PAID",children:"Paid"})]})]}),a&&(0,$.jsxs)("div",{children:[(0,$.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Status"}),(0,$.jsxs)("select",{value:d.status,onChange:W=>u(ye=>({...ye,status:W.target.value})),className:"w-full px-4 py-3 border-2 rounded-xl focus:outline-none transition-all duration-200",style:{borderColor:"#E5E7EB",backgroundColor:"white",color:"#0B1E3F",fontSize:"16px"},onFocus:W=>{W.currentTarget.style.borderColor="#00B5AD",W.currentTarget.style.boxShadow="0 0 0 4px rgba(0, 181, 173, 0.1)"},onBlur:W=>{W.currentTarget.style.borderColor="#E5E7EB",W.currentTarget.style.boxShadow="none"},children:[(0,$.jsx)("option",{value:"",children:"All Status"}),(0,$.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,$.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,$.jsx)("option",{value:"PUBLISHED",children:"Published"})]})]})]})]}),(0,$.jsx)(kn,{isOpen:f,onClose:()=>x(!1),title:"Filter Courses",maxHeight:"80vh",children:(0,$.jsxs)("div",{className:"p-6 space-y-5",children:[(0,$.jsxs)("div",{children:[(0,$.jsx)("label",{className:"block text-sm font-semibold mb-3",style:{color:"#0B1E3F"},children:"Level"}),(0,$.jsx)("div",{className:"space-y-2",children:["","BEGINNER","INTERMEDIATE","ADVANCED"].map(W=>(0,$.jsx)("button",{onClick:()=>u(ye=>({...ye,level:W})),className:`w-full px-4 py-3 rounded-xl font-semibold text-left transition-all duration-200 ${d.level===W?"text-white":""}`,style:{backgroundColor:d.level===W?"#00B5AD":"rgba(0, 181, 173, 0.1)",color:d.level===W?"white":"#0B1E3F"},children:W||"All Levels"},W))})]}),(0,$.jsxs)("div",{children:[(0,$.jsx)("label",{className:"block text-sm font-semibold mb-3",style:{color:"#0B1E3F"},children:"Price"}),(0,$.jsx)("div",{className:"space-y-2",children:["","FREE","PAID"].map(W=>(0,$.jsx)("button",{onClick:()=>u(ye=>({...ye,price:W})),className:`w-full px-4 py-3 rounded-xl font-semibold text-left transition-all duration-200 ${d.price===W?"text-white":""}`,style:{backgroundColor:d.price===W?"#00B5AD":"rgba(0, 181, 173, 0.1)",color:d.price===W?"white":"#0B1E3F"},children:W||"All Prices"},W))})]}),a&&(0,$.jsxs)("div",{children:[(0,$.jsx)("label",{className:"block text-sm font-semibold mb-3",style:{color:"#0B1E3F"},children:"Status"}),(0,$.jsx)("div",{className:"space-y-2",children:["","ACTIVE","DRAFT","PUBLISHED"].map(W=>(0,$.jsx)("button",{onClick:()=>u(ye=>({...ye,status:W})),className:`w-full px-4 py-3 rounded-xl font-semibold text-left transition-all duration-200 ${d.status===W?"text-white":""}`,style:{backgroundColor:d.status===W?"#00B5AD":"rgba(0, 181, 173, 0.1)",color:d.status===W?"white":"#0B1E3F"},children:W||"All Status"},W))})]}),(0,$.jsxs)("div",{className:"flex space-x-3 pt-4 border-t",style:{borderColor:"#E5E7EB"},children:[(0,$.jsx)("button",{onClick:()=>{u({level:"",price:"",category:"",status:""}),x(!1)},className:"flex-1 px-6 py-3 rounded-xl font-semibold transition-all duration-200 border-2",style:{borderColor:"#E5E7EB",color:"#0B1E3F",backgroundColor:"white"},children:"Clear All"}),(0,$.jsx)("button",{onClick:()=>x(!1),className:"flex-1 px-6 py-3 rounded-xl font-semibold text-white transition-all duration-300",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:"Apply Filters"})]})]})}),ue&&tt&&J.size>0&&(0,$.jsx)("div",{className:"mb-6 bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-700 rounded-xl p-4",children:(0,$.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$.jsx)("div",{className:"flex items-center space-x-4",children:(0,$.jsxs)("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:[J.size," course",J.size!==1?"s":""," selected"]})}),(0,$.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$.jsx)("button",{onClick:Ea,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors text-sm",children:"Publish"}),(0,$.jsx)("button",{onClick:to,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors text-sm",children:"Duplicate"}),(0,$.jsx)("button",{onClick:eo,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors text-sm",children:"Delete"})]})]})}),s.length===0?(0,$.jsxs)("div",{className:"text-center py-16 rounded-[20px] border-2",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:[(0,$.jsx)("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6",style:{backgroundColor:"rgba(0, 181, 173, 0.1)"},children:(0,$.jsx)(ot,{className:"h-10 w-10",style:{color:"#00B5AD"}})}),(0,$.jsx)("h3",{className:"text-2xl font-bold mb-2",style:{color:"#0B1E3F"},children:"No courses found"}),(0,$.jsx)("p",{className:"mb-6",style:{color:"#6F73D2"},children:c||d.level||d.price?"Try adjusting your search or filters":a?"You haven't created any courses yet":"No courses available at the moment"}),a&&(0,$.jsxs)("button",{onClick:()=>p(!0),className:"inline-flex items-center px-8 py-3 text-white rounded-xl font-semibold transition-all duration-300 hover:shadow-xl hover:-translate-y-0.5",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},onMouseEnter:W=>{W.currentTarget.style.backgroundColor="#00968d"},onMouseLeave:W=>{W.currentTarget.style.backgroundColor="#00B5AD"},children:[(0,$.jsx)(Ut,{className:"h-5 w-5 mr-2"}),"Create Your First Course"]})]}):(0,$.jsxs)($.Fragment,{children:[ue&&s.length>0&&(0,$.jsx)("div",{className:"lg:hidden mb-4 flex items-center space-x-2",children:(0,$.jsxs)("button",{onClick:xg,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[J.size===s.length?(0,$.jsx)(Zl,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}):(0,$.jsx)(qd,{className:"w-5 h-5 text-gray-400"}),(0,$.jsxs)("span",{children:["Select All (",s.length,")"]})]})}),(0,$.jsx)("div",{className:"lg:hidden space-y-4",children:s.map(W=>{let ye=J.has(W.id);return(0,$.jsxs)("div",{className:"relative",children:[ue&&(0,$.jsx)("div",{className:"absolute top-4 left-4 z-10",children:(0,$.jsx)("button",{onClick:()=>Ll(W.id),className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-all ${ye?"bg-blue-600 border-blue-600 text-white":"bg-white border-gray-300 hover:border-blue-500"}`,children:ye&&(0,$.jsx)(fr,{className:"w-4 h-4"})})}),(0,$.jsx)("div",{className:ue&&ye?"ring-2 ring-blue-500 rounded-lg":"",children:(0,$.jsx)(Po,{course:W,isTeacher:a,onBoost:ae})})]},W.id)})}),ue&&s.length>0&&(0,$.jsx)("div",{className:"mb-4 flex items-center space-x-2",children:(0,$.jsxs)("button",{onClick:xg,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[J.size===s.length?(0,$.jsx)(Zl,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}):(0,$.jsx)(qd,{className:"w-5 h-5 text-gray-400"}),(0,$.jsxs)("span",{children:["Select All (",s.length,")"]})]})}),(0,$.jsx)("div",{className:`hidden lg:grid ${g==="grid"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4"}`,children:s.map(W=>{let ye=ir(W),It=J.has(W.id);return(0,$.jsxs)("div",{className:`group rounded-[20px] border-2 overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1 relative ${ue&&It?"ring-2 ring-blue-500 border-blue-500":""}`,style:{backgroundColor:"white",borderColor:ue&&It?"#3b82f6":"#E5E7EB"},onMouseEnter:Gt=>{ue||(Gt.currentTarget.style.borderColor="#00B5AD")},onMouseLeave:Gt=>{ue||(Gt.currentTarget.style.borderColor="#E5E7EB")},children:[ue&&(0,$.jsx)("div",{className:"absolute top-4 left-4 z-10",children:(0,$.jsx)("button",{onClick:()=>Ll(W.id),className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-all ${It?"bg-blue-600 border-blue-600 text-white":"bg-white border-gray-300 hover:border-blue-500"}`,children:It&&(0,$.jsx)(fr,{className:"w-4 h-4"})})}),g==="grid"?(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)("div",{className:"h-48 bg-gray-200 flex items-center justify-center relative overflow-hidden",children:[Qe(W)?(0,$.jsx)("img",{src:Qe(W),alt:W.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}):(0,$.jsx)("div",{className:"w-full h-full flex items-center justify-center",style:{backgroundColor:"rgba(0, 181, 173, 0.1)"},children:(0,$.jsx)(ot,{className:"h-16 w-16",style:{color:"#00B5AD"}})}),(0,$.jsxs)("div",{className:"absolute top-3 left-3 flex flex-col space-y-2",children:[!W.isPaid&&(0,$.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold text-white",style:{backgroundColor:"#00B5AD"},children:"Free"}),W.level&&(0,$.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold text-white",style:{backgroundColor:"#6F73D2"},children:W.level}),a&&(0,$.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold text-white ${W.isActive?"bg-[#00B5AD]":"bg-[#9A8CFF]"}`,children:W.isActive?"Active":"Draft"})]}),W.enrolledStudents&&W.enrolledStudents>1e3&&(0,$.jsx)("span",{className:"absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-semibold text-white",style:{backgroundColor:"#9A8CFF"},children:"Popular"})]}),(0,$.jsxs)("div",{className:"p-6",children:[(0,$.jsx)("div",{className:"mb-3",children:(0,$.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide px-3 py-1 rounded-full",style:{backgroundColor:"rgba(0, 181, 173, 0.1)",color:"#00B5AD"},children:W.category||"Course"})}),(0,$.jsx)("h3",{className:"text-lg font-bold mb-3 line-clamp-2 min-h-[3rem]",style:{color:"#0B1E3F"},children:W.title}),(0,$.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,$.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$.jsx)(Jt,{className:"h-4 w-4 fill-current",style:{color:"#F59E0B"}}),(0,$.jsx)("span",{className:"text-sm font-semibold",style:{color:"#0B1E3F"},children:W.rating?.toFixed(1)||"4.5"})]}),(0,$.jsxs)("span",{className:"text-xs",style:{color:"#6F73D2"},children:["(",W.enrolledStudents||0,")"]})]}),(0,$.jsxs)("div",{className:"flex items-center space-x-4 text-sm mb-4",style:{color:"#6F73D2"},children:[(0,$.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,$.jsx)(xt,{className:"h-4 w-4"}),(0,$.jsx)("span",{children:W.duration||"8 weeks"})]}),(0,$.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,$.jsx)(it,{className:"h-4 w-4"}),(0,$.jsx)("span",{children:ye.totalStudents.toLocaleString()})]})]}),a&&(0,$.jsx)("div",{className:"rounded-xl p-4 mb-4",style:{backgroundColor:"rgba(111, 115, 210, 0.05)"},children:(0,$.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,$.jsxs)("div",{className:"text-center",children:[(0,$.jsx)("div",{className:"font-bold text-lg mb-1",style:{color:"#0B1E3F"},children:ye.activeStudents}),(0,$.jsx)("div",{style:{color:"#6F73D2"},children:"Active"})]}),(0,$.jsxs)("div",{className:"text-center",children:[(0,$.jsxs)("div",{className:"font-bold text-lg mb-1",style:{color:"#0B1E3F"},children:[ye.completionRate,"%"]}),(0,$.jsx)("div",{style:{color:"#6F73D2"},children:"Completion"})]})]})}),!a&&(0,$.jsxs)("div",{className:"flex items-center mb-4",children:[(0,$.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center mr-3 overflow-hidden text-white font-semibold",style:{background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 100%)"},children:W.teacher.avatarUrl?(0,$.jsx)("img",{src:W.teacher.avatarUrl,alt:W.teacher.name,className:"w-full h-full object-cover"}):(0,$.jsx)("span",{children:W.teacher.name.charAt(0)})}),(0,$.jsxs)("div",{children:[(0,$.jsx)("p",{className:"text-sm font-semibold",style:{color:"#0B1E3F"},children:W.teacher.name}),(0,$.jsx)("p",{className:"text-xs",style:{color:"#6F73D2"},children:"Instructor"})]})]}),(0,$.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",style:{borderColor:"#E5E7EB"},children:[(0,$.jsx)("div",{children:W.price===0||!W.isPaid?(0,$.jsx)("span",{className:"text-2xl font-bold",style:{color:"#00B5AD"},children:"Free"}):(0,$.jsxs)("div",{children:[(0,$.jsxs)("span",{className:"text-2xl font-bold",style:{color:"#0B1E3F"},children:["$",W.price]}),W.price&&W.price>50&&(0,$.jsxs)("span",{className:"text-sm ml-2 line-through",style:{color:"#6F73D2"},children:["$",Math.round(W.price*1.5)]})]})}),(0,$.jsxs)("div",{className:"flex space-x-2",children:[a&&W.status==="published"&&(0,$.jsx)(Ao,{content:"Boost course visibility",children:(0,$.jsx)("button",{onClick:()=>ae(W.id),className:"p-2.5 rounded-xl transition-all duration-200 hover:scale-110 button-press",style:{backgroundColor:"rgba(154, 140, 255, 0.1)"},"aria-label":"Boost course",children:(0,$.jsx)(Wo,{className:"h-5 w-5",style:{color:"#9A8CFF"}})})}),a&&(0,$.jsxs)("div",{className:"relative course-menu-container",children:[(0,$.jsx)(Ao,{content:"Course options",children:(0,$.jsx)("button",{onClick:()=>L(E===W.id?null:W.id),className:"p-2.5 rounded-xl transition-all duration-200 hover:scale-110 relative button-press",style:{backgroundColor:"rgba(111, 115, 210, 0.1)"},"aria-label":"Course options",children:(0,$.jsx)(Is,{className:"h-5 w-5",style:{color:"#6F73D2"}})})}),E===W.id&&(0,$.jsxs)("div",{className:"absolute right-0 top-full mt-2 bg-white rounded-xl shadow-xl border-2 z-50 min-w-[200px]",style:{borderColor:"#E5E7EB"},onClick:Gt=>Gt.stopPropagation(),children:[(0,$.jsxs)("button",{onClick:()=>tr(W.id),className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center space-x-2 transition-colors rounded-t-xl",children:[(0,$.jsx)(Nr,{className:"h-4 w-4",style:{color:"#6F73D2"}}),(0,$.jsx)("span",{style:{color:"#0B1E3F"},children:"Preview"})]}),(0,$.jsxs)(we,{to:`/courses/${W.id}`,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>L(null),children:[(0,$.jsx)(Gr,{className:"h-4 w-4",style:{color:"#6F73D2"}}),(0,$.jsx)("span",{style:{color:"#0B1E3F"},children:"Edit"})]}),(0,$.jsxs)("button",{onClick:()=>Ve(W.id),disabled:P===W.id,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center space-x-2 transition-colors disabled:opacity-50",children:[(0,$.jsx)(ii,{className:"h-4 w-4",style:{color:"#6F73D2"}}),(0,$.jsx)("span",{style:{color:"#0B1E3F"},children:P===W.id?"Duplicating...":"Duplicate"})]}),(0,$.jsxs)("button",{onClick:()=>{T(W.id),B(!0),L(null)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center space-x-2 transition-colors",children:[(0,$.jsx)(yr,{className:"h-4 w-4",style:{color:"#6F73D2"}}),(0,$.jsx)("span",{style:{color:"#0B1E3F"},children:"Message Students"})]}),(0,$.jsxs)(we,{to:`/assignments/grade?courseId=${W.id}`,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>L(null),children:[(0,$.jsx)(or,{className:"h-4 w-4",style:{color:"#6F73D2"}}),(0,$.jsx)("span",{style:{color:"#0B1E3F"},children:"Grade Assignments"})]}),(0,$.jsxs)(we,{to:`/students/progress?courseId=${W.id}`,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center space-x-2 transition-colors",onClick:()=>L(null),children:[(0,$.jsx)(Cr,{className:"h-4 w-4",style:{color:"#6F73D2"}}),(0,$.jsx)("span",{style:{color:"#0B1E3F"},children:"Student Progress"})]}),(0,$.jsx)("div",{className:"border-t my-1",style:{borderColor:"#E5E7EB"}}),(0,$.jsxs)("button",{onClick:()=>{X(W.id),L(null)},className:"w-full px-4 py-3 text-left hover:bg-red-50 flex items-center space-x-2 transition-colors rounded-b-xl",style:{color:"#DC2626"},children:[(0,$.jsx)(gr,{className:"h-4 w-4"}),(0,$.jsx)("span",{children:"Delete Course"})]})]})]}),(0,$.jsx)(we,{to:`/courses/${W.id}`,className:"px-5 py-2.5 text-white rounded-xl font-semibold transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},onMouseEnter:Gt=>{Gt.currentTarget.style.backgroundColor="#00968d"},onMouseLeave:Gt=>{Gt.currentTarget.style.backgroundColor="#00B5AD"},children:a?"Manage":"View"})]})]})]})]}):(0,$.jsxs)("div",{className:"p-6 flex items-center space-x-6",children:[(0,$.jsx)("div",{className:"w-24 h-24 rounded-xl flex items-center justify-center flex-shrink-0 overflow-hidden",style:{backgroundColor:"rgba(0, 181, 173, 0.1)"},children:Qe(W)?(0,$.jsx)("img",{src:Qe(W),alt:W.title,className:"w-full h-full object-cover"}):(0,$.jsx)(ot,{className:"h-12 w-12",style:{color:"#00B5AD"}})}),(0,$.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,$.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,$.jsx)("h3",{className:"text-xl font-bold",style:{color:"#0B1E3F"},children:W.title}),(0,$.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$.jsx)(Jt,{className:"h-4 w-4 fill-current",style:{color:"#F59E0B"}}),(0,$.jsx)("span",{className:"text-sm font-semibold",style:{color:"#0B1E3F"},children:W.rating||4.8})]})]}),(0,$.jsx)("p",{className:"mb-3 line-clamp-2",style:{color:"#6F73D2"},children:W.description}),(0,$.jsxs)("div",{className:"flex items-center space-x-6 text-sm",style:{color:"#6F73D2"},children:[(0,$.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,$.jsx)(it,{className:"h-4 w-4"}),(0,$.jsxs)("span",{children:[ye.totalStudents.toLocaleString()," students"]})]}),(0,$.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,$.jsx)(xt,{className:"h-4 w-4"}),(0,$.jsx)("span",{children:W.duration||"8 weeks"})]}),(0,$.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"rgba(111, 115, 210, 0.1)",color:"#6F73D2"},children:W.level||"Beginner"})]})]}),(0,$.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,$.jsx)("div",{className:"text-2xl font-bold mb-2",style:{color:"#0B1E3F"},children:W.isPaid?`$${W.price}`:"Free"}),(0,$.jsx)(we,{to:`/courses/${W.id}`,className:"inline-block px-6 py-3 text-white rounded-xl font-semibold transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},onMouseEnter:Gt=>{Gt.currentTarget.style.backgroundColor="#00968d"},onMouseLeave:Gt=>{Gt.currentTarget.style.backgroundColor="#00B5AD"},children:a?"Manage":"View Course"})]})]})]},W.id)})})]}),y&&(0,$.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-slate-900/75",onClick:W=>{W.target===W.currentTarget&&(p(!1),Lt())},children:(0,$.jsxs)("div",{className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl border border-gray-200 max-h-[90vh] flex flex-col relative z-[10000]",onClick:W=>W.stopPropagation(),children:[(0,$.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,$.jsxs)("div",{children:[(0,$.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Create a new course"}),(0,$.jsx)("p",{className:"text-sm text-gray-500",children:"Add the essential details for your course. You can build out modules and lessons after this step."}),pe&&(0,$.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"Draft saved locally"})]}),(0,$.jsx)("button",{onClick:()=>{p(!1),Lt()},className:"p-2 rounded-full text-gray-500 hover:bg-gray-100","aria-label":"Close",children:(0,$.jsx)(et,{className:"h-5 w-5"})})]}),(0,$.jsxs)("div",{className:"px-6 py-5 space-y-5 overflow-y-auto flex-1",children:[(0,$.jsxs)("div",{children:[(0,$.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-1.5",children:["Course title",(0,$.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,$.jsx)("input",{type:"text",value:N.title,onChange:W=>I(ye=>({...ye,title:W.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. Complete JavaScript Bootcamp"})]}),(0,$.jsxs)("div",{children:[(0,$.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1.5",children:"Description"}),(0,$.jsx)("div",{className:"border border-gray-300 rounded-lg",children:(0,$.jsx)(dk,{value:N.description,onChange:W=>I(ye=>({...ye,description:W})),placeholder:"Describe what students will learn, course structure, and any key highlights.",height:"150px"})})]}),(0,$.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,$.jsxs)("div",{children:[(0,$.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1.5",children:"Category"}),(0,$.jsxs)("select",{value:N.category,onChange:W=>I(ye=>({...ye,category:W.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[(0,$.jsx)("option",{value:"",children:"Select category"}),(0,$.jsx)("option",{value:"programming",children:"Programming"}),(0,$.jsx)("option",{value:"web-development",children:"Web Development"}),(0,$.jsx)("option",{value:"data-science",children:"Data Science"}),(0,$.jsx)("option",{value:"design",children:"Design"}),(0,$.jsx)("option",{value:"business",children:"Business"}),(0,$.jsx)("option",{value:"marketing",children:"Marketing"}),(0,$.jsx)("option",{value:"photography",children:"Photography"}),(0,$.jsx)("option",{value:"music",children:"Music"}),(0,$.jsx)("option",{value:"language",children:"Language"}),(0,$.jsx)("option",{value:"science",children:"Science"}),(0,$.jsx)("option",{value:"mathematics",children:"Mathematics"}),(0,$.jsx)("option",{value:"health",children:"Health & Fitness"}),(0,$.jsx)("option",{value:"personal-development",children:"Personal Development"}),(0,$.jsx)("option",{value:"other",children:"Other"})]})]}),(0,$.jsxs)("div",{children:[(0,$.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1.5",children:"Level"}),(0,$.jsx)("div",{className:"flex gap-2",children:["Beginner","Intermediate","Advanced"].map(W=>(0,$.jsx)("button",{type:"button",onClick:()=>I(ye=>({...ye,level:W})),className:`flex-1 rounded-lg border px-2 py-1.5 text-xs font-medium ${N.level===W?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:border-blue-400"}`,children:W},W))})]})]}),(0,$.jsxs)("div",{children:[(0,$.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1.5",children:"Estimated duration"}),(0,$.jsx)("input",{type:"text",value:N.duration,onChange:W=>I(ye=>({...ye,duration:W.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. 4 weeks, 10 hours total"})]}),(0,$.jsxs)("div",{children:[(0,$.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1.5",children:"Banner image (optional)"}),N.imageUrl?(0,$.jsxs)("div",{className:"relative",children:[(0,$.jsx)("img",{src:N.imageUrl,alt:"Course banner",className:"w-full h-32 object-cover rounded-lg border border-gray-300"}),(0,$.jsx)("button",{type:"button",onClick:Da,className:"absolute top-2 right-2 rounded-full bg-white/90 border border-gray-300 p-1 text-xs text-red-600 hover:bg-red-50",children:"Remove"})]}):(0,$.jsxs)("div",{onClick:()=>k.current?.click(),className:"w-full h-28 border border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center text-xs text-gray-500 cursor-pointer hover:border-blue-400 hover:bg-gray-50",children:[(0,$.jsx)("input",{ref:k,type:"file",accept:"image/*",onChange:ho,className:"hidden"}),C?(0,$.jsx)("span",{children:"Uploading..."}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("span",{children:"Click to upload an image"}),(0,$.jsx)("span",{className:"mt-1 text-[11px] text-gray-400",children:"Recommended 1200\xD7675, max 5MB"})]})]})]}),(0,$.jsxs)("div",{children:[(0,$.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1.5",children:"Status"}),(0,$.jsxs)("div",{className:"flex gap-2",children:[(0,$.jsx)("button",{type:"button",onClick:()=>I(W=>({...W,status:"draft"})),className:`flex-1 rounded-lg border px-3 py-2 text-xs font-medium ${N.status==="draft"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-800 border-gray-300 hover:border-gray-500"}`,children:"Draft"}),(0,$.jsx)("button",{type:"button",onClick:()=>I(W=>({...W,status:"published"})),className:`flex-1 rounded-lg border px-3 py-2 text-xs font-medium ${N.status==="published"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:border-blue-400"}`,children:"Publish"})]}),(0,$.jsx)("p",{className:"mt-1 text-[11px] text-gray-400",children:"You can always change this later from the course settings."})]})]}),(0,$.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex flex-col sm:flex-row gap-3 justify-end",children:[(0,$.jsx)("button",{type:"button",onClick:()=>{p(!1),Lt()},className:"w-full sm:w-auto rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,$.jsxs)("button",{type:"button",onClick:Fn,disabled:!N.title.trim()||C,className:"w-full sm:w-auto inline-flex items-center justify-center rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,$.jsx)(Jn,{className:"h-4 w-4 mr-2"}),C?"Uploading...":"Create course"]})]})]})}),M&&R&&(0,$.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(11, 30, 63, 0.6)",backdropFilter:"blur(8px)"},onClick:()=>q(!1),children:(0,$.jsxs)("div",{className:"rounded-2xl p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto border-2",style:{backgroundColor:"white",borderColor:"#E5E7EB",boxShadow:"0 25px 70px rgba(11, 30, 63, 0.4)"},onClick:W=>W.stopPropagation(),children:[(0,$.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,$.jsx)("h2",{className:"text-2xl font-bold",style:{color:"#0B1E3F"},children:"Course Preview"}),(0,$.jsx)("button",{onClick:()=>q(!1),className:"p-2 rounded-xl transition-all duration-200 hover:scale-110",style:{color:"#6F73D2"},children:(0,$.jsx)(et,{className:"h-6 w-6"})})]}),(0,$.jsxs)("div",{className:"space-y-6",children:[R.imageUrl&&(0,$.jsx)("img",{src:R.imageUrl,alt:R.title,className:"w-full h-64 object-cover rounded-xl"}),(0,$.jsxs)("div",{children:[(0,$.jsx)("h3",{className:"text-xl font-bold mb-2",style:{color:"#0B1E3F"},children:R.title}),(0,$.jsx)("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:R.description||""}})]}),(0,$.jsxs)("div",{className:"flex items-center space-x-4 text-sm",style:{color:"#6F73D2"},children:[(0,$.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$.jsx)(xt,{className:"h-4 w-4"}),(0,$.jsx)("span",{children:R.duration||"8 weeks"})]}),(0,$.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$.jsx)(it,{className:"h-4 w-4"}),(0,$.jsxs)("span",{children:[R.enrolledStudents||0," students"]})]}),R.level&&(0,$.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"rgba(111, 115, 210, 0.1)",color:"#6F73D2"},children:R.level})]})]})]})}),A&&(0,$.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(11, 30, 63, 0.6)",backdropFilter:"blur(8px)"},children:(0,$.jsxs)("div",{className:"rounded-2xl p-8 w-full max-w-2xl border-2",style:{backgroundColor:"white",borderColor:"#E5E7EB",boxShadow:"0 25px 70px rgba(11, 30, 63, 0.4)"},children:[(0,$.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,$.jsx)("h2",{className:"text-2xl font-bold",style:{color:"#0B1E3F"},children:"Send Message to Students"}),(0,$.jsx)("button",{onClick:()=>{B(!1),O({subject:"",content:""}),T(null)},className:"p-2 rounded-xl transition-all duration-200 hover:scale-110",style:{color:"#6F73D2"},children:(0,$.jsx)(et,{className:"h-6 w-6"})})]}),(0,$.jsxs)("div",{className:"space-y-5",children:[(0,$.jsxs)("div",{children:[(0,$.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Subject"}),(0,$.jsx)("input",{type:"text",value:U.subject,onChange:W=>O(ye=>({...ye,subject:W.target.value})),className:"w-full px-4 py-3 border-2 rounded-xl focus:outline-none transition-all duration-200",style:{borderColor:"#E5E7EB",backgroundColor:"white",color:"#0B1E3F",fontSize:"16px"},placeholder:"Enter message subject"})]}),(0,$.jsxs)("div",{children:[(0,$.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Message"}),(0,$.jsx)("div",{className:"border-2 rounded-xl overflow-hidden",style:{borderColor:"#E5E7EB"},children:(0,$.jsx)(dk,{value:U.content,onChange:W=>O(ye=>({...ye,content:W})),placeholder:"Enter your message to students...",height:"250px"})})]})]}),(0,$.jsxs)("div",{className:"flex space-x-3 mt-8",children:[(0,$.jsx)("button",{onClick:()=>{B(!1),O({subject:"",content:""}),T(null)},className:"flex-1 px-6 py-3 border-2 rounded-xl font-semibold transition-all duration-200 hover:shadow-md",style:{borderColor:"#E5E7EB",color:"#0B1E3F",backgroundColor:"white"},children:"Cancel"}),(0,$.jsxs)("button",{onClick:Dr,disabled:!U.subject||!U.content,className:"flex-1 px-6 py-3 text-white rounded-xl font-semibold transition-all duration-300 hover:shadow-xl hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:[(0,$.jsx)(yr,{className:"h-4 w-4 mr-2 inline"}),"Send Message"]})]})]})}),z&&(0,$.jsx)(eP,{isOpen:!!z,title:"Delete Course",message:"Are you sure you want to delete this course? This action cannot be undone and will permanently remove the course and all its content.",confirmText:"Delete Course",cancelText:"Cancel",type:"danger",onConfirm:()=>{o.find(ye=>ye.id===z)&&Fr(z)},onCancel:()=>X(null)})]})};var xr=H(he());var Cc=H(se()),fa=({to:e,label:t="Back",showHome:r=!1,className:a=""})=>{let o=ht(),n=()=>{o(e||-1)},s=()=>{o("/")};return(0,Cc.jsxs)("div",{className:`flex items-center space-x-2 ${a}`,children:[(0,Cc.jsxs)("button",{onClick:n,className:"flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,Cc.jsx)(Ka,{className:"h-4 w-4 mr-1"}),t]}),r&&(0,Cc.jsxs)("button",{onClick:s,className:"flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,Cc.jsx)(ci,{className:"h-4 w-4 mr-1"}),"Home"]})]})};var en=H(he());Rt();var Nn=H(he());Rt();var Ze=H(se()),oP=({courseId:e,categories:t,threadId:r,initialData:a,onClose:o,onSave:n})=>{let{user:s}=Ge(),[i,c]=(0,Nn.useState)(a?.title||""),[l,d]=(0,Nn.useState)(a?.content||""),[u,g]=(0,Nn.useState)(a?.categoryId||t[0]?.id||""),[h,v]=(0,Nn.useState)(a?.tags||[]),[m,y]=(0,Nn.useState)(""),[p,f]=(0,Nn.useState)(!1),[x,b]=(0,Nn.useState)(!1),[w,N]=(0,Nn.useState)([]),[I,C]=(0,Nn.useState)([]),[S,k]=(0,Nn.useState)(!1),[E,L]=(0,Nn.useState)(a?.attachments||[]),P=T=>{l&&(N(U=>[...U,l]),C([])),d(T)},j=()=>{if(w.length>0){let T=w[w.length-1];C(U=>[...U,l]),N(U=>U.slice(0,-1)),d(T)}},M=()=>{if(I.length>0){let T=I[I.length-1];N(U=>[...U,l]),C(U=>U.slice(0,-1)),d(T)}},q=T=>{let U=document.getElementById("thread-content");if(!U)return;let O=U.selectionStart,z=U.selectionEnd,X="";switch(T){case"bold":X=`**${l.substring(O,z)}**`;break;case"italic":X=`*${l.substring(O,z)}*`;break;case"underline":X=`__${l.substring(O,z)}__`;break;case"code":X=`\`${l.substring(O,z)}\``;break;case"quote":X=`> ${l.substring(O,z)}`;break;case"link":X=`[${l.substring(O,z)}](url)`;break;case"image":X=`![${l.substring(O,z)}](image-url)`;break;case"list":X=l.substring(O,z).split(`
`).map(K=>`- ${K}`).join(`
`);break;case"ordered-list":X=l.substring(O,z).split(`
`).map((K,ue)=>`${ue+1}. ${K}`).join(`
`);break}let J=l.substring(0,O)+X+l.substring(z);P(J)},R=T=>{let U=document.getElementById("thread-content");if(!U)return;let O=U.selectionStart,z=l.substring(0,O)+T+l.substring(O);P(z)},D=()=>{m.trim()&&!h.includes(m.trim())&&(v(T=>[...T,m.trim()]),y(""))},A=T=>{v(U=>U.filter(O=>O!==T))},B=async T=>{try{k(!0);let U=await vt.uploadFile(T,"shared",{}),O={id:U.id,filename:T.name,originalName:T.name,url:U.url,size:T.size,mimeType:T.type,uploadedBy:s?.id||"",createdAt:new Date().toISOString()};L(X=>[...X,O]);let z=T.type.startsWith("image/")?`![${T.name}](${U.url})`:`[${T.name}](${U.url})`;R(z)}catch(U){console.error("Error uploading media:",U)}finally{k(!1)}};return(0,Ze.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ze.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[(0,Ze.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,Ze.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ze.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r?"Edit Discussion":"New Discussion"}),(0,Ze.jsx)("div",{className:"flex items-center space-x-2",children:(0,Ze.jsxs)("button",{onClick:()=>f(!p),className:`flex items-center px-3 py-1 rounded-md text-sm ${p?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:[(0,Ze.jsx)(Nr,{className:"h-4 w-4 mr-1"}),"Preview"]})})]}),(0,Ze.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ze.jsxs)("button",{onClick:async()=>{if(!i.trim()||!l.trim()){alert("Please fill in both title and content");return}try{k(!0);let T={title:i.trim(),content:l.trim(),categoryId:u,courseId:e,authorId:s?.id||"",tags:h,attachments:E,isPinned:!1,isLocked:!1,isSticky:!1},U;r?U=await vt.updateForumThread(r,T):U=await vt.createForumThread(T),n(U)}catch(T){console.error("Error saving thread:",T),alert("Error saving thread. Please try again.")}finally{k(!1)}},disabled:S||!i.trim()||!l.trim(),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[(0,Ze.jsx)(Jn,{className:"h-4 w-4 mr-2"}),S?"Saving...":"Save Thread"]}),(0,Ze.jsx)("button",{onClick:o,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Ze.jsx)(et,{className:"h-5 w-5"})})]})]}),(0,Ze.jsxs)("div",{className:"flex flex-col h-[calc(90vh-120px)]",children:[(0,Ze.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,Ze.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ze.jsxs)("div",{children:[(0,Ze.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Thread Title"}),(0,Ze.jsx)("input",{type:"text",value:i,onChange:T=>c(T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter thread title"})]}),(0,Ze.jsxs)("div",{children:[(0,Ze.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),(0,Ze.jsx)("select",{value:u,onChange:T=>g(T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:t.map(T=>(0,Ze.jsx)("option",{value:T.id,children:T.name},T.id))})]})]}),(0,Ze.jsxs)("div",{className:"mt-4",children:[(0,Ze.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags"}),(0,Ze.jsx)("div",{className:"flex flex-wrap items-center space-x-2 mb-2",children:h.map(T=>(0,Ze.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded-full text-sm",children:[T,(0,Ze.jsx)("button",{onClick:()=>A(T),className:"ml-1 text-blue-600 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",children:(0,Ze.jsx)(et,{className:"h-3 w-3"})})]},T))}),(0,Ze.jsxs)("div",{className:"flex space-x-2",children:[(0,Ze.jsx)("input",{type:"text",value:m,onChange:T=>y(T.target.value),onKeyPress:T=>T.key==="Enter"&&D(),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Add a tag..."}),(0,Ze.jsx)("button",{onClick:D,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:(0,Ze.jsx)(Ut,{className:"h-4 w-4"})})]})]})]}),(0,Ze.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:(0,Ze.jsxs)("div",{className:"flex items-center space-x-2 flex-wrap",children:[(0,Ze.jsx)("button",{onClick:j,disabled:w.length===0,className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded disabled:opacity-50",title:"Undo",children:(0,Ze.jsx)(hp,{className:"h-4 w-4"})}),(0,Ze.jsx)("button",{onClick:M,disabled:I.length===0,className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded disabled:opacity-50",title:"Redo",children:(0,Ze.jsx)(np,{className:"h-4 w-4"})}),(0,Ze.jsx)("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),(0,Ze.jsx)("button",{onClick:()=>q("bold"),className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"Bold",children:(0,Ze.jsx)(Tm,{className:"h-4 w-4"})}),(0,Ze.jsx)("button",{onClick:()=>q("italic"),className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"Italic",children:(0,Ze.jsx)(Hm,{className:"h-4 w-4"})}),(0,Ze.jsx)("button",{onClick:()=>q("underline"),className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"Underline",children:(0,Ze.jsx)(gp,{className:"h-4 w-4"})}),(0,Ze.jsx)("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),(0,Ze.jsx)("button",{onClick:()=>q("list"),className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"Bullet List",children:(0,Ze.jsx)(Co,{className:"h-4 w-4"})}),(0,Ze.jsx)("button",{onClick:()=>q("ordered-list"),className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"Numbered List",children:(0,Ze.jsx)(Wm,{className:"h-4 w-4"})}),(0,Ze.jsx)("button",{onClick:()=>q("quote"),className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"Quote",children:(0,Ze.jsx)(op,{className:"h-4 w-4"})}),(0,Ze.jsx)("button",{onClick:()=>q("code"),className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"Code",children:(0,Ze.jsx)(ec,{className:"h-4 w-4"})}),(0,Ze.jsx)("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),(0,Ze.jsx)("button",{onClick:()=>q("link"),className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"Insert Link",children:(0,Ze.jsx)(Vm,{className:"h-4 w-4"})}),(0,Ze.jsx)("button",{onClick:()=>b(!0),className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"Upload Media",children:(0,Ze.jsx)(fl,{className:"h-4 w-4"})})]})}),(0,Ze.jsx)("div",{className:"flex-1 p-6",children:p?(0,Ze.jsxs)("div",{className:"prose dark:prose-invert max-w-none",children:[(0,Ze.jsx)("h1",{children:i}),(0,Ze.jsx)("div",{dangerouslySetInnerHTML:{__html:l}})]}):(0,Ze.jsx)("textarea",{id:"thread-content",value:l,onChange:T=>P(T.target.value),className:"w-full h-full p-4 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white resize-none",placeholder:"Start writing your discussion content here... You can use Markdown formatting."})})]}),x&&(0,Ze.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ze.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4",children:(0,Ze.jsxs)("div",{className:"p-6",children:[(0,Ze.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ze.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Upload Media"}),(0,Ze.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Ze.jsx)(et,{className:"h-5 w-5"})})]}),(0,Ze.jsx)("div",{className:"space-y-4",children:(0,Ze.jsxs)("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[(0,Ze.jsx)(fl,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,Ze.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"Drag and drop files here, or click to select"}),(0,Ze.jsx)("input",{type:"file",onChange:T=>{let U=T.target.files?.[0];U&&(B(U),b(!1))},accept:"image/*,video/*,.pdf,.doc,.docx,.txt",className:"hidden",id:"file-upload"}),(0,Ze.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Choose File"})]})})]})})})]})})};var Us=H(he());Rt();var Pe=H(se()),nP=({thread:e,onClose:t,onUpdate:r,onDelete:a})=>{let{user:o}=Ge(),[n,s]=(0,Us.useState)([]),[i,c]=(0,Us.useState)(""),[l,d]=(0,Us.useState)(!1),[u,g]=(0,Us.useState)(null),[h,v]=(0,Us.useState)(!0),[m,y]=(0,Us.useState)(!1),[p,f]=(0,Us.useState)(e);(0,Us.useEffect)(()=>{x()},[e.id]);let x=async()=>{try{v(!0);let M=await vt.getForumReplies(e.id);s(M)}catch(M){console.error("Error loading replies:",M)}finally{v(!1)}},b=async(M,q,R)=>{try{if(q==="thread"){let D=M==="upvote"?await vt.upvoteThread(R):await vt.downvoteThread(R);f(D),r(D)}else{let D=M==="upvote"?await vt.upvoteReply(R):await vt.downvoteReply(R);s(A=>A.map(B=>B.id===R?D:B))}}catch(D){console.error("Error voting:",D)}},w=async()=>{try{let M=p.isPinned?await vt.unpinForumThread(e.id):await vt.pinForumThread(e.id);f(M),r(M)}catch(M){console.error("Error pinning thread:",M)}},N=async()=>{try{let M=p.isLocked?await vt.unlockForumThread(e.id):await vt.lockForumThread(e.id);f(M),r(M)}catch(M){console.error("Error locking thread:",M)}},I=async M=>{try{let q=await vt.acceptReply(M);s(R=>R.map(D=>D.id===M?q:D))}catch(q){console.error("Error accepting reply:",q)}},C=async()=>{if(i.trim())try{y(!0);let M={threadId:e.id,content:i.trim(),authorId:o?.id||"",parentReplyId:void 0,attachments:[],isAccepted:!1,isEdited:!1},q=await vt.createForumReply(M);s(R=>[...R,q]),c(""),d(!1)}catch(M){console.error("Error submitting reply:",M)}finally{y(!1)}},S=async(M,q)=>{try{let R=await vt.updateForumReply(M,{content:q});s(D=>D.map(A=>A.id===M?R:A)),g(null)}catch(R){console.error("Error updating reply:",R)}},k=async M=>{if(confirm("Are you sure you want to delete this reply?"))try{await vt.deleteForumReply(M),s(q=>q.filter(R=>R.id!==M))}catch(q){console.error("Error deleting reply:",q)}},E=M=>{let q=new Date(M),D=(new Date().getTime()-q.getTime())/(1e3*60*60);return D<1?"Just now":D<24?`${Math.floor(D)}h ago`:D<168?`${Math.floor(D/24)}d ago`:q.toLocaleDateString()},L=o?.role==="ADMIN"||o?.role==="TEACHER",P=o?.id===e.authorId||L,j=o?.id===e.authorId||L;return h?(0,Pe.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,Pe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[95vh] overflow-hidden",children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,Pe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pe.jsxs)("div",{className:"flex items-center space-x-2",children:[p.isPinned&&(0,Pe.jsx)(dl,{className:"h-5 w-5 text-yellow-500"}),p.isLocked&&(0,Pe.jsx)(ja,{className:"h-5 w-5 text-red-500"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:p.title}),(0,Pe.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-300",children:[(0,Pe.jsxs)("span",{children:["by ",p.author.name]}),(0,Pe.jsx)("span",{children:E(p.createdAt)}),(0,Pe.jsxs)("span",{children:[p.viewsCount," views"]}),(0,Pe.jsxs)("span",{children:[n.length," replies"]})]})]})]}),(0,Pe.jsxs)("div",{className:"flex items-center space-x-3",children:[L&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("button",{onClick:w,className:`p-2 rounded-lg transition-colors ${p.isPinned?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,title:p.isPinned?"Unpin Thread":"Pin Thread",children:(0,Pe.jsx)(dl,{className:"h-4 w-4"})}),(0,Pe.jsx)("button",{onClick:N,className:`p-2 rounded-lg transition-colors ${p.isLocked?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,title:p.isLocked?"Unlock Thread":"Lock Thread",children:p.isLocked?(0,Pe.jsx)(ja,{className:"h-4 w-4"}):(0,Pe.jsx)(ja,{className:"h-4 w-4"})})]}),P&&(0,Pe.jsx)("button",{onClick:()=>{},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"Edit Thread",children:(0,Pe.jsx)(Gr,{className:"h-4 w-4"})}),j&&(0,Pe.jsx)("button",{onClick:()=>{confirm("Are you sure you want to delete this thread?")&&a(e.id)},className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400",title:"Delete Thread",children:(0,Pe.jsx)(gr,{className:"h-4 w-4"})}),(0,Pe.jsx)("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Pe.jsx)(et,{className:"h-5 w-5"})})]})]}),(0,Pe.jsx)("div",{className:"flex h-[calc(95vh-120px)]",children:(0,Pe.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,Pe.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,Pe.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Pe.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,Pe.jsx)("button",{onClick:()=>b("upvote","thread",e.id),className:`p-1 rounded transition-colors ${p.upvotes>0?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:(0,Pe.jsx)(Vo,{className:"h-5 w-5"})}),(0,Pe.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:p.upvotes-p.downvotes}),(0,Pe.jsx)("button",{onClick:()=>b("downvote","thread",e.id),className:`p-1 rounded transition-colors ${p.downvotes>0?"text-red-600":"text-gray-400 hover:text-gray-600"}`,children:(0,Pe.jsx)(ui,{className:"h-5 w-5"})})]}),(0,Pe.jsxs)("div",{className:"flex-1",children:[(0,Pe.jsx)("div",{className:"prose dark:prose-invert max-w-none",children:(0,Pe.jsx)("div",{dangerouslySetInnerHTML:{__html:p.content}})}),p.tags.length>0&&(0,Pe.jsx)("div",{className:"flex flex-wrap items-center space-x-2 mt-4",children:p.tags.map(M=>(0,Pe.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded-full text-xs",children:M},M))}),p.attachments.length>0&&(0,Pe.jsxs)("div",{className:"mt-4",children:[(0,Pe.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Attachments"}),(0,Pe.jsx)("div",{className:"space-y-2",children:p.attachments.map(M=>(0,Pe.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,Pe.jsx)("img",{src:M.url,alt:M.originalName,className:"h-4 w-4 text-gray-400"}),(0,Pe.jsx)("a",{href:M.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:M.originalName})]},M.id))})]})]})]})}),(0,Pe.jsxs)("div",{className:"p-6",children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Pe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Replies (",n.length,")"]}),!p.isLocked&&(0,Pe.jsxs)("button",{onClick:()=>d(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Pe.jsx)(nc,{className:"h-4 w-4 mr-2"}),"Reply"]})]}),n.length===0?(0,Pe.jsxs)("div",{className:"text-center py-8",children:[(0,Pe.jsx)(Br,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Pe.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"No replies yet. Be the first to respond!"})]}):(0,Pe.jsx)("div",{className:"space-y-6",children:n.map(M=>(0,Pe.jsx)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:(0,Pe.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Pe.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,Pe.jsx)("button",{onClick:()=>b("upvote","reply",M.id),className:`p-1 rounded transition-colors ${M.upvotes>0?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:(0,Pe.jsx)(Vo,{className:"h-4 w-4"})}),(0,Pe.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:M.upvotes-M.downvotes}),(0,Pe.jsx)("button",{onClick:()=>b("downvote","reply",M.id),className:`p-1 rounded transition-colors ${M.downvotes>0?"text-red-600":"text-gray-400 hover:text-gray-600"}`,children:(0,Pe.jsx)(ui,{className:"h-4 w-4"})})]}),(0,Pe.jsxs)("div",{className:"flex-1",children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pe.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:M.author.name}),M.isAccepted&&(0,Pe.jsx)(Xt,{className:"h-4 w-4 text-green-500"}),(0,Pe.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:E(M.createdAt)}),M.isEdited&&(0,Pe.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"(edited)"})]}),(0,Pe.jsxs)("div",{className:"flex items-center space-x-2",children:[L&&!M.isAccepted&&(0,Pe.jsx)("button",{onClick:()=>I(M.id),className:"p-1 text-gray-400 hover:text-green-600 dark:hover:text-green-400",title:"Accept Answer",children:(0,Pe.jsx)(Xt,{className:"h-4 w-4"})}),(o?.id===M.authorId||L)&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("button",{onClick:()=>g(M),className:"p-1 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",title:"Edit Reply",children:(0,Pe.jsx)(Gr,{className:"h-4 w-4"})}),(0,Pe.jsx)("button",{onClick:()=>k(M.id),className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400",title:"Delete Reply",children:(0,Pe.jsx)(gr,{className:"h-4 w-4"})})]})]})]}),u?.id===M.id?(0,Pe.jsxs)("div",{className:"space-y-4",children:[(0,Pe.jsx)("textarea",{value:u.content,onChange:q=>g({...u,content:q.target.value}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",rows:4}),(0,Pe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pe.jsx)("button",{onClick:()=>S(M.id,u.content),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:(0,Pe.jsx)(Jn,{className:"h-4 w-4"})}),(0,Pe.jsx)("button",{onClick:()=>g(null),className:"px-3 py-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Cancel"})]})]}):(0,Pe.jsx)("div",{className:"prose dark:prose-invert max-w-none",children:(0,Pe.jsx)("div",{dangerouslySetInnerHTML:{__html:M.content}})})]})]})},M.id))})]})]})}),l&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4",children:(0,Pe.jsxs)("div",{className:"p-6",children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Write a Reply"}),(0,Pe.jsx)("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Pe.jsx)(et,{className:"h-5 w-5"})})]}),(0,Pe.jsx)("textarea",{value:i,onChange:M=>c(M.target.value),className:"w-full p-4 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",rows:6,placeholder:"Write your reply here..."}),(0,Pe.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-4",children:[(0,Pe.jsx)("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors",children:"Cancel"}),(0,Pe.jsx)("button",{onClick:C,disabled:m||!i.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:m?"Posting...":"Post Reply"})]})]})})})]})})};var Je=H(se()),Qp=({courseId:e,courseTitle:t})=>{let[r,a]=(0,en.useState)([]),[o,n]=(0,en.useState)([]),[s,i]=(0,en.useState)("all"),[c,l]=(0,en.useState)(""),[d,u]=(0,en.useState)("recent"),[g,h]=(0,en.useState)(!0),[v,m]=(0,en.useState)(!1),[y,p]=(0,en.useState)(null),[f,x]=(0,en.useState)(!1),[b,w]=(0,en.useState)(!1);(0,en.useEffect)(()=>{N()},[e]);let N=async()=>{try{h(!0);let R=await vt.getForumCategories(e);n(R);let D=await vt.getForumThreads(e);a(D)}catch(R){console.error("Error loading forum data:",R)}finally{h(!1)}},C=[...r.filter(R=>!(s!=="all"&&R.categoryId!==s||c&&!R.title.toLowerCase().includes(c.toLowerCase())&&!R.content.toLowerCase().includes(c.toLowerCase())||b&&!R.isPinned))].sort((R,D)=>{switch(d){case"recent":return new Date(D.createdAt).getTime()-new Date(R.createdAt).getTime();case"popular":return D.repliesCount+D.viewsCount-(R.repliesCount+R.viewsCount);case"unanswered":return R.repliesCount-D.repliesCount;default:return 0}}),S=()=>{m(!0)},k=R=>{a(D=>[R,...D]),m(!1)},E=R=>{p(R),x(!0)},L=R=>{a(D=>D.map(A=>A.id===R.id?R:A)),x(!1),p(null)},P=R=>{a(D=>D.filter(A=>A.id!==R)),x(!1),p(null)},j=R=>o.find(A=>A.id===R)?.name||"General",M=R=>o.find(A=>A.id===R)?.color||"bg-gray-500",q=R=>{let D=new Date(R),B=(new Date().getTime()-D.getTime())/(1e3*60*60);return B<1?"Just now":B<24?`${Math.floor(B)}h ago`:B<168?`${Math.floor(B/24)}d ago`:D.toLocaleDateString()};return g?(0,Je.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,Je.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,Je.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,Je.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:(0,Je.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Je.jsxs)("div",{className:"flex items-center justify-between py-6",children:[(0,Je.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Je.jsx)(yr,{className:"h-8 w-8 text-blue-600"}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Course Forum"}),t&&(0,Je.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:t})]})]}),(0,Je.jsxs)("button",{onClick:S,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Je.jsx)(Ut,{className:"h-4 w-4 mr-2"}),"New Discussion"]})]})})}),(0,Je.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Je.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,Je.jsx)("div",{className:"lg:col-span-1",children:(0,Je.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Je.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Categories"}),(0,Je.jsxs)("div",{className:"space-y-2",children:[(0,Je.jsx)("button",{onClick:()=>i("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${s==="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"All Discussions"}),o.map(R=>(0,Je.jsx)("button",{onClick:()=>i(R.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${s===R.id?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:(0,Je.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Je.jsx)("div",{className:`w-3 h-3 rounded-full ${R.color}`}),(0,Je.jsx)("span",{children:R.name})]})},R.id))]}),(0,Je.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,Je.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Filters"}),(0,Je.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Je.jsx)("input",{type:"checkbox",checked:b,onChange:R=>w(R.target.checked),className:"rounded border-gray-300 dark:border-gray-600"}),(0,Je.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Pinned only"})]})]})]})}),(0,Je.jsxs)("div",{className:"lg:col-span-3",children:[(0,Je.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:(0,Je.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,Je.jsx)("div",{className:"flex-1 max-w-md",children:(0,Je.jsxs)("div",{className:"relative",children:[(0,Je.jsx)(Pt,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,Je.jsx)("input",{type:"text",placeholder:"Search discussions...",value:c,onChange:R=>l(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})}),(0,Je.jsx)("div",{className:"flex items-center space-x-4",children:(0,Je.jsxs)("select",{value:d,onChange:R=>u(R.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,Je.jsx)("option",{value:"recent",children:"Most Recent"}),(0,Je.jsx)("option",{value:"popular",children:"Most Popular"}),(0,Je.jsx)("option",{value:"unanswered",children:"Unanswered"})]})})]})}),(0,Je.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:C.length===0?(0,Je.jsxs)("div",{className:"text-center py-12",children:[(0,Je.jsx)(yr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Je.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No discussions found"}),(0,Je.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:c||s!=="all"?"Try adjusting your search or filters":"Be the first to start a discussion!"}),!c&&s==="all"&&(0,Je.jsxs)("button",{onClick:S,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors mx-auto",children:[(0,Je.jsx)(Ut,{className:"h-4 w-4 mr-2"}),"Start Discussion"]})]}):(0,Je.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:C.map(R=>(0,Je.jsx)("div",{className:"p-6 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",onClick:()=>E(R),children:(0,Je.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Je.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[R.isPinned&&(0,Je.jsx)(dl,{className:"h-4 w-4 text-yellow-500"}),R.isLocked&&(0,Je.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 rounded-full text-xs",children:"Locked"}),(0,Je.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Je.jsx)(Vo,{className:"h-4 w-4 text-gray-400"}),(0,Je.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:R.upvotes})]})]}),(0,Je.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Je.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Je.jsx)("span",{className:`px-2 py-1 rounded-full text-xs ${M(R.categoryId)} text-white`,children:j(R.categoryId)}),R.isPinned&&(0,Je.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 rounded-full text-xs",children:"Pinned"}),R.isLocked&&(0,Je.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 rounded-full text-xs",children:"Locked"})]}),(0,Je.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 hover:text-blue-600 dark:hover:text-blue-400",children:R.title}),(0,Je.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-3 line-clamp-2",children:R.content}),(0,Je.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[(0,Je.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Je.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Je.jsx)(Kr,{className:"h-4 w-4"}),(0,Je.jsx)("span",{children:R.author.name})]}),(0,Je.jsx)("div",{className:"flex items-center space-x-1",children:(0,Je.jsx)("span",{children:q(R.createdAt)})})]}),(0,Je.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Je.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Je.jsx)(Br,{className:"h-4 w-4"}),(0,Je.jsxs)("span",{children:[R.repliesCount," replies"]})]}),(0,Je.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Je.jsx)(Nr,{className:"h-4 w-4"}),(0,Je.jsxs)("span",{children:[R.viewsCount," views"]})]})]})]})]})]})},R.id))})})]})]})}),v&&(0,Je.jsx)(oP,{courseId:e,categories:o,onClose:()=>m(!1),onSave:k}),f&&y&&(0,Je.jsx)(nP,{thread:y,onClose:()=>{x(!1),p(null)},onUpdate:L,onDelete:P})]})};Rt();var Ek=H(he());var Ie=H(he()),Pc=H(Xi());var na=H(he());function iP(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,na.useMemo)(()=>a=>{t.forEach(o=>o(a))},t)}var Yp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Sc(e){let t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function lv(e){return"nodeType"in e}function fo(e){var t,r;return e?Sc(e)?e:lv(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function cv(e){let{Document:t}=fo(e);return e instanceof t}function qu(e){return Sc(e)?!1:e instanceof fo(e).HTMLElement}function fk(e){return e instanceof fo(e).SVGElement}function Ec(e){return e?Sc(e)?e.document:lv(e)?cv(e)?e:qu(e)||fk(e)?e.ownerDocument:document:document:document}var Cn=Yp?na.useLayoutEffect:na.useEffect;function dv(e){let t=(0,na.useRef)(e);return Cn(()=>{t.current=e}),(0,na.useCallback)(function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t.current==null?void 0:t.current(...a)},[])}function lP(){let e=(0,na.useRef)(null),t=(0,na.useCallback)((a,o)=>{e.current=setInterval(a,o)},[]),r=(0,na.useCallback)(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function ju(e,t){t===void 0&&(t=[e]);let r=(0,na.useRef)(e);return Cn(()=>{r.current!==e&&(r.current=e)},t),r}function Uu(e,t){let r=(0,na.useRef)();return(0,na.useMemo)(()=>{let a=e(r.current);return r.current=a,a},[...t])}function Xp(e){let t=dv(e),r=(0,na.useRef)(null),a=(0,na.useCallback)(o=>{o!==r.current&&t?.(o,r.current),r.current=o},[]);return[r,a]}function uv(e){let t=(0,na.useRef)();return(0,na.useEffect)(()=>{t.current=e},[e]),t.current}var uk={};function Lc(e,t){return(0,na.useMemo)(()=>{if(t)return t;let r=uk[e]==null?0:uk[e]+1;return uk[e]=r,e+"-"+r},[e,t])}function cP(e){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return a.reduce((n,s)=>{let i=Object.entries(s);for(let[c,l]of i){let d=n[c];d!=null&&(n[c]=d+e*l)}return n},{...t})}}var Ic=cP(1),Rc=cP(-1);function ZW(e){return"clientX"in e&&"clientY"in e}function Jp(e){if(!e)return!1;let{KeyboardEvent:t}=fo(e.target);return t&&e instanceof t}function eG(e){if(!e)return!1;let{TouchEvent:t}=fo(e.target);return t&&e instanceof t}function fv(e){if(eG(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return ZW(e)?{x:e.clientX,y:e.clientY}:null}var wi=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[wi.Translate.toString(e),wi.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:a}=e;return t+" "+r+"ms "+a}}}),sP="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function dP(e){return e.matches(sP)?e:e.querySelector(sP)}var Ac=H(he()),tG={display:"none"};function uP(e){let{id:t,value:r}=e;return Ac.default.createElement("div",{id:t,style:tG},r)}function fP(e){let{id:t,announcement:r,ariaLiveType:a="assertive"}=e,o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ac.default.createElement("div",{id:t,style:o,role:"status","aria-live":a,"aria-atomic":!0},r)}function mP(){let[e,t]=(0,Ac.useState)("");return{announce:(0,Ac.useCallback)(a=>{a!=null&&t(a)},[]),announcement:e}}var EP=(0,Ie.createContext)(null);function rG(e){let t=(0,Ie.useContext)(EP);(0,Ie.useEffect)(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function aG(){let[e]=(0,Ie.useState)(()=>new Set),t=(0,Ie.useCallback)(a=>(e.add(a),()=>e.delete(a)),[e]);return[(0,Ie.useCallback)(a=>{let{type:o,event:n}=a;e.forEach(s=>{var i;return(i=s[o])==null?void 0:i.call(s,n)})},[e]),t]}var oG={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},nG={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function sG(e){let{announcements:t=nG,container:r,hiddenTextDescribedById:a,screenReaderInstructions:o=oG}=e,{announce:n,announcement:s}=mP(),i=Lc("DndLiveRegion"),[c,l]=(0,Ie.useState)(!1);if((0,Ie.useEffect)(()=>{l(!0)},[]),rG((0,Ie.useMemo)(()=>({onDragStart(u){let{active:g}=u;n(t.onDragStart({active:g}))},onDragMove(u){let{active:g,over:h}=u;t.onDragMove&&n(t.onDragMove({active:g,over:h}))},onDragOver(u){let{active:g,over:h}=u;n(t.onDragOver({active:g,over:h}))},onDragEnd(u){let{active:g,over:h}=u;n(t.onDragEnd({active:g,over:h}))},onDragCancel(u){let{active:g,over:h}=u;n(t.onDragCancel({active:g,over:h}))}}),[n,t])),!c)return null;let d=Ie.default.createElement(Ie.default.Fragment,null,Ie.default.createElement(uP,{id:a,value:o.draggable}),Ie.default.createElement(fP,{id:i,announcement:s}));return r?(0,Pc.createPortal)(d,r):d}var ka;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ka||(ka={}));function pv(){}function wk(e,t){return(0,Ie.useMemo)(()=>({sensor:e,options:t??{}}),[e,t])}function LP(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,Ie.useMemo)(()=>[...t].filter(a=>a!=null),[...t])}var cs=Object.freeze({x:0,y:0});function IP(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function RP(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return r-a}function iG(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return a-r}function pP(e){let{left:t,top:r,height:a,width:o}=e;return[{x:t,y:r},{x:t+o,y:r},{x:t,y:r+a},{x:t+o,y:r+a}]}function kk(e,t){if(!e||e.length===0)return null;let[r]=e;return t?r[t]:r}function gP(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}var AP=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e,o=gP(t,t.left,t.top),n=[];for(let s of a){let{id:i}=s,c=r.get(i);if(c){let l=IP(gP(c),o);n.push({id:i,data:{droppableContainer:s,value:l}})}}return n.sort(RP)},PP=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e,o=pP(t),n=[];for(let s of a){let{id:i}=s,c=r.get(i);if(c){let l=pP(c),d=o.reduce((g,h,v)=>g+IP(l[v],h),0),u=Number((d/4).toFixed(4));n.push({id:i,data:{droppableContainer:s,value:u}})}}return n.sort(RP)};function lG(e,t){let r=Math.max(t.top,e.top),a=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),n=Math.min(t.top+t.height,e.top+e.height),s=o-a,i=n-r;if(a<o&&r<n){let c=t.width*t.height,l=e.width*e.height,d=s*i,u=d/(c+l-d);return Number(u.toFixed(4))}return 0}var cG=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e,o=[];for(let n of a){let{id:s}=n,i=r.get(s);if(i){let c=lG(i,t);c>0&&o.push({id:s,data:{droppableContainer:n,value:c}})}}return o.sort(iG)};function dG(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function TP(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:cs}function uG(e){return function(r){for(var a=arguments.length,o=new Array(a>1?a-1:0),n=1;n<a;n++)o[n-1]=arguments[n];return o.reduce((s,i)=>({...s,top:s.top+e*i.y,bottom:s.bottom+e*i.y,left:s.left+e*i.x,right:s.right+e*i.x}),{...r})}}var fG=uG(1);function mG(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function pG(e,t,r){let a=mG(t);if(!a)return e;let{scaleX:o,scaleY:n,x:s,y:i}=a,c=e.left-s-(1-o)*parseFloat(r),l=e.top-i-(1-n)*parseFloat(r.slice(r.indexOf(" ")+1)),d=o?e.width/o:e.width,u=n?e.height/n:e.height;return{width:d,height:u,top:l,right:c+d,bottom:l+u,left:c}}var gG={ignoreTransform:!1};function Fc(e,t){t===void 0&&(t=gG);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:l,transformOrigin:d}=fo(e).getComputedStyle(e);l&&(r=pG(r,l,d))}let{top:a,left:o,width:n,height:s,bottom:i,right:c}=r;return{top:a,left:o,width:n,height:s,bottom:i,right:c}}function hP(e){return Fc(e,{ignoreTransform:!0})}function hG(e){let t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function vG(e,t){return t===void 0&&(t=fo(e).getComputedStyle(e)),t.position==="fixed"}function yG(e,t){t===void 0&&(t=fo(e).getComputedStyle(e));let r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{let n=t[o];return typeof n=="string"?r.test(n):!1})}function ag(e,t){let r=[];function a(o){if(t!=null&&r.length>=t||!o)return r;if(cv(o)&&o.scrollingElement!=null&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!qu(o)||fk(o)||r.includes(o))return r;let n=fo(e).getComputedStyle(o);return o!==e&&yG(o,n)&&r.push(o),vG(o,n)?r:a(o.parentNode)}return e?a(e):r}function DP(e){let[t]=ag(e,1);return t??null}function mk(e){return!Yp||!e?null:Sc(e)?e:lv(e)?cv(e)||e===Ec(e).scrollingElement?window:qu(e)?e:null:null}function FP(e){return Sc(e)?e.scrollX:e.scrollLeft}function OP(e){return Sc(e)?e.scrollY:e.scrollTop}function hk(e){return{x:FP(e),y:OP(e)}}var Ta;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ta||(Ta={}));function MP(e){return!Yp||!e?!1:e===document.scrollingElement}function _P(e){let t={x:0,y:0},r=MP(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},o=e.scrollTop<=t.y,n=e.scrollLeft<=t.x,s=e.scrollTop>=a.y,i=e.scrollLeft>=a.x;return{isTop:o,isLeft:n,isBottom:s,isRight:i,maxScroll:a,minScroll:t}}var xG={x:.2,y:.2};function bG(e,t,r,a,o){let{top:n,left:s,right:i,bottom:c}=r;a===void 0&&(a=10),o===void 0&&(o=xG);let{isTop:l,isBottom:d,isLeft:u,isRight:g}=_P(e),h={x:0,y:0},v={x:0,y:0},m={height:t.height*o.y,width:t.width*o.x};return!l&&n<=t.top+m.height?(h.y=Ta.Backward,v.y=a*Math.abs((t.top+m.height-n)/m.height)):!d&&c>=t.bottom-m.height&&(h.y=Ta.Forward,v.y=a*Math.abs((t.bottom-m.height-c)/m.height)),!g&&i>=t.right-m.width?(h.x=Ta.Forward,v.x=a*Math.abs((t.right-m.width-i)/m.width)):!u&&s<=t.left+m.width&&(h.x=Ta.Backward,v.x=a*Math.abs((t.left+m.width-s)/m.width)),{direction:h,speed:v}}function wG(e){if(e===document.scrollingElement){let{innerWidth:n,innerHeight:s}=window;return{top:0,left:0,right:n,bottom:s,width:n,height:s}}let{top:t,left:r,right:a,bottom:o}=e.getBoundingClientRect();return{top:t,left:r,right:a,bottom:o,width:e.clientWidth,height:e.clientHeight}}function BP(e){return e.reduce((t,r)=>Ic(t,hk(r)),cs)}function kG(e){return e.reduce((t,r)=>t+FP(r),0)}function NG(e){return e.reduce((t,r)=>t+OP(r),0)}function CG(e,t){if(t===void 0&&(t=Fc),!e)return;let{top:r,left:a,bottom:o,right:n}=t(e);DP(e)&&(o<=0||n<=0||r>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}var SG=[["x",["left","right"],kG],["y",["top","bottom"],NG]],eg=class{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let a=ag(r),o=BP(a);this.rect={...t},this.width=t.width,this.height=t.height;for(let[n,s,i]of SG)for(let c of s)Object.defineProperty(this,c,{get:()=>{let l=i(a),d=o[n]-l;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}},Tc=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...r)})},this.target=t}add(t,r,a){var o;(o=this.target)==null||o.addEventListener(t,r,a),this.listeners.push([t,r,a])}};function EG(e){let{EventTarget:t}=fo(e);return e instanceof t?e:Ec(e)}function pk(e,t){let r=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+a**2)>t:"x"in t&&"y"in t?r>t.x&&a>t.y:"x"in t?r>t.x:"y"in t?a>t.y:!1}var Sn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Sn||(Sn={}));function vP(e){e.preventDefault()}function LG(e){e.stopPropagation()}var rr;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(rr||(rr={}));var qP={start:[rr.Space,rr.Enter],cancel:[rr.Esc],end:[rr.Space,rr.Enter,rr.Tab]},IG=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case rr.Right:return{...r,x:r.x+25};case rr.Left:return{...r,x:r.x-25};case rr.Down:return{...r,y:r.y+25};case rr.Up:return{...r,y:r.y-25}}},zu=class{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;let{event:{target:r}}=t;this.props=t,this.listeners=new Tc(Ec(r)),this.windowListeners=new Tc(fo(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Sn.Resize,this.handleCancel),this.windowListeners.add(Sn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Sn.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:t,onStart:r}=this.props,a=t.node.current;a&&CG(a),r(cs)}handleKeyDown(t){if(Jp(t)){let{active:r,context:a,options:o}=this.props,{keyboardCodes:n=qP,coordinateGetter:s=IG,scrollBehavior:i="smooth"}=o,{code:c}=t;if(n.end.includes(c)){this.handleEnd(t);return}if(n.cancel.includes(c)){this.handleCancel(t);return}let{collisionRect:l}=a.current,d=l?{x:l.left,y:l.top}:cs;this.referenceCoordinates||(this.referenceCoordinates=d);let u=s(t,{active:r,context:a.current,currentCoordinates:d});if(u){let g=Rc(u,d),h={x:0,y:0},{scrollableAncestors:v}=a.current;for(let m of v){let y=t.code,{isTop:p,isRight:f,isLeft:x,isBottom:b,maxScroll:w,minScroll:N}=_P(m),I=wG(m),C={x:Math.min(y===rr.Right?I.right-I.width/2:I.right,Math.max(y===rr.Right?I.left:I.left+I.width/2,u.x)),y:Math.min(y===rr.Down?I.bottom-I.height/2:I.bottom,Math.max(y===rr.Down?I.top:I.top+I.height/2,u.y))},S=y===rr.Right&&!f||y===rr.Left&&!x,k=y===rr.Down&&!b||y===rr.Up&&!p;if(S&&C.x!==u.x){let E=m.scrollLeft+g.x,L=y===rr.Right&&E<=w.x||y===rr.Left&&E>=N.x;if(L&&!g.y){m.scrollTo({left:E,behavior:i});return}L?h.x=m.scrollLeft-E:h.x=y===rr.Right?m.scrollLeft-w.x:m.scrollLeft-N.x,h.x&&m.scrollBy({left:-h.x,behavior:i});break}else if(k&&C.y!==u.y){let E=m.scrollTop+g.y,L=y===rr.Down&&E<=w.y||y===rr.Up&&E>=N.y;if(L&&!g.x){m.scrollTo({top:E,behavior:i});return}L?h.y=m.scrollTop-E:h.y=y===rr.Down?m.scrollTop-w.y:m.scrollTop-N.y,h.y&&m.scrollBy({top:-h.y,behavior:i});break}}this.handleMove(t,Ic(Rc(u,this.referenceCoordinates),h))}}}handleMove(t,r){let{onMove:a}=this.props;t.preventDefault(),a(r)}handleEnd(t){let{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){let{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};zu.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:a=qP,onActivation:o}=t,{active:n}=r,{code:s}=e.nativeEvent;if(a.start.includes(s)){let i=n.activatorNode.current;return i&&e.target!==i?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function yP(e){return!!(e&&"distance"in e)}function xP(e){return!!(e&&"delay"in e)}var tg=class{constructor(t,r,a){var o;a===void 0&&(a=EG(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;let{event:n}=t,{target:s}=n;this.props=t,this.events=r,this.document=Ec(s),this.documentListeners=new Tc(this.document),this.listeners=new Tc(a),this.windowListeners=new Tc(fo(s)),this.initialCoordinates=(o=fv(n))!=null?o:cs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Sn.Resize,this.handleCancel),this.windowListeners.add(Sn.DragStart,vP),this.windowListeners.add(Sn.VisibilityChange,this.handleCancel),this.windowListeners.add(Sn.ContextMenu,vP),this.documentListeners.add(Sn.Keydown,this.handleKeydown),r){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(xP(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(yP(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){let{active:a,onPending:o}=this.props;o(a,t,this.initialCoordinates,r)}handleStart(){let{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Sn.Click,LG,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Sn.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;let{activated:a,initialCoordinates:o,props:n}=this,{onMove:s,options:{activationConstraint:i}}=n;if(!o)return;let c=(r=fv(t))!=null?r:cs,l=Rc(o,c);if(!a&&i){if(yP(i)){if(i.tolerance!=null&&pk(l,i.tolerance))return this.handleCancel();if(pk(l,i.distance))return this.handleStart()}if(xP(i)&&pk(l,i.tolerance))return this.handleCancel();this.handlePending(i,l);return}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){let{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){let{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===rr.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}},RG={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}},$u=class extends tg{constructor(t){let{event:r}=t,a=Ec(r.target);super(t,RG,a)}};$u.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;return!r.isPrimary||r.button!==0?!1:(a?.({event:r}),!0)}}];var AG={move:{name:"mousemove"},end:{name:"mouseup"}},vk;(function(e){e[e.RightClick=2]="RightClick"})(vk||(vk={}));var yk=class extends tg{constructor(t){super(t,AG,Ec(t.event.target))}};yk.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;return r.button===vk.RightClick?!1:(a?.({event:r}),!0)}}];var gk={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}},xk=class extends tg{constructor(t){super(t,gk)}static setup(){return window.addEventListener(gk.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(gk.move.name,t)};function t(){}}};xk.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t,{touches:o}=r;return o.length>1?!1:(a?.({event:r}),!0)}}];var Zp;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Zp||(Zp={}));var gv;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(gv||(gv={}));function PG(e){let{acceleration:t,activator:r=Zp.Pointer,canScroll:a,draggingRect:o,enabled:n,interval:s=5,order:i=gv.TreeOrder,pointerCoordinates:c,scrollableAncestors:l,scrollableAncestorRects:d,delta:u,threshold:g}=e,h=DG({delta:u,disabled:!n}),[v,m]=lP(),y=(0,Ie.useRef)({x:0,y:0}),p=(0,Ie.useRef)({x:0,y:0}),f=(0,Ie.useMemo)(()=>{switch(r){case Zp.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Zp.DraggableRect:return o}},[r,o,c]),x=(0,Ie.useRef)(null),b=(0,Ie.useCallback)(()=>{let N=x.current;if(!N)return;let I=y.current.x*p.current.x,C=y.current.y*p.current.y;N.scrollBy(I,C)},[]),w=(0,Ie.useMemo)(()=>i===gv.TreeOrder?[...l].reverse():l,[i,l]);(0,Ie.useEffect)(()=>{if(!n||!l.length||!f){m();return}for(let N of w){if(a?.(N)===!1)continue;let I=l.indexOf(N),C=d[I];if(!C)continue;let{direction:S,speed:k}=bG(N,C,f,t,g);for(let E of["x","y"])h[E][S[E]]||(k[E]=0,S[E]=0);if(k.x>0||k.y>0){m(),x.current=N,v(b,s),y.current=k,p.current=S;return}}y.current={x:0,y:0},p.current={x:0,y:0},m()},[t,b,a,m,n,s,JSON.stringify(f),JSON.stringify(h),v,l,w,d,JSON.stringify(g)])}var TG={x:{[Ta.Backward]:!1,[Ta.Forward]:!1},y:{[Ta.Backward]:!1,[Ta.Forward]:!1}};function DG(e){let{delta:t,disabled:r}=e,a=uv(t);return Uu(o=>{if(r||!a||!o)return TG;let n={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[Ta.Backward]:o.x[Ta.Backward]||n.x===-1,[Ta.Forward]:o.x[Ta.Forward]||n.x===1},y:{[Ta.Backward]:o.y[Ta.Backward]||n.y===-1,[Ta.Forward]:o.y[Ta.Forward]||n.y===1}}},[r,t,a])}function FG(e,t){let r=t!=null?e.get(t):void 0,a=r?r.node.current:null;return Uu(o=>{var n;return t==null?null:(n=a??o)!=null?n:null},[a,t])}function OG(e,t){return(0,Ie.useMemo)(()=>e.reduce((r,a)=>{let{sensor:o}=a,n=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,a)}));return[...r,...n]},[]),[e,t])}var rg;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(rg||(rg={}));var bk;(function(e){e.Optimized="optimized"})(bk||(bk={}));var bP=new Map;function MG(e,t){let{dragging:r,dependencies:a,config:o}=t,[n,s]=(0,Ie.useState)(null),{frequency:i,measure:c,strategy:l}=o,d=(0,Ie.useRef)(e),u=y(),g=ju(u),h=(0,Ie.useCallback)(function(p){p===void 0&&(p=[]),!g.current&&s(f=>f===null?p:f.concat(p.filter(x=>!f.includes(x))))},[g]),v=(0,Ie.useRef)(null),m=Uu(p=>{if(u&&!r)return bP;if(!p||p===bP||d.current!==e||n!=null){let f=new Map;for(let x of e){if(!x)continue;if(n&&n.length>0&&!n.includes(x.id)&&x.rect.current){f.set(x.id,x.rect.current);continue}let b=x.node.current,w=b?new eg(c(b),b):null;x.rect.current=w,w&&f.set(x.id,w)}return f}return p},[e,n,r,u,c]);return(0,Ie.useEffect)(()=>{d.current=e},[e]),(0,Ie.useEffect)(()=>{u||h()},[r,u]),(0,Ie.useEffect)(()=>{n&&n.length>0&&s(null)},[JSON.stringify(n)]),(0,Ie.useEffect)(()=>{u||typeof i!="number"||v.current!==null||(v.current=setTimeout(()=>{h(),v.current=null},i))},[i,u,h,...a]),{droppableRects:m,measureDroppableContainers:h,measuringScheduled:n!=null};function y(){switch(l){case rg.Always:return!1;case rg.BeforeDragging:return r;default:return!r}}}function jP(e,t){return Uu(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function _G(e,t){return jP(e,t)}function BG(e){let{callback:t,disabled:r}=e,a=dv(t),o=(0,Ie.useMemo)(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;let{MutationObserver:n}=window;return new n(a)},[a,r]);return(0,Ie.useEffect)(()=>()=>o?.disconnect(),[o]),o}function hv(e){let{callback:t,disabled:r}=e,a=dv(t),o=(0,Ie.useMemo)(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;let{ResizeObserver:n}=window;return new n(a)},[r]);return(0,Ie.useEffect)(()=>()=>o?.disconnect(),[o]),o}function qG(e){return new eg(Fc(e),e)}function wP(e,t,r){t===void 0&&(t=qG);let[a,o]=(0,Ie.useState)(null);function n(){o(c=>{if(!e)return null;if(e.isConnected===!1){var l;return(l=c??r)!=null?l:null}let d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}let s=BG({callback(c){if(e)for(let l of c){let{type:d,target:u}=l;if(d==="childList"&&u instanceof HTMLElement&&u.contains(e)){n();break}}}}),i=hv({callback:n});return Cn(()=>{n(),e?(i?.observe(e),s?.observe(document.body,{childList:!0,subtree:!0})):(i?.disconnect(),s?.disconnect())},[e]),a}function jG(e){let t=jP(e);return TP(e,t)}var kP=[];function UG(e){let t=(0,Ie.useRef)(e),r=Uu(a=>e?a&&a!==kP&&e&&t.current&&e.parentNode===t.current.parentNode?a:ag(e):kP,[e]);return(0,Ie.useEffect)(()=>{t.current=e},[e]),r}function zG(e){let[t,r]=(0,Ie.useState)(null),a=(0,Ie.useRef)(e),o=(0,Ie.useCallback)(n=>{let s=mk(n.target);s&&r(i=>i?(i.set(s,hk(s)),new Map(i)):null)},[]);return(0,Ie.useEffect)(()=>{let n=a.current;if(e!==n){s(n);let i=e.map(c=>{let l=mk(c);return l?(l.addEventListener("scroll",o,{passive:!0}),[l,hk(l)]):null}).filter(c=>c!=null);r(i.length?new Map(i):null),a.current=e}return()=>{s(e),s(n)};function s(i){i.forEach(c=>{let l=mk(c);l?.removeEventListener("scroll",o)})}},[o,e]),(0,Ie.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((n,s)=>Ic(n,s),cs):BP(e):cs,[e,t])}function NP(e,t){t===void 0&&(t=[]);let r=(0,Ie.useRef)(null);return(0,Ie.useEffect)(()=>{r.current=null},t),(0,Ie.useEffect)(()=>{let a=e!==cs;a&&!r.current&&(r.current=e),!a&&r.current&&(r.current=null)},[e]),r.current?Rc(e,r.current):cs}function $G(e){(0,Ie.useEffect)(()=>{if(!Yp)return;let t=e.map(r=>{let{sensor:a}=r;return a.setup==null?void 0:a.setup()});return()=>{for(let r of t)r?.()}},e.map(t=>{let{sensor:r}=t;return r}))}function HG(e,t){return(0,Ie.useMemo)(()=>e.reduce((r,a)=>{let{eventName:o,handler:n}=a;return r[o]=s=>{n(s,t)},r},{}),[e,t])}function UP(e){return(0,Ie.useMemo)(()=>e?hG(e):null,[e])}var CP=[];function VG(e,t){t===void 0&&(t=Fc);let[r]=e,a=UP(r?fo(r):null),[o,n]=(0,Ie.useState)(CP);function s(){n(()=>e.length?e.map(c=>MP(c)?a:new eg(t(c),c)):CP)}let i=hv({callback:s});return Cn(()=>{i?.disconnect(),s(),e.forEach(c=>i?.observe(c))},[e]),o}function WG(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return qu(t)?t:e}function GG(e){let{measure:t}=e,[r,a]=(0,Ie.useState)(null),o=(0,Ie.useCallback)(l=>{for(let{target:d}of l)if(qu(d)){a(u=>{let g=t(d);return u?{...u,width:g.width,height:g.height}:g});break}},[t]),n=hv({callback:o}),s=(0,Ie.useCallback)(l=>{let d=WG(l);n?.disconnect(),d&&n?.observe(d),a(d?t(d):null)},[t,n]),[i,c]=Xp(s);return(0,Ie.useMemo)(()=>({nodeRef:i,rect:r,setRef:c}),[r,i,c])}var KG=[{sensor:$u,options:{}},{sensor:zu,options:{}}],QG={current:{}},mv={draggable:{measure:hP},droppable:{measure:hP,strategy:rg.WhileDragging,frequency:bk.Optimized},dragOverlay:{measure:Fc}},Dc=class extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,a;return(r=(a=this.get(t))==null?void 0:a.node.current)!=null?r:void 0}},YG={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Dc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:pv},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:mv,measureDroppableContainers:pv,windowRect:null,measuringScheduled:!1},XG={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:pv,draggableNodes:new Map,over:null,measureDroppableContainers:pv},vv=(0,Ie.createContext)(XG),zP=(0,Ie.createContext)(YG);function JG(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Dc}}}function ZG(e,t){switch(t.type){case ka.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ka.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ka.DragEnd:case ka.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ka.RegisterDroppable:{let{element:r}=t,{id:a}=r,o=new Dc(e.droppable.containers);return o.set(a,r),{...e,droppable:{...e.droppable,containers:o}}}case ka.SetDroppableDisabled:{let{id:r,key:a,disabled:o}=t,n=e.droppable.containers.get(r);if(!n||a!==n.key)return e;let s=new Dc(e.droppable.containers);return s.set(r,{...n,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case ka.UnregisterDroppable:{let{id:r,key:a}=t,o=e.droppable.containers.get(r);if(!o||a!==o.key)return e;let n=new Dc(e.droppable.containers);return n.delete(r),{...e,droppable:{...e.droppable,containers:n}}}default:return e}}function eK(e){let{disabled:t}=e,{active:r,activatorEvent:a,draggableNodes:o}=(0,Ie.useContext)(vv),n=uv(a),s=uv(r?.id);return(0,Ie.useEffect)(()=>{if(!t&&!a&&n&&s!=null){if(!Jp(n)||document.activeElement===n.target)return;let i=o.get(s);if(!i)return;let{activatorNode:c,node:l}=i;if(!c.current&&!l.current)return;requestAnimationFrame(()=>{for(let d of[c.current,l.current]){if(!d)continue;let u=dP(d);if(u){u.focus();break}}})}},[a,t,o,s,n]),null}function tK(e,t){let{transform:r,...a}=t;return e!=null&&e.length?e.reduce((o,n)=>n({transform:o,...a}),r):r}function rK(e){return(0,Ie.useMemo)(()=>({draggable:{...mv.draggable,...e?.draggable},droppable:{...mv.droppable,...e?.droppable},dragOverlay:{...mv.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function aK(e){let{activeNode:t,measure:r,initialRect:a,config:o=!0}=e,n=(0,Ie.useRef)(!1),{x:s,y:i}=typeof o=="boolean"?{x:o,y:o}:o;Cn(()=>{if(!s&&!i||!t){n.current=!1;return}if(n.current||!a)return;let l=t?.node.current;if(!l||l.isConnected===!1)return;let d=r(l),u=TP(d,a);if(s||(u.x=0),i||(u.y=0),n.current=!0,Math.abs(u.x)>0||Math.abs(u.y)>0){let g=DP(l);g&&g.scrollBy({top:u.y,left:u.x})}},[t,s,i,a,r])}var $P=(0,Ie.createContext)({...cs,scaleX:1,scaleY:1}),bl;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(bl||(bl={}));var HP=(0,Ie.memo)(function(t){var r,a,o,n;let{id:s,accessibility:i,autoScroll:c=!0,children:l,sensors:d=KG,collisionDetection:u=cG,measuring:g,modifiers:h,...v}=t,m=(0,Ie.useReducer)(ZG,void 0,JG),[y,p]=m,[f,x]=aG(),[b,w]=(0,Ie.useState)(bl.Uninitialized),N=b===bl.Initialized,{draggable:{active:I,nodes:C,translate:S},droppable:{containers:k}}=y,E=I!=null?C.get(I):null,L=(0,Ie.useRef)({initial:null,translated:null}),P=(0,Ie.useMemo)(()=>{var Ea;return I!=null?{id:I,data:(Ea=E?.data)!=null?Ea:QG,rect:L}:null},[I,E]),j=(0,Ie.useRef)(null),[M,q]=(0,Ie.useState)(null),[R,D]=(0,Ie.useState)(null),A=ju(v,Object.values(v)),B=Lc("DndDescribedBy",s),F=(0,Ie.useMemo)(()=>k.getEnabled(),[k]),T=rK(g),{droppableRects:U,measureDroppableContainers:O,measuringScheduled:z}=MG(F,{dragging:N,dependencies:[S.x,S.y],config:T.droppable}),X=FG(C,I),J=(0,Ie.useMemo)(()=>R?fv(R):null,[R]),K=xg(),ue=_G(X,T.draggable.measure);aK({activeNode:I!=null?C.get(I):null,config:K.layoutShiftCompensation,initialRect:ue,measure:T.draggable.measure});let ve=wP(X,T.draggable.measure,ue),tt=wP(X?X.parentElement:null),qe=(0,Ie.useRef)({activatorEvent:null,active:null,activeNode:X,collisionRect:null,collisions:null,droppableRects:U,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),pe=k.getNodeFor((r=qe.current.over)==null?void 0:r.id),re=GG({measure:T.dragOverlay.measure}),Te=(a=re.nodeRef.current)!=null?a:X,ne=N?(o=re.rect)!=null?o:ve:null,de=!!(re.nodeRef.current&&re.rect),Re=jG(de?null:ve),Be=UP(Te?fo(Te):null),xe=UG(N?pe??X:null),Et=VG(xe),ft=tK(h,{transform:{x:S.x-Re.x,y:S.y-Re.y,scaleX:1,scaleY:1},activatorEvent:R,active:P,activeNodeRect:ve,containerNodeRect:tt,draggingNodeRect:ne,over:qe.current.over,overlayNodeRect:re.rect,scrollableAncestors:xe,scrollableAncestorRects:Et,windowRect:Be}),Lt=J?Ic(J,S):null,ze=zG(xe),Le=NP(ze),Qe=NP(ze,[ve]),ir=Ic(ft,Le),Ft=ne?fG(ne,ft):null,hr=P&&Ft?u({active:P,collisionRect:Ft,droppableRects:U,droppableContainers:F,pointerCoordinates:Lt}):null,ho=kk(hr,"id"),[Da,Fn]=(0,Ie.useState)(null),ae=de?ft:Ic(ft,Qe),Ve=dG(ae,(n=Da?.rect)!=null?n:null,ve),tr=(0,Ie.useRef)(null),Dr=(0,Ie.useCallback)((Ea,eo)=>{let{sensor:to,options:W}=eo;if(j.current==null)return;let ye=C.get(j.current);if(!ye)return;let It=Ea.nativeEvent,Gt=new to({active:j.current,activeNode:ye,event:It,options:W,context:qe,onAbort(ga){if(!C.get(ga))return;let{onDragAbort:gs}=A.current,$s={id:ga};gs?.($s),f({type:"onDragAbort",event:$s})},onPending(ga,Ii,gs,$s){if(!C.get(ga))return;let{onDragPending:nf}=A.current,Ri={id:ga,constraint:Ii,initialCoordinates:gs,offset:$s};nf?.(Ri),f({type:"onDragPending",event:Ri})},onStart(ga){let Ii=j.current;if(Ii==null)return;let gs=C.get(Ii);if(!gs)return;let{onDragStart:$s}=A.current,of={activatorEvent:It,active:{id:Ii,data:gs.data,rect:L}};(0,Pc.unstable_batchedUpdates)(()=>{$s?.(of),w(bl.Initializing),p({type:ka.DragStart,initialCoordinates:ga,active:Ii}),f({type:"onDragStart",event:of}),q(tr.current),D(It)})},onMove(ga){p({type:ka.DragMove,coordinates:ga})},onEnd:Oo(ka.DragEnd),onCancel:Oo(ka.DragCancel)});tr.current=Gt;function Oo(ga){return async function(){let{active:gs,collisions:$s,over:of,scrollAdjustedTranslate:nf}=qe.current,Ri=null;if(gs&&nf){let{cancelDrop:sf}=A.current;Ri={activatorEvent:It,active:gs,collisions:$s,delta:nf,over:of},ga===ka.DragEnd&&typeof sf=="function"&&await Promise.resolve(sf(Ri))&&(ga=ka.DragCancel)}j.current=null,(0,Pc.unstable_batchedUpdates)(()=>{p({type:ga}),w(bl.Uninitialized),Fn(null),q(null),D(null),tr.current=null;let sf=ga===ka.DragEnd?"onDragEnd":"onDragCancel";if(Ri){let jv=A.current[sf];jv?.(Ri),f({type:sf,event:Ri})}})}}},[C]),Fr=(0,Ie.useCallback)((Ea,eo)=>(to,W)=>{let ye=to.nativeEvent,It=C.get(W);if(j.current!==null||!It||ye.dndKit||ye.defaultPrevented)return;let Gt={active:It};Ea(to,eo.options,Gt)===!0&&(ye.dndKit={capturedBy:eo.sensor},j.current=W,Dr(to,eo))},[C,Dr]),On=OG(d,Fr);$G(d),Cn(()=>{ve&&b===bl.Initializing&&w(bl.Initialized)},[ve,b]),(0,Ie.useEffect)(()=>{let{onDragMove:Ea}=A.current,{active:eo,activatorEvent:to,collisions:W,over:ye}=qe.current;if(!eo||!to)return;let It={active:eo,activatorEvent:to,collisions:W,delta:{x:ir.x,y:ir.y},over:ye};(0,Pc.unstable_batchedUpdates)(()=>{Ea?.(It),f({type:"onDragMove",event:It})})},[ir.x,ir.y]),(0,Ie.useEffect)(()=>{let{active:Ea,activatorEvent:eo,collisions:to,droppableContainers:W,scrollAdjustedTranslate:ye}=qe.current;if(!Ea||j.current==null||!eo||!ye)return;let{onDragOver:It}=A.current,Gt=W.get(ho),Oo=Gt&&Gt.rect.current?{id:Gt.id,rect:Gt.rect.current,data:Gt.data,disabled:Gt.disabled}:null,ga={active:Ea,activatorEvent:eo,collisions:to,delta:{x:ye.x,y:ye.y},over:Oo};(0,Pc.unstable_batchedUpdates)(()=>{Fn(Oo),It?.(ga),f({type:"onDragOver",event:ga})})},[ho]),Cn(()=>{qe.current={activatorEvent:R,active:P,activeNode:X,collisionRect:Ft,collisions:hr,droppableRects:U,draggableNodes:C,draggingNode:Te,draggingNodeRect:ne,droppableContainers:k,over:Da,scrollableAncestors:xe,scrollAdjustedTranslate:ir},L.current={initial:ne,translated:Ft}},[P,X,hr,Ft,C,Te,ne,U,k,Da,xe,ir]),PG({...K,delta:S,draggingRect:Ft,pointerCoordinates:Lt,scrollableAncestors:xe,scrollableAncestorRects:Et});let Hc=(0,Ie.useMemo)(()=>({active:P,activeNode:X,activeNodeRect:ve,activatorEvent:R,collisions:hr,containerNodeRect:tt,dragOverlay:re,draggableNodes:C,droppableContainers:k,droppableRects:U,over:Da,measureDroppableContainers:O,scrollableAncestors:xe,scrollableAncestorRects:Et,measuringConfiguration:T,measuringScheduled:z,windowRect:Be}),[P,X,ve,R,hr,tt,re,C,k,U,Da,O,xe,Et,T,z,Be]),Ll=(0,Ie.useMemo)(()=>({activatorEvent:R,activators:On,active:P,activeNodeRect:ve,ariaDescribedById:{draggable:B},dispatch:p,draggableNodes:C,over:Da,measureDroppableContainers:O}),[R,On,P,ve,p,B,C,Da,O]);return Ie.default.createElement(EP.Provider,{value:x},Ie.default.createElement(vv.Provider,{value:Ll},Ie.default.createElement(zP.Provider,{value:Hc},Ie.default.createElement($P.Provider,{value:Ve},l)),Ie.default.createElement(eK,{disabled:i?.restoreFocus===!1})),Ie.default.createElement(sG,{...i,hiddenTextDescribedById:B}));function xg(){let Ea=M?.autoScrollEnabled===!1,eo=typeof c=="object"?c.enabled===!1:c===!1,to=N&&!Ea&&!eo;return typeof c=="object"?{...c,enabled:to}:{enabled:to}}}),oK=(0,Ie.createContext)(null),SP="button",nK="Draggable";function VP(e){let{id:t,data:r,disabled:a=!1,attributes:o}=e,n=Lc(nK),{activators:s,activatorEvent:i,active:c,activeNodeRect:l,ariaDescribedById:d,draggableNodes:u,over:g}=(0,Ie.useContext)(vv),{role:h=SP,roleDescription:v="draggable",tabIndex:m=0}=o??{},y=c?.id===t,p=(0,Ie.useContext)(y?$P:oK),[f,x]=Xp(),[b,w]=Xp(),N=HG(s,t),I=ju(r);Cn(()=>(u.set(t,{id:t,key:n,node:f,activatorNode:b,data:I}),()=>{let S=u.get(t);S&&S.key===n&&u.delete(t)}),[u,t]);let C=(0,Ie.useMemo)(()=>({role:h,tabIndex:m,"aria-disabled":a,"aria-pressed":y&&h===SP?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[a,h,m,y,v,d.draggable]);return{active:c,activatorEvent:i,activeNodeRect:l,attributes:C,isDragging:y,listeners:a?void 0:N,node:f,over:g,setNodeRef:x,setActivatorNodeRef:w,transform:p}}function WP(){return(0,Ie.useContext)(zP)}var sK="Droppable",iK={timeout:25};function GP(e){let{data:t,disabled:r=!1,id:a,resizeObserverConfig:o}=e,n=Lc(sK),{active:s,dispatch:i,over:c,measureDroppableContainers:l}=(0,Ie.useContext)(vv),d=(0,Ie.useRef)({disabled:r}),u=(0,Ie.useRef)(!1),g=(0,Ie.useRef)(null),h=(0,Ie.useRef)(null),{disabled:v,updateMeasurementsFor:m,timeout:y}={...iK,...o},p=ju(m??a),f=(0,Ie.useCallback)(()=>{if(!u.current){u.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{l(Array.isArray(p.current)?p.current:[p.current]),h.current=null},y)},[y]),x=hv({callback:f,disabled:v||!s}),b=(0,Ie.useCallback)((C,S)=>{x&&(S&&(x.unobserve(S),u.current=!1),C&&x.observe(C))},[x]),[w,N]=Xp(b),I=ju(t);return(0,Ie.useEffect)(()=>{!x||!w.current||(x.disconnect(),u.current=!1,x.observe(w.current))},[w,x]),(0,Ie.useEffect)(()=>(i({type:ka.RegisterDroppable,element:{id:a,key:n,disabled:r,node:w,rect:g,data:I}}),()=>i({type:ka.UnregisterDroppable,key:n,id:a})),[a]),(0,Ie.useEffect)(()=>{r!==d.current.disabled&&(i({type:ka.SetDroppableDisabled,id:a,key:n,disabled:r}),d.current.disabled=r)},[a,n,r,i]),{active:s,rect:g,isOver:c?.id===a,node:w,over:c,setNodeRef:N}}var sa=H(he());function og(e,t,r){let a=e.slice();return a.splice(r<0?a.length+r:r,0,a.splice(t,1)[0]),a}function lK(e,t){return e.reduce((r,a,o)=>{let n=t.get(a);return n&&(r[o]=n),r},Array(e.length))}function yv(e){return e!==null&&e>=0}function cK(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function dK(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}var KP=e=>{let{rects:t,activeIndex:r,overIndex:a,index:o}=e,n=og(t,a,r),s=t[o],i=n[o];return!i||!s?null:{x:i.left-s.left,y:i.top-s.top,scaleX:i.width/s.width,scaleY:i.height/s.height}};var xv={scaleX:1,scaleY:1},Nk=e=>{var t;let{activeIndex:r,activeNodeRect:a,index:o,rects:n,overIndex:s}=e,i=(t=n[r])!=null?t:a;if(!i)return null;if(o===r){let l=n[s];return l?{x:0,y:r<s?l.top+l.height-(i.top+i.height):l.top-i.top,...xv}:null}let c=uK(n,o,r);return o>r&&o<=s?{x:0,y:-i.height-c,...xv}:o<r&&o>=s?{x:0,y:i.height+c,...xv}:{x:0,y:0,...xv}};function uK(e,t,r){let a=e[t],o=e[t-1],n=e[t+1];return a?r<t?o?a.top-(o.top+o.height):n?n.top-(a.top+a.height):0:n?n.top-(a.top+a.height):o?a.top-(o.top+o.height):0:0}var QP="Sortable",YP=sa.default.createContext({activeIndex:-1,containerId:QP,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:KP,disabled:{draggable:!1,droppable:!1}});function Ck(e){let{children:t,id:r,items:a,strategy:o=KP,disabled:n=!1}=e,{active:s,dragOverlay:i,droppableRects:c,over:l,measureDroppableContainers:d}=WP(),u=Lc(QP,r),g=i.rect!==null,h=(0,sa.useMemo)(()=>a.map(N=>typeof N=="object"&&"id"in N?N.id:N),[a]),v=s!=null,m=s?h.indexOf(s.id):-1,y=l?h.indexOf(l.id):-1,p=(0,sa.useRef)(h),f=!cK(h,p.current),x=y!==-1&&m===-1||f,b=dK(n);Cn(()=>{f&&v&&d(h)},[f,h,v,d]),(0,sa.useEffect)(()=>{p.current=h},[h]);let w=(0,sa.useMemo)(()=>({activeIndex:m,containerId:u,disabled:b,disableTransforms:x,items:h,overIndex:y,useDragOverlay:g,sortedRects:lK(h,c),strategy:o}),[m,u,b.draggable,b.droppable,x,h,y,c,g,o]);return sa.default.createElement(YP.Provider,{value:w},t)}var fK=e=>{let{id:t,items:r,activeIndex:a,overIndex:o}=e;return og(r,a,o).indexOf(t)},mK=e=>{let{containerId:t,isSorting:r,wasDragging:a,index:o,items:n,newIndex:s,previousItems:i,previousContainerId:c,transition:l}=e;return!l||!a||i!==n&&o===s?!1:r?!0:s!==o&&t===c},pK={duration:200,easing:"ease"},XP="transform",gK=wi.Transition.toString({property:XP,duration:0,easing:"linear"}),hK={roleDescription:"sortable"};function vK(e){let{disabled:t,index:r,node:a,rect:o}=e,[n,s]=(0,sa.useState)(null),i=(0,sa.useRef)(r);return Cn(()=>{if(!t&&r!==i.current&&a.current){let c=o.current;if(c){let l=Fc(a.current,{ignoreTransform:!0}),d={x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height};(d.x||d.y)&&s(d)}}r!==i.current&&(i.current=r)},[t,r,a,o]),(0,sa.useEffect)(()=>{n&&s(null)},[n]),n}function Sk(e){let{animateLayoutChanges:t=mK,attributes:r,disabled:a,data:o,getNewIndex:n=fK,id:s,strategy:i,resizeObserverConfig:c,transition:l=pK}=e,{items:d,containerId:u,activeIndex:g,disabled:h,disableTransforms:v,sortedRects:m,overIndex:y,useDragOverlay:p,strategy:f}=(0,sa.useContext)(YP),x=yK(a,h),b=d.indexOf(s),w=(0,sa.useMemo)(()=>({sortable:{containerId:u,index:b,items:d},...o}),[u,o,b,d]),N=(0,sa.useMemo)(()=>d.slice(d.indexOf(s)),[d,s]),{rect:I,node:C,isOver:S,setNodeRef:k}=GP({id:s,data:w,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...c}}),{active:E,activatorEvent:L,activeNodeRect:P,attributes:j,setNodeRef:M,listeners:q,isDragging:R,over:D,setActivatorNodeRef:A,transform:B}=VP({id:s,data:w,attributes:{...hK,...r},disabled:x.draggable}),F=iP(k,M),T=!!E,U=T&&!v&&yv(g)&&yv(y),O=!p&&R,z=O&&U?B:null,J=U?z??(i??f)({rects:m,activeNodeRect:P,activeIndex:g,overIndex:y,index:b}):null,K=yv(g)&&yv(y)?n({id:s,items:d,activeIndex:g,overIndex:y}):b,ue=E?.id,ve=(0,sa.useRef)({activeId:ue,items:d,newIndex:K,containerId:u}),tt=d!==ve.current.items,qe=t({active:E,containerId:u,isDragging:R,isSorting:T,id:s,index:b,items:d,newIndex:ve.current.newIndex,previousItems:ve.current.items,previousContainerId:ve.current.containerId,transition:l,wasDragging:ve.current.activeId!=null}),pe=vK({disabled:!qe,index:b,node:C,rect:I});return(0,sa.useEffect)(()=>{T&&ve.current.newIndex!==K&&(ve.current.newIndex=K),u!==ve.current.containerId&&(ve.current.containerId=u),d!==ve.current.items&&(ve.current.items=d)},[T,K,u,d]),(0,sa.useEffect)(()=>{if(ue===ve.current.activeId)return;if(ue!=null&&ve.current.activeId==null){ve.current.activeId=ue;return}let Te=setTimeout(()=>{ve.current.activeId=ue},50);return()=>clearTimeout(Te)},[ue]),{active:E,activeIndex:g,attributes:j,data:w,rect:I,index:b,newIndex:K,items:d,isOver:S,isSorting:T,isDragging:R,listeners:q,node:C,overIndex:y,over:D,setNodeRef:F,setActivatorNodeRef:A,setDroppableNodeRef:k,setDraggableNodeRef:M,transform:pe??J,transition:re()};function re(){if(pe||tt&&ve.current.newIndex===b)return gK;if(!(O&&!Jp(L)||!l)&&(T||qe))return wi.Transition.toString({...l,property:XP})}}function yK(e,t){var r,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:t.draggable,droppable:(a=e?.droppable)!=null?a:t.droppable}}function bv(e){if(!e)return!1;let t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}var xK=[rr.Down,rr.Right,rr.Up,rr.Left],JP=(e,t)=>{let{context:{active:r,collisionRect:a,droppableRects:o,droppableContainers:n,over:s,scrollableAncestors:i}}=t;if(xK.includes(e.code)){if(e.preventDefault(),!r||!a)return;let c=[];n.getEnabled().forEach(u=>{if(!u||u!=null&&u.disabled)return;let g=o.get(u.id);if(g)switch(e.code){case rr.Down:a.top<g.top&&c.push(u);break;case rr.Up:a.top>g.top&&c.push(u);break;case rr.Left:a.left>g.left&&c.push(u);break;case rr.Right:a.left<g.left&&c.push(u);break}});let l=PP({active:r,collisionRect:a,droppableRects:o,droppableContainers:c,pointerCoordinates:null}),d=kk(l,"id");if(d===s?.id&&l.length>1&&(d=l[1].id),d!=null){let u=n.get(r.id),g=n.get(d),h=g?o.get(g.id):null,v=g?.node.current;if(v&&h&&u&&g){let y=ag(v).some((N,I)=>i[I]!==N),p=ZP(u,g),f=bK(u,g),x=y||!p?{x:0,y:0}:{x:f?a.width-h.width:0,y:f?a.height-h.height:0},b={x:h.left,y:h.top};return x.x&&x.y?b:Rc(b,x)}}}};function ZP(e,t){return!bv(e)||!bv(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function bK(e,t){return!bv(e)||!bv(t)||!ZP(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}var Dt=H(se());function wK({module:e,isExpanded:t,onToggle:r,onEdit:a,onDelete:o,onAddLesson:n,onEditLesson:s,onDeleteLesson:i,children:c}){let{attributes:l,listeners:d,setNodeRef:u,transform:g,transition:h,isDragging:v}=Sk({id:e.id}),m={transform:wi.Transform.toString(g),transition:h,opacity:v?.5:1};return(0,Dt.jsx)("div",{ref:u,className:`border-2 rounded-lg mb-3 ${v?"shadow-lg":""}`,style:{...m,borderColor:"#E5E7EB",backgroundColor:"white"},children:(0,Dt.jsxs)("div",{className:"p-4",children:[(0,Dt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Dt.jsx)("div",{...l,...d,className:"cursor-grab active:cursor-grabbing p-2 hover:bg-gray-100 rounded",children:(0,Dt.jsx)(Od,{className:"h-5 w-5",style:{color:"#6F73D2"}})}),(0,Dt.jsxs)("button",{onClick:r,className:"flex-1 text-left flex items-center space-x-3",children:[t?(0,Dt.jsx)(si,{className:"h-4 w-4",style:{color:"#6F73D2"}}):(0,Dt.jsx)(qa,{className:"h-4 w-4",style:{color:"#6F73D2"}}),(0,Dt.jsxs)("div",{className:"flex-1",children:[(0,Dt.jsx)("h3",{className:"font-semibold text-lg",style:{color:"#0B1E3F"},children:e.title}),e.description&&(0,Dt.jsx)("p",{className:"text-sm mt-1",style:{color:"#6F73D2"},children:e.description}),(0,Dt.jsxs)("p",{className:"text-xs mt-1",style:{color:"#6F73D2"},children:[e.lessons.length," lessons"]})]})]}),(0,Dt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Dt.jsx)("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Add Lesson",children:(0,Dt.jsx)(Ut,{className:"h-4 w-4",style:{color:"#00B5AD"}})}),(0,Dt.jsx)("button",{onClick:a,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Edit Module",children:(0,Dt.jsx)(Gr,{className:"h-4 w-4",style:{color:"#6F73D2"}})}),(0,Dt.jsx)("button",{onClick:o,className:"p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Delete Module",children:(0,Dt.jsx)(gr,{className:"h-4 w-4",style:{color:"#EF4444"}})})]})]}),t&&(0,Dt.jsx)("div",{className:"mt-4 pl-8",children:c})]})})}function kK({lesson:e,moduleId:t,onEdit:r,onDelete:a}){let{attributes:o,listeners:n,setNodeRef:s,transform:i,transition:c,isDragging:l}=Sk({id:e.id}),d={transform:wi.Transform.toString(i),transition:c,opacity:l?.5:1};return(0,Dt.jsxs)("div",{ref:s,className:`flex items-center space-x-3 p-3 rounded-lg mb-2 ${l?"shadow-md":""}`,style:{...d,backgroundColor:"rgba(0, 181, 173, 0.05)",border:"1px solid #E5E7EB"},children:[(0,Dt.jsx)("div",{...o,...n,className:"cursor-grab active:cursor-grabbing p-1 hover:bg-white rounded",children:(0,Dt.jsx)(Od,{className:"h-4 w-4",style:{color:"#6F73D2"}})}),(0,Dt.jsx)("div",{className:"flex-shrink-0",children:e.type==="video"?(0,Dt.jsx)(Bt,{className:"h-4 w-4",style:{color:"#00B5AD"}}):(0,Dt.jsx)(jt,{className:"h-4 w-4",style:{color:"#6F73D2"}})}),(0,Dt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Dt.jsx)("h4",{className:"font-medium text-sm truncate",style:{color:"#0B1E3F"},children:e.title}),e.duration&&(0,Dt.jsx)("p",{className:"text-xs",style:{color:"#6F73D2"},children:e.duration})]}),(0,Dt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Dt.jsx)("button",{onClick:r,className:"p-1.5 rounded hover:bg-white transition-colors",title:"Edit Lesson",children:(0,Dt.jsx)(Gr,{className:"h-3.5 w-3.5",style:{color:"#6F73D2"}})}),(0,Dt.jsx)("button",{onClick:a,className:"p-1.5 rounded hover:bg-red-50 transition-colors",title:"Delete Lesson",children:(0,Dt.jsx)(gr,{className:"h-3.5 w-3.5",style:{color:"#EF4444"}})})]})]})}var eT=({modules:e,onModulesChange:t,onEditModule:r,onEditLesson:a,onDeleteModule:o,onDeleteLesson:n,onAddModule:s,onAddLesson:i})=>{let[c,l]=(0,Ek.useState)(new Set),[d,u]=(0,Ek.useState)(null),g=LP(wk($u),wk(zu,{coordinateGetter:JP})),h=p=>{l(f=>{let x=new Set(f);return x.has(p)?x.delete(p):x.add(p),x})},v=p=>{u(p.active.id)},m=p=>{let{active:f,over:x}=p;if(u(null),!x||f.id===x.id)return;let b=f.id,w=x.id,N=e.findIndex(C=>C.id===b),I=e.findIndex(C=>C.id===w);if(N!==-1&&I!==-1){let C=og(e,N,I);t(C);return}for(let C of e){let S=C.lessons.findIndex(E=>E.id===b),k=C.lessons.findIndex(E=>E.id===w);if(S!==-1&&k!==-1){let E=og(C.lessons,S,k),L=e.map(P=>P.id===C.id?{...P,lessons:E}:P);t(L);return}if(S!==-1){let E=C,L=e.find(P=>P.lessons.some(j=>j.id===w));if(L&&L.id!==E.id){let P=E.lessons[S],j=E.lessons.filter(D=>D.id!==b),M=L.lessons.findIndex(D=>D.id===w),q=[...L.lessons.slice(0,M),P,...L.lessons.slice(M)],R=e.map(D=>D.id===E.id?{...D,lessons:j}:D.id===L.id?{...D,lessons:q}:D);t(R);return}}}},y=[...e.map(p=>p.id),...e.flatMap(p=>p.lessons.map(f=>f.id))];return(0,Dt.jsxs)("div",{className:"space-y-4",children:[(0,Dt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Dt.jsx)("h3",{className:"text-xl font-bold",style:{color:"#0B1E3F"},children:"Course Curriculum"}),s&&(0,Dt.jsxs)("button",{onClick:s,className:"flex items-center space-x-2 px-4 py-2 rounded-lg font-medium text-white transition-colors",style:{backgroundColor:"#00B5AD"},children:[(0,Dt.jsx)(Ut,{className:"h-4 w-4"}),(0,Dt.jsx)("span",{children:"Add Module"})]})]}),(0,Dt.jsx)(HP,{sensors:g,collisionDetection:AP,onDragStart:v,onDragEnd:m,children:(0,Dt.jsx)(Ck,{items:y,strategy:Nk,children:e.map(p=>(0,Dt.jsx)(wK,{module:p,isExpanded:c.has(p.id),onToggle:()=>h(p.id),onEdit:()=>r?.(p.id),onDelete:()=>o?.(p.id),onAddLesson:()=>i?.(p.id),onEditLesson:f=>a?.(p.id,f),onDeleteLesson:f=>n?.(p.id,f),children:(0,Dt.jsx)(Ck,{items:p.lessons.map(f=>f.id),strategy:Nk,children:p.lessons.map(f=>(0,Dt.jsx)(kK,{lesson:f,moduleId:p.id,onEdit:()=>a?.(p.id,f.id),onDelete:()=>n?.(p.id,f.id)},f.id))})},p.id))})}),e.length===0&&(0,Dt.jsxs)("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",style:{borderColor:"#E5E7EB"},children:[(0,Dt.jsx)("p",{className:"text-gray-500 mb-4",children:"No modules yet. Add your first module to get started!"}),s&&(0,Dt.jsx)("button",{onClick:s,className:"px-4 py-2 rounded-lg font-medium text-white",style:{backgroundColor:"#00B5AD"},children:"Add First Module"})]})]})};var ds=H(he());var nr=H(se()),tT=({onUploadComplete:e,onUploadError:t,maxSize:r=500,acceptedFormats:a=["video/mp4","video/webm","video/ogg","video/quicktime"],existingVideoUrl:o,onRemove:n})=>{let[s,i]=(0,ds.useState)(!1),[c,l]=(0,ds.useState)(0),[d,u]=(0,ds.useState)(null),[g,h]=(0,ds.useState)(o||null),v=(0,ds.useRef)(null),m=N=>{if(N===0)return"0 Bytes";let I=1024,C=["Bytes","KB","MB","GB"],S=Math.floor(Math.log(N)/Math.log(I));return parseFloat((N/Math.pow(I,S)).toFixed(2))+" "+C[S]},y=N=>N.size>r*1024*1024?`Video size must be less than ${r}MB`:a.some(C=>N.type===C)?null:`Video format not supported. Accepted formats: ${a.map(C=>C.split("/")[1]).join(", ")}`,p=(0,ds.useCallback)(async N=>{let I=y(N);if(I){u(I),t?.(I);return}u(null),i(!0),l(0);try{let C=URL.createObjectURL(N);h(C);let S=new FormData;S.append("file",N),S.append("type","video");let k=new XMLHttpRequest;k.upload.addEventListener("progress",L=>{if(L.lengthComputable){let P=L.loaded/L.total*100;l(Math.round(P))}}),k.addEventListener("load",async()=>{if(k.status===200||k.status===201)try{let L=JSON.parse(k.responseText),P=L.url||L.data?.url;if(P)l(100),e(P),C&&URL.revokeObjectURL(C);else throw new Error("No video URL in response")}catch{throw new Error("Failed to parse upload response")}else throw new Error(`Upload failed with status ${k.status}`);i(!1)}),k.addEventListener("error",()=>{u("Upload failed. Please try again."),t?.("Upload failed. Please try again."),i(!1),l(0),C&&URL.revokeObjectURL(C)}),k.addEventListener("abort",()=>{i(!1),l(0),C&&URL.revokeObjectURL(C)}),k.open("POST","https://skillstream-platform-api.onrender.com/api/api/files/upload"),k.setRequestHeader("Authorization",`Bearer ${localStorage.getItem("token")}`),k.withCredentials=!0,k.send(S)}catch(C){let S=C instanceof Error?C.message:"Upload failed";u(S),t?.(S),i(!1),l(0)}},[r,a,e,t]),f=(0,ds.useCallback)(N=>{N.preventDefault(),N.stopPropagation();let I=N.dataTransfer.files[0];I&&p(I)},[p]),x=(0,ds.useCallback)(N=>{N.preventDefault(),N.stopPropagation()},[]),b=N=>{let I=N.target.files?.[0];I&&p(I)},w=()=>{g&&!o&&URL.revokeObjectURL(g),h(null),l(0),u(null),n?.(),v.current&&(v.current.value="")};return(0,nr.jsxs)("div",{className:"space-y-4",children:[(0,nr.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Video Upload"}),g?(0,nr.jsx)("div",{className:"relative rounded-lg overflow-hidden border-2",style:{borderColor:"#E5E7EB"},children:(0,nr.jsxs)("div",{className:"relative aspect-video bg-black",children:[(0,nr.jsx)("video",{src:g,controls:!0,className:"w-full h-full object-contain"}),s&&(0,nr.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,nr.jsxs)("div",{className:"text-center text-white",children:[(0,nr.jsx)(Ls,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),(0,nr.jsxs)("p",{className:"text-sm",children:["Uploading... ",c,"%"]}),(0,nr.jsx)("div",{className:"w-64 h-2 bg-gray-700 rounded-full mt-2 overflow-hidden",children:(0,nr.jsx)("div",{className:"h-full transition-all duration-300",style:{width:`${c}%`,backgroundColor:"#00B5AD"}})})]})}),!s&&(0,nr.jsx)("button",{onClick:w,className:"absolute top-2 right-2 p-2 rounded-full bg-black bg-opacity-70 text-white hover:bg-opacity-90 transition-colors",children:(0,nr.jsx)(et,{className:"h-5 w-5"})})]})}):(0,nr.jsxs)("div",{onDrop:f,onDragOver:x,onClick:()=>v.current?.click(),className:`relative border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all ${s?"opacity-50 cursor-not-allowed":"hover:border-[#00B5AD] hover:bg-gray-50"}`,style:{borderColor:d?"#EF4444":"#E5E7EB",backgroundColor:s?"#F9FAFB":"white"},children:[s?(0,nr.jsxs)("div",{className:"space-y-4",children:[(0,nr.jsx)(Ls,{className:"h-12 w-12 mx-auto animate-spin",style:{color:"#00B5AD"}}),(0,nr.jsxs)("div",{children:[(0,nr.jsxs)("p",{className:"text-sm font-medium mb-2",style:{color:"#0B1E3F"},children:["Uploading video... ",c,"%"]}),(0,nr.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,nr.jsx)("div",{className:"h-full transition-all duration-300",style:{width:`${c}%`,backgroundColor:"#00B5AD"}})})]})]}):(0,nr.jsxs)(nr.Fragment,{children:[(0,nr.jsx)(Bt,{className:"h-12 w-12 mx-auto mb-4",style:{color:"#6F73D2"}}),(0,nr.jsx)("p",{className:"text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Drag & drop video here, or click to browse"}),(0,nr.jsxs)("p",{className:"text-xs",style:{color:"#6F73D2"},children:["Max size: ",r,"MB \u2022 Formats: MP4, WebM, OGG, MOV"]})]}),(0,nr.jsx)("input",{ref:v,type:"file",accept:a.join(","),onChange:b,className:"hidden",disabled:s})]}),d&&(0,nr.jsxs)("div",{className:"flex items-center space-x-2 p-3 rounded-lg bg-red-50 border border-red-200",children:[(0,nr.jsx)(pr,{className:"h-5 w-5 flex-shrink-0",style:{color:"#EF4444"}}),(0,nr.jsx)("p",{className:"text-sm",style:{color:"#DC2626"},children:d})]}),s&&c===100&&(0,nr.jsxs)("div",{className:"flex items-center space-x-2 p-3 rounded-lg bg-green-50 border border-green-200",children:[(0,nr.jsx)(fr,{className:"h-5 w-5 flex-shrink-0",style:{color:"#10B981"}}),(0,nr.jsx)("p",{className:"text-sm",style:{color:"#059669"},children:"Upload complete!"})]})]})};var rT=H(he());var Oc=H(se()),wv=({title:e,children:t,defaultOpen:r=!1})=>{let[a,o]=(0,rT.useState)(r);return(0,Oc.jsxs)("div",{className:"rounded-2xl border-2 overflow-hidden transition-all duration-200",style:{backgroundColor:"white",borderColor:a?"#00B5AD":"#E5E7EB"},children:[(0,Oc.jsxs)("button",{onClick:()=>o(!a),className:"w-full p-5 flex items-center justify-between transition-all duration-200 active:bg-gray-50",style:{backgroundColor:a?"rgba(0, 181, 173, 0.05)":"white"},children:[(0,Oc.jsx)("span",{className:"text-lg font-bold text-left",style:{color:"#0B1E3F"},children:e}),(0,Oc.jsx)(qa,{className:"h-5 w-5 transition-transform duration-200 flex-shrink-0",style:{color:"#00B5AD",transform:a?"rotate(180deg)":"rotate(0deg)"}})]}),a&&(0,Oc.jsx)("div",{className:"px-5 pb-5 border-t",style:{borderColor:"#E5E7EB"},children:t})]})};var _=H(se()),aT=()=>{let{id:e}=ya(),t=ht(),r=lr(),{user:a}=Ge(),o=a?.role==="TEACHER",s=new URLSearchParams(r.search).get("preview")==="true",[i,c]=(0,xr.useState)(null),[l,d]=(0,xr.useState)(!0),[u,g]=(0,xr.useState)(!1),[h,v]=(0,xr.useState)("overview"),[m,y]=(0,xr.useState)([]),[p,f]=(0,xr.useState)(!1),[x,b]=(0,xr.useState)("payment"),[w,N]=(0,xr.useState)("card"),[I,C]=(0,xr.useState)({number:"",expiry:"",cvv:"",name:""}),[S,k]=(0,xr.useState)(!1),[E,L]=(0,xr.useState)(!1),[P,j]=(0,xr.useState)(!1),[M,q]=(0,xr.useState)(!1),[R,D]=(0,xr.useState)(null),[A,B]=(0,xr.useState)(null),[F,T]=(0,xr.useState)({title:"",description:""}),[U,O]=(0,xr.useState)({title:"",content:"",scheduledAt:"",videoUrl:""}),[z,X]=(0,xr.useState)({title:"",description:"",timeLimit:30,passingScore:70}),[J,K]=(0,xr.useState)(!1),[ue,ve]=(0,xr.useState)(""),[tt,qe]=(0,xr.useState)([]),[pe,re]=(0,xr.useState)({total:0,average:0,distribution:{5:0,4:0,3:0,2:0,1:0}}),[Te,ne]=(0,xr.useState)("all"),[de,Re]=(0,xr.useState)(null),{showSuccess:Be,showError:xe}=Ja(),Et=o&&i?.teacherId===a?.id,ft=s||!Et,Lt=ft?[{id:"overview",label:"Overview",icon:(0,_.jsx)(ot,{className:"h-4 w-4"})},{id:"curriculum",label:"Curriculum",icon:(0,_.jsx)(oa,{className:"h-4 w-4"})},{id:"instructor",label:"Instructor",icon:(0,_.jsx)(it,{className:"h-4 w-4"})},{id:"reviews",label:"Reviews",icon:(0,_.jsx)(Jt,{className:"h-4 w-4"})},{id:"forum",label:"Forum",icon:(0,_.jsx)(yr,{className:"h-4 w-4"})}]:[{id:"overview",label:"Overview",icon:(0,_.jsx)(ot,{className:"h-4 w-4"})},{id:"curriculum",label:"Curriculum",icon:(0,_.jsx)(oa,{className:"h-4 w-4"})},{id:"students",label:"Students",icon:(0,_.jsx)(it,{className:"h-4 w-4"})},{id:"assignments",label:"Assignments",icon:(0,_.jsx)(jt,{className:"h-4 w-4"})},{id:"forum",label:"Forum",icon:(0,_.jsx)(yr,{className:"h-4 w-4"})}];(0,xr.useEffect)(()=>{hr()},[e]),(0,xr.useEffect)(()=>{if(i){let ae=i?.curriculum?.[0]?.lessons?.[0];ae?.videoUrl&&Re(ae.videoUrl),ze()}},[i]);let ze=async()=>{if(e)try{let ae=await Sw(e,{limit:10,rating:Te==="all"?void 0:Te});qe(ae.reviews||[]),re({total:ae.total||0,average:ae.average||i?.rating||0,distribution:ae.distribution||{5:0,4:0,3:0,2:0,1:0}})}catch(ae){console.error("Error loading reviews:",ae),qe([])}},Le=ae=>{y(Ve=>Ve.includes(ae)?Ve.filter(tr=>tr!==ae):[...Ve,ae])},Qe=async()=>{if(!e||!F.title.trim()){ve("Module title is required");return}try{K(!0),ve(""),await Ow(Number(e),{title:F.title,description:F.description||void 0,order:i?.curriculum?.length||0}),await hr(),L(!1),T({title:"",description:""}),Be("Module Created!",`"${F.title}" has been added to your course curriculum.`)}catch(ae){console.error("Error creating module:",ae);let Ve=ae?.response?.data?.message||"Failed to create module. Please try again.";ve(Ve),xe("Failed to Create Module",Ve)}finally{K(!1)}},ir=async()=>{if(!e||!R||!U.title.trim()){ve("Lesson title is required");return}try{K(!0),ve(""),await Mw(Number(e),R,{title:U.title,content:U.content||void 0,scheduledAt:U.scheduledAt||new Date().toISOString(),videoUrl:U.videoUrl||void 0}),await hr(),j(!1),O({title:"",content:"",scheduledAt:"",videoUrl:""}),D(null),Be("Lesson Created!",`"${U.title}" has been added to the module.`)}catch(ae){console.error("Error creating lesson:",ae);let Ve=ae?.response?.data?.message||"Failed to create lesson. Please try again.";ve(Ve),xe("Failed to Create Lesson",Ve)}finally{K(!1)}},Ft=async()=>{if(!e||!A||!z.title.trim()){ve("Quiz title is required");return}try{K(!0),ve(""),await _w(Number(e),Number(A),{title:z.title,description:z.description||void 0,timeLimit:z.timeLimit,passingScore:z.passingScore,questions:[]}),await hr(),q(!1),X({title:"",description:"",timeLimit:30,passingScore:70}),B(null),Be("Quiz Created!",`"${z.title}" has been added to the lesson.`)}catch(ae){console.error("Error creating quiz:",ae);let Ve=ae?.response?.data?.message||"Failed to create quiz. Please try again.";ve(Ve),xe("Failed to Create Quiz",Ve)}finally{K(!1)}},hr=async()=>{if(e){d(!0);try{let ae=await vt.getCourseDetails(Number(e));c(ae)}catch{c(null)}finally{d(!1)}}},ho=()=>{u?t(`/courses/${e}/learning`):f(!0)},Da=async ae=>{ae.preventDefault(),k(!0),setTimeout(()=>{k(!1),b("confirmation")},2e3)},Fn=()=>{g(!0),f(!1),b("payment"),t(`/courses/${e}/learning`)};return l?(0,_.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,_.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,_.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):i?(0,_.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:"#F4F7FA"},children:[(0,_.jsx)("div",{className:"lg:hidden relative",style:{background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 100%)"},children:(0,_.jsxs)("div",{className:"relative px-4 py-6 text-white",children:[(0,_.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,_.jsx)(fa,{to:"/courses",showHome:!0,className:"text-white"}),Et&&!s&&(0,_.jsx)("div",{className:"flex space-x-2",children:(0,_.jsx)(we,{to:`/courses/${i.id}/edit`,className:"p-2 rounded-xl",style:{backgroundColor:"rgba(255, 255, 255, 0.2)"},children:(0,_.jsx)(Gr,{className:"h-5 w-5"})})})]}),(0,_.jsxs)("div",{className:"flex items-center space-x-2 mb-4 flex-wrap",children:[i.category&&(0,_.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"rgba(255, 255, 255, 0.2)"},children:i.category}),i.level&&(0,_.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"rgba(255, 255, 255, 0.2)"},children:i.level})]}),(0,_.jsx)("h1",{className:"text-2xl font-bold mb-3",children:i.title}),(0,_.jsx)("p",{className:"text-sm mb-4 opacity-90 line-clamp-2",children:i.description}),(0,_.jsxs)("div",{className:"flex items-center space-x-4 text-sm mb-4",children:[(0,_.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,_.jsx)(Jt,{className:"h-4 w-4 fill-current",style:{color:"#F59E0B"}}),(0,_.jsx)("span",{className:"font-semibold",children:i.rating?.toFixed(1)||"4.5"}),(0,_.jsxs)("span",{className:"opacity-80",children:["(",pe.total||i.enrolledStudents||0,")"]})]}),(0,_.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,_.jsx)(it,{className:"h-4 w-4"}),(0,_.jsxs)("span",{children:[i.enrolledStudents?.toLocaleString()||0," students"]})]}),(0,_.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,_.jsx)(xt,{className:"h-4 w-4"}),(0,_.jsx)("span",{children:i.duration||"8 weeks"})]})]}),de&&ft&&(0,_.jsx)("div",{className:"relative rounded-lg overflow-hidden shadow-2xl mb-4",children:(0,_.jsxs)("div",{className:"relative aspect-video bg-black",children:[(0,_.jsx)("video",{className:"w-full h-full",controls:!0,poster:i.imageUrl,children:(0,_.jsx)("source",{src:de,type:"video/mp4"})}),(0,_.jsx)("div",{className:"absolute top-2 left-2 px-2 py-1 bg-black bg-opacity-70 rounded text-white text-xs font-semibold",children:"Preview"})]})})]})}),(0,_.jsx)("div",{className:"hidden lg:block relative",style:{background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 100%)"},children:(0,_.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,_.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,_.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,_.jsx)(fa,{to:"/courses",showHome:!0,className:"text-white hover:text-gray-200"}),(0,_.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,_.jsx)("span",{className:"bg-white bg-opacity-20 px-2 py-1 rounded-full",children:i.category}),(0,_.jsx)("span",{className:"bg-white bg-opacity-20 px-2 py-1 rounded-full",children:i.level})]})]}),Et&&!s&&(0,_.jsxs)("div",{className:"flex space-x-3",children:[(0,_.jsxs)(we,{to:`/courses/${i.id}/edit`,className:"flex items-center px-4 py-2 bg-white bg-opacity-20 text-white rounded-lg hover:bg-opacity-30 transition-colors",children:[(0,_.jsx)(Gr,{className:"h-4 w-4 mr-2"}),"Edit Course"]}),(0,_.jsxs)(we,{to:`/analytics?courseId=${i.id}`,className:"flex items-center px-4 py-2 bg-white bg-opacity-20 text-white rounded-lg hover:bg-opacity-30 transition-colors",children:[(0,_.jsx)(_r,{className:"h-4 w-4 mr-2"}),"Analytics"]})]})]}),(0,_.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,_.jsxs)("div",{className:"lg:col-span-2",children:[(0,_.jsx)("h1",{className:"text-4xl font-bold mb-4 text-white",children:i.title}),(0,_.jsx)("p",{className:"text-xl mb-6 text-white opacity-90 line-clamp-2",children:i.description}),(0,_.jsxs)("div",{className:"flex flex-wrap items-center gap-6 text-sm text-white mb-6",children:[(0,_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_.jsx)(Jt,{className:"h-5 w-5 fill-current",style:{color:"#F59E0B"}}),(0,_.jsx)("span",{className:"font-semibold",children:i.rating?.toFixed(1)||"4.5"}),(0,_.jsxs)("span",{className:"opacity-80",children:["(",pe.total||i.enrolledStudents?.toLocaleString()||0," ",pe.total>0?"reviews":"students enrolled",")"]})]}),(0,_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_.jsx)(it,{className:"h-5 w-5"}),(0,_.jsxs)("span",{children:[i.enrolledStudents?.toLocaleString()||0," students"]})]}),(0,_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_.jsx)(xt,{className:"h-5 w-5"}),(0,_.jsx)("span",{children:i.duration||"8 weeks"})]}),i.level&&(0,_.jsx)("div",{className:"px-3 py-1 bg-white bg-opacity-20 rounded-full text-xs font-semibold",children:i.level})]}),de&&ft&&(0,_.jsx)("div",{className:"relative rounded-lg overflow-hidden shadow-2xl",style:{maxWidth:"640px"},children:(0,_.jsxs)("div",{className:"relative aspect-video bg-black",children:[(0,_.jsx)("video",{className:"w-full h-full",controls:!0,poster:i.imageUrl,children:(0,_.jsx)("source",{src:de,type:"video/mp4"})}),(0,_.jsx)("div",{className:"absolute top-4 left-4 px-3 py-1 bg-black bg-opacity-70 rounded text-white text-sm font-semibold",children:"Preview"})]})})]}),(0,_.jsx)("div",{className:"lg:col-span-1",children:ft&&(0,_.jsxs)("div",{className:"sticky top-4 bg-white rounded-lg shadow-xl border-2 overflow-hidden",style:{borderColor:"#E5E7EB"},children:[(0,_.jsxs)("div",{className:"p-6 border-b",style:{borderColor:"#E5E7EB"},children:[(0,_.jsxs)("div",{className:"text-center mb-4",children:[(0,_.jsx)("div",{className:"text-4xl font-bold mb-1",style:{color:"#0B1E3F"},children:i.isPaid?`$${i.price}`:"Free"}),i.isPaid&&i.price&&i.price>50&&(0,_.jsxs)("div",{className:"text-lg line-through opacity-60",style:{color:"#6F73D2"},children:["$",Math.round(i.price*1.5)]})]}),(0,_.jsx)("button",{onClick:ho,className:"w-full py-4 text-white font-bold text-lg rounded-lg transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:u?"Continue Learning":"Enroll Now"}),(0,_.jsx)("p",{className:"text-center text-sm mt-3",style:{color:"#6F73D2"},children:"30-Day Money-Back Guarantee"})]}),(0,_.jsxs)("div",{className:"p-6",children:[(0,_.jsx)("h4",{className:"font-bold mb-4",style:{color:"#0B1E3F"},children:"This course includes:"}),(0,_.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,_.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_.jsx)(Bt,{className:"h-5 w-5 flex-shrink-0 mt-0.5",style:{color:"#00B5AD"}}),(0,_.jsx)("div",{children:(0,_.jsxs)("div",{className:"font-medium",style:{color:"#0B1E3F"},children:[i?.curriculum?.reduce((ae,Ve)=>ae+(Ve.lessons?.length||0),0)||0," on-demand video lessons"]})})]}),i?.materials?.length>0&&(0,_.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_.jsx)(Wr,{className:"h-5 w-5 flex-shrink-0 mt-0.5",style:{color:"#00B5AD"}}),(0,_.jsx)("div",{children:(0,_.jsxs)("div",{className:"font-medium",style:{color:"#0B1E3F"},children:[i.materials.length," downloadable resources"]})})]}),(0,_.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_.jsx)(_a,{className:"h-5 w-5 flex-shrink-0 mt-0.5",style:{color:"#00B5AD"}}),(0,_.jsx)("div",{children:(0,_.jsx)("div",{className:"font-medium",style:{color:"#0B1E3F"},children:"Certificate of completion"})})]}),(0,_.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_.jsx)($m,{className:"h-5 w-5 flex-shrink-0 mt-0.5",style:{color:"#00B5AD"}}),(0,_.jsx)("div",{children:(0,_.jsx)("div",{className:"font-medium",style:{color:"#0B1E3F"},children:"Full lifetime access"})})]}),(0,_.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_.jsx)(up,{className:"h-5 w-5 flex-shrink-0 mt-0.5",style:{color:"#00B5AD"}}),(0,_.jsx)("div",{children:(0,_.jsx)("div",{className:"font-medium",style:{color:"#0B1E3F"},children:"Access on mobile and TV"})})]})]})]}),(0,_.jsx)("div",{className:"p-6 border-t bg-gray-50",style:{borderColor:"#E5E7EB"},children:(0,_.jsxs)("button",{className:"w-full flex items-center justify-center space-x-2 py-2 text-sm font-medium transition-colors hover:opacity-80",style:{color:"#6F73D2"},children:[(0,_.jsx)(So,{className:"h-4 w-4"}),(0,_.jsx)("span",{children:"Share this course"})]})})]})})]})]})}),(0,_.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 lg:py-8",children:[s&&Et&&(0,_.jsxs)("div",{className:"mb-6 p-4 rounded-xl border-2 flex items-center justify-between",style:{backgroundColor:"rgba(111, 115, 210, 0.1)",borderColor:"rgba(111, 115, 210, 0.3)"},children:[(0,_.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,_.jsx)(Nr,{className:"h-5 w-5",style:{color:"#6F73D2"}}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:"font-semibold",style:{color:"#0B1E3F"},children:"Preview Mode - Student View"}),(0,_.jsx)("p",{className:"text-sm",style:{color:"#6F73D2"},children:"You're viewing this course as a student would see it"})]})]}),(0,_.jsx)(we,{to:`/courses/${e}`,className:"px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200",style:{backgroundColor:"#6F73D2",color:"white"},onMouseEnter:ae=>{ae.currentTarget.style.backgroundColor="#5a5fb8"},onMouseLeave:ae=>{ae.currentTarget.style.backgroundColor="#6F73D2"},children:"Exit Preview"})]}),(0,_.jsx)("div",{className:"lg:hidden mb-6",children:(0,_.jsx)(Au,{tabs:Lt.map(ae=>({id:ae.id,label:ae.label,content:(0,_.jsxs)("div",{className:"py-4",children:[ae.id==="overview"&&(0,_.jsxs)("div",{className:"space-y-6",children:[(0,_.jsx)(wv,{title:"What you'll learn",defaultOpen:!0,children:(0,_.jsx)("div",{className:"space-y-3 pt-2",children:i?.learningOutcomes?.map((Ve,tr)=>(0,_.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_.jsx)(fr,{className:"h-5 w-5 flex-shrink-0 mt-0.5",style:{color:"#00B5AD"}}),(0,_.jsx)("span",{style:{color:"#0B1E3F"},children:Ve})]},tr))})}),(0,_.jsx)(wv,{title:"Requirements",children:(0,_.jsx)("ul",{className:"space-y-2 pt-2",style:{color:"#0B1E3F"},children:i?.requirements?.map((Ve,tr)=>(0,_.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,_.jsx)("span",{className:"mt-1",children:"\u2022"}),(0,_.jsx)("span",{children:Ve})]},tr))})})]}),ae.id==="curriculum"&&(0,_.jsx)("div",{className:"space-y-4",children:!i?.curriculum||i.curriculum.length===0?(0,_.jsxs)("div",{className:"text-center py-8",children:[(0,_.jsx)(ot,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,_.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No modules yet"}),(0,_.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:ft?"This course doesn't have any content yet":"Start building your course by adding your first module"}),!ft&&(0,_.jsxs)("button",{onClick:()=>L(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors mx-auto",children:[(0,_.jsx)(Ut,{className:"h-4 w-4 mr-2"}),"Add First Module"]})]}):(0,_.jsxs)(_.Fragment,{children:[!ft&&(0,_.jsxs)("button",{onClick:()=>L(!0),className:"w-full flex items-center justify-center px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium",children:[(0,_.jsx)(Ut,{className:"h-4 w-4 mr-2"}),"Add Module"]}),i?.curriculum?.map((Ve,tr)=>(0,_.jsx)(wv,{title:`Module ${tr+1}: ${Ve.title||Ve.name||"Untitled"}`,children:(0,_.jsxs)("div",{className:"space-y-3 pt-2",children:[Ve.lessons?.map((Dr,Fr)=>(0,_.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:"rgba(0, 181, 173, 0.05)"},children:[(0,_.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[Dr.type==="video"?(0,_.jsx)(Bt,{className:"h-5 w-5",style:{color:"#00B5AD"}}):(0,_.jsx)(jt,{className:"h-5 w-5",style:{color:"#6F73D2"}}),(0,_.jsx)("span",{style:{color:"#0B1E3F"},children:Dr.title}),Dr.quiz&&(0,_.jsx)("span",{className:"px-2 py-0.5 bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 rounded text-xs",children:"Quiz"})]}),(0,_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_.jsx)("span",{className:"text-sm",style:{color:"#6F73D2"},children:Dr.duration}),!ft&&(0,_.jsx)("button",{onClick:()=>{B(Dr.id),q(!0)},className:"p-1 text-purple-600",title:"Add Quiz",children:(0,_.jsx)(No,{className:"h-4 w-4"})})]})]},Fr)),!ft&&(0,_.jsxs)("button",{onClick:()=>{D(Ve.id||tr+1),j(!0)},className:"w-full flex items-center justify-center px-4 py-2 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg text-gray-600 dark:text-gray-400 text-sm font-medium",children:[(0,_.jsx)(Ut,{className:"h-4 w-4 mr-2"}),"Add Lesson"]})]})},Ve.week||tr))]})}),ae.id==="instructor"&&ft&&i?.teacher&&(0,_.jsxs)("div",{className:"space-y-4",children:[(0,_.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,_.jsx)("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center text-white font-bold text-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 100%)"},children:i.teacher.avatarUrl?(0,_.jsx)("img",{src:i.teacher.avatarUrl,alt:i.teacher.name,className:"w-full h-full object-cover"}):(0,_.jsx)("span",{children:i.teacher.name.charAt(0)})}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h3",{className:"text-xl font-bold",style:{color:"#0B1E3F"},children:i.teacher.name}),(0,_.jsx)("p",{style:{color:"#6F73D2"},children:"Instructor"})]})]}),(0,_.jsxs)("div",{className:"flex items-center space-x-6 text-sm mb-4",children:[(0,_.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,_.jsx)(Jt,{className:"h-4 w-4 fill-current",style:{color:"#F59E0B"}}),(0,_.jsxs)("span",{style:{color:"#0B1E3F"},children:[i.rating||0," Rating"]})]}),(0,_.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,_.jsx)(it,{className:"h-4 w-4",style:{color:"#6F73D2"}}),(0,_.jsxs)("span",{style:{color:"#0B1E3F"},children:[i.enrolledStudents?.toLocaleString()||0," Students"]})]})]}),(0,_.jsx)("p",{style:{color:"#0B1E3F"},children:i.description})]}),ae.id==="forum"&&(0,_.jsx)(Qp,{courseId:e})]})})),defaultTab:h,onTabChange:v})}),(0,_.jsxs)("div",{className:"hidden lg:block bg-white rounded-lg shadow-sm border",style:{borderColor:"#E5E7EB"},children:[(0,_.jsx)("div",{className:"border-b",style:{borderColor:"#E5E7EB"},children:(0,_.jsx)("nav",{className:"-mb-px flex space-x-8 px-6",children:Lt.map(ae=>(0,_.jsxs)("button",{onClick:()=>v(ae.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${h===ae.id?"text-[#00B5AD]":"border-transparent text-gray-500 hover:text-gray-700"}`,style:{borderBottomColor:h===ae.id?"#00B5AD":"transparent"},children:[ae.icon,(0,_.jsx)("span",{className:"ml-2",children:ae.label})]},ae.id))})}),(0,_.jsxs)("div",{className:"p-6",children:[h==="overview"&&(0,_.jsxs)("div",{className:"space-y-8",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("h3",{className:"text-2xl font-bold mb-6",style:{color:"#0B1E3F"},children:"What you'll learn"}),(0,_.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i?.learningOutcomes?.length>0?i.learningOutcomes.map((ae,Ve)=>(0,_.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,_.jsx)(fr,{className:"h-5 w-5 flex-shrink-0 mt-0.5",style:{color:"#00B5AD"}}),(0,_.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:ae})]},Ve)):(0,_.jsx)("div",{className:"col-span-2 text-center py-8 text-gray-500",children:"No learning outcomes specified yet."})})]}),(0,_.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",style:{backgroundColor:"rgba(0, 181, 173, 0.05)"},children:[(0,_.jsx)("h3",{className:"text-xl font-semibold mb-4",style:{color:"#0B1E3F"},children:"Course Content"}),(0,_.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:"text-2xl font-bold mb-1",style:{color:"#00B5AD"},children:i?.curriculum?.length||0}),(0,_.jsx)("div",{className:"text-sm",style:{color:"#6F73D2"},children:"Modules"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:"text-2xl font-bold mb-1",style:{color:"#00B5AD"},children:i?.curriculum?.reduce((ae,Ve)=>ae+(Ve.lessons?.length||0),0)||0}),(0,_.jsx)("div",{className:"text-sm",style:{color:"#6F73D2"},children:"Lessons"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:"text-2xl font-bold mb-1",style:{color:"#00B5AD"},children:i.duration||"8 weeks"}),(0,_.jsx)("div",{className:"text-sm",style:{color:"#6F73D2"},children:"Duration"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:"text-2xl font-bold mb-1",style:{color:"#00B5AD"},children:i.level||"All"}),(0,_.jsx)("div",{className:"text-sm",style:{color:"#6F73D2"},children:"Level"})]})]})]}),i?.requirements?.length>0&&(0,_.jsxs)("div",{children:[(0,_.jsx)("h3",{className:"text-xl font-semibold mb-4",style:{color:"#0B1E3F"},children:"Requirements"}),(0,_.jsx)("ul",{className:"list-disc list-inside space-y-2 pl-4",style:{color:"#0B1E3F"},children:i.requirements.map((ae,Ve)=>(0,_.jsx)("li",{className:"leading-relaxed",children:ae},Ve))})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h3",{className:"text-xl font-semibold mb-4",style:{color:"#0B1E3F"},children:"Description"}),(0,_.jsx)("div",{className:"prose max-w-none leading-relaxed",style:{color:"#0B1E3F"},dangerouslySetInnerHTML:{__html:i.description||""}})]})]}),h==="curriculum"&&(0,_.jsx)("div",{className:"space-y-6",children:ft?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:"flex items-center justify-between",children:(0,_.jsxs)("div",{children:[(0,_.jsx)("h3",{className:"text-2xl font-bold mb-2",style:{color:"#0B1E3F"},children:"Course Content"}),(0,_.jsxs)("p",{className:"text-sm",style:{color:"#6F73D2"},children:[i.curriculum?.length??0," modules \u2022 ",i.curriculum?.reduce((ae,Ve)=>ae+(Ve.lessons?.length||0),0)," lessons \u2022 ",i.duration||"8 weeks"," total"]})]})}),!i?.curriculum||i.curriculum.length===0?(0,_.jsxs)("div",{className:"text-center py-12 border border-gray-200 rounded-lg",children:[(0,_.jsx)(ot,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,_.jsx)("h4",{className:"text-lg font-medium mb-2",style:{color:"#0B1E3F"},children:"No modules yet"}),(0,_.jsx)("p",{style:{color:"#6F73D2"},children:"This course doesn't have any content yet"})]}):i?.curriculum?.map((ae,Ve)=>{let tr=ae.lessons?.reduce((Fr,On)=>{let Ll=(On.duration||"0:00").split(":");return Fr+(parseInt(Ll[0])*60+parseInt(Ll[1]||0))},0)||0,Dr=`${Math.floor(tr/60)}h ${tr%60}m`;return(0,_.jsxs)("div",{className:"border-2 rounded-lg overflow-hidden mb-4",style:{borderColor:"#E5E7EB"},children:[(0,_.jsx)("button",{onClick:()=>Le(ae.week||Ve),className:"w-full p-5 bg-white hover:bg-gray-50 transition-colors",children:(0,_.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,_.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold",style:{backgroundColor:"rgba(0, 181, 173, 0.1)",color:"#00B5AD"},children:Ve+1}),(0,_.jsxs)("div",{className:"flex-1 text-left",children:[(0,_.jsx)("h4",{className:"font-semibold text-lg mb-1",style:{color:"#0B1E3F"},children:ae.title||ae.name||`Module ${Ve+1}`}),(0,_.jsxs)("div",{className:"flex items-center space-x-4 text-sm",style:{color:"#6F73D2"},children:[(0,_.jsxs)("span",{children:[ae.lessons?.length??0," lessons"]}),tr>0&&(0,_.jsxs)("span",{children:["\u2022 ",Dr]})]})]})]}),(0,_.jsx)(qa,{className:`h-5 w-5 transition-transform ${m.includes(ae.week||Ve)?"rotate-180":""}`,style:{color:"#6F73D2"}})]})}),m.includes(ae.week||Ve)&&(0,_.jsx)("div",{className:"p-4 bg-gray-50 space-y-2",style:{backgroundColor:"rgba(0, 181, 173, 0.02)"},children:ae.lessons?.map((Fr,On)=>(0,_.jsxs)("div",{className:"flex items-center justify-between py-3 px-4 rounded-lg bg-white hover:shadow-sm transition-all",children:[(0,_.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[Fr.type==="video"?(0,_.jsx)(Bt,{className:"h-5 w-5",style:{color:"#00B5AD"}}):(0,_.jsx)(jt,{className:"h-5 w-5",style:{color:"#6F73D2"}}),(0,_.jsxs)("div",{className:"flex-1",children:[(0,_.jsx)("span",{className:"font-medium",style:{color:"#0B1E3F"},children:Fr.title}),Fr.quiz&&(0,_.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-purple-100 text-purple-700 rounded text-xs font-medium",children:"Quiz"})]})]}),(0,_.jsxs)("div",{className:"flex items-center space-x-3",children:[Fr.duration&&(0,_.jsx)("span",{className:"text-sm",style:{color:"#6F73D2"},children:Fr.duration}),Fr.type==="video"&&(0,_.jsx)(oa,{className:"h-4 w-4",style:{color:"#6F73D2"}})]})]},On))})]},ae.week||Ve)})]}):(0,_.jsxs)(_.Fragment,{children:[ue&&(0,_.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,_.jsx)("p",{className:"text-sm text-red-800",children:ue})}),(0,_.jsx)(eT,{modules:i?.curriculum||[],onModulesChange:async ae=>{if(e)try{ve("");let Ve=ae.map(tr=>tr.id);await Ew(e,Ve);for(let tr of ae){let Dr=tr.lessons.map(Fr=>Fr.id);await Lw(e,tr.id,Dr)}await hr()}catch(Ve){console.error("Error updating curriculum order:",Ve),ve("Failed to update curriculum order. Please try again.")}},onEditModule:ae=>{let Ve=i?.curriculum?.find(tr=>tr.id===ae);Ve&&(T({title:Ve.title,description:Ve.description||""}),D(ae),L(!0))},onEditLesson:(ae,Ve)=>{let Dr=i?.curriculum?.find(Fr=>Fr.id===ae)?.lessons?.find(Fr=>Fr.id===Ve);Dr&&(O({title:Dr.title,content:Dr.content||"",scheduledAt:Dr.scheduledAt||"",videoUrl:Dr.videoUrl||""}),B(Ve),D(ae),j(!0))},onDeleteModule:async ae=>{if(window.confirm("Are you sure you want to delete this module? All lessons in this module will also be deleted."))try{console.log("Deleting module:",ae),await hr()}catch(Ve){console.error("Error deleting module:",Ve),ve("Failed to delete module")}},onDeleteLesson:async(ae,Ve)=>{if(window.confirm("Are you sure you want to delete this lesson?"))try{console.log("Deleting lesson:",ae,Ve),await hr()}catch(tr){console.error("Error deleting lesson:",tr),ve("Failed to delete lesson")}},onAddModule:()=>L(!0),onAddLesson:ae=>{D(ae),j(!0)}})]})}),h==="instructor"&&ft&&i?.teacher&&(0,_.jsx)("div",{className:"space-y-6",children:(0,_.jsxs)("div",{className:"flex items-start space-x-6",children:[(0,_.jsx)("img",{src:i.teacher.avatarUrl||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=256&q=80",alt:i.teacher.name,className:"w-24 h-24 rounded-full object-cover"}),(0,_.jsxs)("div",{className:"flex-1",children:[(0,_.jsx)("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:i.teacher.name}),(0,_.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-3",children:"Instructor"}),(0,_.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[(0,_.jsxs)("div",{className:"flex items-center",children:[(0,_.jsx)(Jt,{className:"h-4 w-4 text-yellow-400 fill-current mr-1"}),(0,_.jsxs)("span",{children:[i.rating||0," Instructor Rating"]})]}),(0,_.jsxs)("div",{className:"flex items-center",children:[(0,_.jsx)(it,{className:"h-4 w-4 mr-1"}),(0,_.jsxs)("span",{children:[i.enrolledStudents?.toLocaleString()||0," Students"]})]})]}),(0,_.jsx)("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:i.description})]})]})}),h==="reviews"&&ft&&(0,_.jsxs)("div",{className:"space-y-6",children:[(0,_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,_.jsxs)("div",{className:"text-center",children:[(0,_.jsx)("div",{className:"text-5xl font-bold mb-2",style:{color:"#0B1E3F"},children:pe.average.toFixed(1)}),(0,_.jsx)("div",{className:"flex items-center justify-center space-x-1 mb-2",children:[1,2,3,4,5].map(ae=>(0,_.jsx)(Jt,{className:`h-5 w-5 ${ae<=Math.round(pe.average)?"fill-current":""}`,style:{color:ae<=Math.round(pe.average)?"#F59E0B":"#E5E7EB"}},ae))}),(0,_.jsx)("p",{className:"text-sm",style:{color:"#6F73D2"},children:"Course Rating"}),(0,_.jsxs)("p",{className:"text-xs mt-1",style:{color:"#6F73D2"},children:["Based on ",pe.total," reviews"]})]}),(0,_.jsx)("div",{className:"col-span-2",children:(0,_.jsx)("div",{className:"space-y-2",children:[5,4,3,2,1].map(ae=>{let Ve=pe.distribution[ae]||0,tr=pe.total>0?Ve/pe.total*100:0;return(0,_.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,_.jsxs)("div",{className:"flex items-center space-x-1 w-20",children:[(0,_.jsx)("span",{className:"text-sm font-medium",style:{color:"#0B1E3F"},children:ae}),(0,_.jsx)(Jt,{className:"h-4 w-4 fill-current",style:{color:"#F59E0B"}})]}),(0,_.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,_.jsx)("div",{className:"h-full transition-all duration-300",style:{width:`${tr}%`,backgroundColor:"#00B5AD"}})}),(0,_.jsxs)("span",{className:"text-sm w-12 text-right",style:{color:"#6F73D2"},children:[Math.round(tr),"%"]})]},ae)})})})]}),(0,_.jsxs)("div",{className:"flex items-center space-x-2 flex-wrap",children:[(0,_.jsx)("button",{onClick:()=>{ne("all"),ze()},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${Te==="all"?"text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,style:{backgroundColor:Te==="all"?"#00B5AD":void 0},children:"All"}),[5,4,3,2,1].map(ae=>(0,_.jsxs)("button",{onClick:()=>{ne(ae),ze()},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-1 ${Te===ae?"text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,style:{backgroundColor:Te===ae?"#00B5AD":void 0},children:[(0,_.jsx)(Jt,{className:"h-4 w-4 fill-current",style:{color:"#F59E0B"}}),(0,_.jsx)("span",{children:ae})]},ae))]}),(0,_.jsx)("div",{className:"space-y-6",children:tt.length===0?(0,_.jsxs)("div",{className:"text-center py-12",children:[(0,_.jsx)(Jt,{className:"h-12 w-12 mx-auto mb-4 opacity-30",style:{color:"#6F73D2"}}),(0,_.jsx)("h4",{className:"text-lg font-medium mb-2",style:{color:"#0B1E3F"},children:"No reviews yet"}),(0,_.jsx)("p",{style:{color:"#6F73D2"},children:"Be the first to review this course!"})]}):tt.map(ae=>(0,_.jsx)("div",{className:"border-b pb-6 last:border-b-0",style:{borderColor:"#E5E7EB"},children:(0,_.jsxs)("div",{className:"flex items-start space-x-4 mb-3",children:[(0,_.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold",style:{background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 100%)"},children:ae.studentName?.charAt(0)||"S"}),(0,_.jsxs)("div",{className:"flex-1",children:[(0,_.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,_.jsx)("h4",{className:"font-semibold",style:{color:"#0B1E3F"},children:ae.studentName||"Anonymous"}),(0,_.jsx)("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(Ve=>(0,_.jsx)(Jt,{className:`h-4 w-4 ${Ve<=ae.rating?"fill-current":""}`,style:{color:Ve<=ae.rating?"#F59E0B":"#E5E7EB"}},Ve))})]}),(0,_.jsx)("p",{className:"text-xs mb-2",style:{color:"#6F73D2"},children:new Date(ae.createdAt||Date.now()).toLocaleDateString()}),(0,_.jsx)("p",{className:"text-sm leading-relaxed",style:{color:"#0B1E3F"},children:ae.comment||ae.content}),ae.helpfulCount>0&&(0,_.jsx)("div",{className:"flex items-center space-x-4 mt-3",children:(0,_.jsxs)("button",{className:"flex items-center space-x-1 text-sm",style:{color:"#6F73D2"},children:[(0,_.jsx)(Vo,{className:"h-4 w-4"}),(0,_.jsxs)("span",{children:["Helpful (",ae.helpfulCount,")"]})]})})]})]})},ae.id))})]}),h==="students"&&!ft&&(0,_.jsxs)("div",{className:"space-y-6",children:[(0,_.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,_.jsx)("h3",{className:"text-2xl font-bold",style:{color:"#0B1E3F"},children:"Student Progress"}),(0,_.jsxs)(we,{to:`/students/progress?courseId=${e}`,className:"flex items-center px-4 py-2 rounded-xl font-semibold text-sm transition-all duration-200",style:{backgroundColor:"#00B5AD",color:"white",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:[(0,_.jsx)(Cr,{className:"h-4 w-4 mr-2"}),"View Full Report"]})]}),(0,_.jsx)("div",{className:"rounded-2xl border-2 p-6",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:(0,_.jsx)("p",{className:"text-center py-8",style:{color:"#6F73D2"},children:'Student progress data will be displayed here. Click "View Full Report" to see detailed analytics.'})})]}),h==="assignments"&&!ft&&(0,_.jsxs)("div",{className:"space-y-6",children:[(0,_.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,_.jsx)("h3",{className:"text-2xl font-bold",style:{color:"#0B1E3F"},children:"Grade Assignments"}),(0,_.jsxs)(we,{to:`/assignments/grade?courseId=${e}`,className:"flex items-center px-4 py-2 rounded-xl font-semibold text-sm transition-all duration-200",style:{backgroundColor:"#00B5AD",color:"white",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:[(0,_.jsx)(or,{className:"h-4 w-4 mr-2"}),"Grade All Assignments"]})]}),(0,_.jsx)("div",{className:"rounded-2xl border-2 p-6",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:(0,_.jsx)("p",{className:"text-center py-8",style:{color:"#6F73D2"},children:'Assignment submissions will be displayed here. Click "Grade All Assignments" to view and grade student submissions.'})})]}),h==="forum"&&(0,_.jsx)(Qp,{courseId:e})]})]})]}),ft&&!u&&(0,_.jsx)("div",{className:"lg:hidden fixed bottom-20 left-0 right-0 z-40 px-4 pb-4",children:(0,_.jsx)("button",{onClick:ho,className:"w-full py-4 text-white rounded-xl font-bold text-lg transition-all duration-300 active:scale-95",style:{backgroundColor:"#00B5AD",boxShadow:"0 10px 30px rgba(0, 181, 173, 0.4)"},children:i.isPaid?`Enroll Now - $${i.price}`:"Enroll for Free"})}),(0,_.jsx)(kn,{isOpen:p,onClose:()=>f(!1),title:x==="payment"?"Complete Enrollment":"Success!",maxHeight:"90vh",children:x==="payment"?(0,_.jsxs)("div",{className:"p-6 space-y-6",children:[(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[i.imageUrl&&(0,_.jsx)("img",{src:i.imageUrl,alt:i.title,className:"w-16 h-16 rounded-xl object-cover"}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h3",{className:"font-bold text-lg",style:{color:"#0B1E3F"},children:i.title}),(0,_.jsx)("p",{className:"text-sm",style:{color:"#6F73D2"},children:i.duration})]})]}),(0,_.jsxs)("div",{className:"text-3xl font-bold mb-2",style:{color:"#0B1E3F"},children:["$",i.price]}),(0,_.jsx)("p",{className:"text-sm",style:{color:"#6F73D2"},children:i.isPaid?"One-time payment":"Free enrollment"})]}),(0,_.jsxs)("form",{onSubmit:Da,className:"space-y-5",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-semibold mb-3",style:{color:"#0B1E3F"},children:"Payment Method"}),(0,_.jsxs)("div",{className:"space-y-3",children:[(0,_.jsxs)("label",{className:"flex items-center space-x-3 p-4 rounded-xl border-2 cursor-pointer transition-all duration-200",style:{borderColor:w==="card"?"#00B5AD":"#E5E7EB",backgroundColor:w==="card"?"rgba(0, 181, 173, 0.05)":"white"},children:[(0,_.jsx)("input",{type:"radio",name:"paymentMethod",value:"card",checked:w==="card",onChange:ae=>N(ae.target.value),style:{accentColor:"#00B5AD"}}),(0,_.jsx)(Fd,{className:"h-5 w-5",style:{color:"#00B5AD"}}),(0,_.jsx)("span",{className:"font-semibold",style:{color:"#0B1E3F"},children:"Credit Card"})]}),(0,_.jsxs)("label",{className:"flex items-center space-x-3 p-4 rounded-xl border-2 cursor-pointer transition-all duration-200",style:{borderColor:w==="paypal"?"#00B5AD":"#E5E7EB",backgroundColor:w==="paypal"?"rgba(0, 181, 173, 0.05)":"white"},children:[(0,_.jsx)("input",{type:"radio",name:"paymentMethod",value:"paypal",checked:w==="paypal",onChange:ae=>N(ae.target.value),style:{accentColor:"#00B5AD"}}),(0,_.jsx)("div",{className:"w-5 h-5 rounded flex items-center justify-center",style:{backgroundColor:"#00B5AD"},children:(0,_.jsx)("span",{className:"text-white text-xs font-bold",children:"P"})}),(0,_.jsx)("span",{className:"font-semibold",style:{color:"#0B1E3F"},children:"PayPal"})]})]})]}),w==="card"&&(0,_.jsxs)("div",{className:"space-y-4",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Card Number"}),(0,_.jsx)("input",{type:"text",placeholder:"1234 5678 9012 3456",value:I.number,onChange:ae=>C({...I,number:ae.target.value}),className:"w-full px-4 py-3 border-2 rounded-xl focus:outline-none transition-all duration-200",style:{borderColor:"#E5E7EB",backgroundColor:"white",color:"#0B1E3F",fontSize:"16px"},onFocus:ae=>{ae.currentTarget.style.borderColor="#00B5AD",ae.currentTarget.style.boxShadow="0 0 0 4px rgba(0, 181, 173, 0.1)"},onBlur:ae=>{ae.currentTarget.style.borderColor="#E5E7EB",ae.currentTarget.style.boxShadow="none"},required:!0})]}),(0,_.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Expiry"}),(0,_.jsx)("input",{type:"text",placeholder:"MM/YY",value:I.expiry,onChange:ae=>C({...I,expiry:ae.target.value}),className:"w-full px-4 py-3 border-2 rounded-xl focus:outline-none transition-all duration-200",style:{borderColor:"#E5E7EB",backgroundColor:"white",color:"#0B1E3F",fontSize:"16px"},onFocus:ae=>{ae.currentTarget.style.borderColor="#00B5AD",ae.currentTarget.style.boxShadow="0 0 0 4px rgba(0, 181, 173, 0.1)"},onBlur:ae=>{ae.currentTarget.style.borderColor="#E5E7EB",ae.currentTarget.style.boxShadow="none"},required:!0})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"CVV"}),(0,_.jsx)("input",{type:"text",placeholder:"123",value:I.cvv,onChange:ae=>C({...I,cvv:ae.target.value}),className:"w-full px-4 py-3 border-2 rounded-xl focus:outline-none transition-all duration-200",style:{borderColor:"#E5E7EB",backgroundColor:"white",color:"#0B1E3F",fontSize:"16px"},onFocus:ae=>{ae.currentTarget.style.borderColor="#00B5AD",ae.currentTarget.style.boxShadow="0 0 0 4px rgba(0, 181, 173, 0.1)"},onBlur:ae=>{ae.currentTarget.style.borderColor="#E5E7EB",ae.currentTarget.style.boxShadow="none"},required:!0})]})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Cardholder Name"}),(0,_.jsx)("input",{type:"text",placeholder:"John Doe",value:I.name,onChange:ae=>C({...I,name:ae.target.value}),className:"w-full px-4 py-3 border-2 rounded-xl focus:outline-none transition-all duration-200",style:{borderColor:"#E5E7EB",backgroundColor:"white",color:"#0B1E3F",fontSize:"16px"},onFocus:ae=>{ae.currentTarget.style.borderColor="#00B5AD",ae.currentTarget.style.boxShadow="0 0 0 4px rgba(0, 181, 173, 0.1)"},onBlur:ae=>{ae.currentTarget.style.borderColor="#E5E7EB",ae.currentTarget.style.boxShadow="none"},required:!0})]})]}),(0,_.jsxs)("div",{className:"flex items-center space-x-2 text-sm",style:{color:"#6F73D2"},children:[(0,_.jsx)(Bd,{className:"h-4 w-4"}),(0,_.jsx)("span",{children:"Your payment is secure and encrypted"})]}),(0,_.jsx)("button",{type:"submit",disabled:S,className:"w-full py-4 text-white rounded-xl font-bold text-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:S?(0,_.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,_.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),(0,_.jsx)("span",{children:"Processing..."})]}):`Pay $${i.price}`})]})]}):(0,_.jsxs)("div",{className:"p-6 text-center",children:[(0,_.jsx)("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"rgba(0, 181, 173, 0.1)"},children:(0,_.jsx)(fr,{className:"h-10 w-10",style:{color:"#00B5AD"}})}),(0,_.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"#0B1E3F"},children:"Enrollment Successful!"}),(0,_.jsxs)("p",{className:"mb-6",style:{color:"#6F73D2"},children:['You now have full access to "',i.title,'". Start learning right away!']}),(0,_.jsx)("button",{onClick:Fn,className:"w-full py-4 text-white rounded-xl font-bold text-lg transition-all duration-300 active:scale-95",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:"Start Learning"})]})}),p&&(0,_.jsx)("div",{className:"hidden lg:flex fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50 p-4",children:(0,_.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:x==="payment"?(0,_.jsxs)("div",{className:"p-6",children:[(0,_.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,_.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Complete Enrollment"}),(0,_.jsx)("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,_.jsx)(et,{className:"h-6 w-6"})})]}),(0,_.jsxs)("div",{className:"mb-6",children:[(0,_.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,_.jsx)("img",{src:i.imageUrl,alt:i.title,className:"w-16 h-16 rounded-lg object-cover"}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:i.title}),(0,_.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i.duration})]})]}),(0,_.jsxs)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",i.price]})]}),(0,_.jsxs)("form",{onSubmit:Da,className:"space-y-4",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),(0,_.jsxs)("div",{className:"space-y-2",children:[(0,_.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,_.jsx)("input",{type:"radio",name:"paymentMethod",value:"card",checked:w==="card",onChange:ae=>N(ae.target.value),className:"text-blue-600"}),(0,_.jsx)(Fd,{className:"h-5 w-5 text-gray-400"}),(0,_.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Credit Card"})]}),(0,_.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,_.jsx)("input",{type:"radio",name:"paymentMethod",value:"paypal",checked:w==="paypal",onChange:ae=>N(ae.target.value),className:"text-blue-600"}),(0,_.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded flex items-center justify-center",children:(0,_.jsx)("span",{className:"text-white text-xs font-bold",children:"P"})}),(0,_.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"PayPal"})]})]})]}),w==="card"&&(0,_.jsxs)("div",{className:"space-y-4",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Card Number"}),(0,_.jsx)("input",{type:"text",placeholder:"1234 5678 9012 3456",value:I.number,onChange:ae=>C({...I,number:ae.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]}),(0,_.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Expiry Date"}),(0,_.jsx)("input",{type:"text",placeholder:"MM/YY",value:I.expiry,onChange:ae=>C({...I,expiry:ae.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"CVV"}),(0,_.jsx)("input",{type:"text",placeholder:"123",value:I.cvv,onChange:ae=>C({...I,cvv:ae.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cardholder Name"}),(0,_.jsx)("input",{type:"text",placeholder:"John Doe",value:I.name,onChange:ae=>C({...I,name:ae.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]})]}),(0,_.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,_.jsx)(Bd,{className:"h-4 w-4"}),(0,_.jsx)("span",{children:"Your payment is secure and encrypted"})]}),(0,_.jsx)("button",{type:"submit",disabled:S,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium flex items-center justify-center space-x-2",children:S?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,_.jsx)("span",{children:"Processing..."})]}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("span",{children:["Pay $",i.price]}),(0,_.jsx)(cr,{className:"h-4 w-4"})]})})]})]}):(0,_.jsxs)("div",{className:"p-6 text-center",children:[(0,_.jsx)("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,_.jsx)(fr,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),(0,_.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Enrollment Successful!"}),(0,_.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:['You now have full access to "',i.title,'". Start learning right away!']}),(0,_.jsx)("button",{onClick:Fn,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 font-medium",children:"Start Learning"})]})})}),E&&(0,_.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,_.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[(0,_.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,_.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Create Module"}),(0,_.jsx)("button",{onClick:()=>{L(!1),T({title:"",description:""}),ve("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,_.jsx)(et,{className:"h-5 w-5"})})]}),(0,_.jsxs)("div",{className:"space-y-4",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Module Title *"}),(0,_.jsx)("input",{type:"text",value:F.title,onChange:ae=>T(Ve=>({...Ve,title:ae.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., Introduction to React",required:!0})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),(0,_.jsx)("textarea",{value:F.description,onChange:ae=>T(Ve=>({...Ve,description:ae.target.value})),rows:3,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Optional module description"})]})]}),(0,_.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,_.jsx)("button",{onClick:()=>{L(!1),T({title:"",description:""}),ve("")},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),(0,_.jsx)("button",{onClick:Qe,disabled:J||!F.title.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:J?"Creating...":"Create Module"})]})]})}),P&&(0,_.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,_.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[(0,_.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,_.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Add Lesson"}),(0,_.jsx)("button",{onClick:()=>{j(!1),O({title:"",content:"",scheduledAt:"",videoUrl:""}),D(null),ve("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,_.jsx)(et,{className:"h-5 w-5"})})]}),(0,_.jsxs)("div",{className:"space-y-4",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Lesson Title *"}),(0,_.jsx)("input",{type:"text",value:U.title,onChange:ae=>O(Ve=>({...Ve,title:ae.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., Getting Started with React",required:!0})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Content"}),(0,_.jsx)("textarea",{value:U.content,onChange:ae=>O(Ve=>({...Ve,content:ae.target.value})),rows:4,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Lesson content (markdown supported)"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Scheduled Date/Time"}),(0,_.jsx)("input",{type:"datetime-local",value:U.scheduledAt,onChange:ae=>O(Ve=>({...Ve,scheduledAt:ae.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"})]}),(0,_.jsx)(tT,{onUploadComplete:ae=>{O(Ve=>({...Ve,videoUrl:ae}))},onUploadError:ae=>{ve(ae)},existingVideoUrl:U.videoUrl,onRemove:()=>{O(ae=>({...ae,videoUrl:""}))},maxSize:500})]}),(0,_.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,_.jsx)("button",{onClick:()=>{j(!1),O({title:"",content:"",scheduledAt:"",videoUrl:""}),D(null),ve("")},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),(0,_.jsx)("button",{onClick:ir,disabled:J||!U.title.trim()||!R,className:"px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:J?"Creating...":"Add Lesson"})]})]})}),M&&(0,_.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,_.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[(0,_.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,_.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Create Quiz"}),(0,_.jsx)("button",{onClick:()=>{q(!1),X({title:"",description:"",timeLimit:30,passingScore:70}),B(null),ve("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,_.jsx)(et,{className:"h-5 w-5"})})]}),(0,_.jsxs)("div",{className:"space-y-4",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quiz Title *"}),(0,_.jsx)("input",{type:"text",value:z.title,onChange:ae=>X(Ve=>({...Ve,title:ae.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., Lesson 1 Quiz",required:!0})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),(0,_.jsx)("textarea",{value:z.description,onChange:ae=>X(Ve=>({...Ve,description:ae.target.value})),rows:2,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Optional quiz description"})]}),(0,_.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Time Limit (minutes)"}),(0,_.jsx)("input",{type:"number",value:z.timeLimit,onChange:ae=>X(Ve=>({...Ve,timeLimit:parseInt(ae.target.value)||30})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",min:"1"})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Passing Score (%)"}),(0,_.jsx)("input",{type:"number",value:z.passingScore,onChange:ae=>X(Ve=>({...Ve,passingScore:parseInt(ae.target.value)||70})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",min:"0",max:"100"})]})]}),(0,_.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Note: You can add questions after creating the quiz."})]}),(0,_.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,_.jsx)("button",{onClick:()=>{q(!1),X({title:"",description:"",timeLimit:30,passingScore:70}),B(null),ve("")},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),(0,_.jsx)("button",{onClick:Ft,disabled:J||!z.title.trim()||!A,className:"px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:J?"Creating...":"Create Quiz"})]})]})})]}):(0,_.jsxs)("div",{className:"text-center py-12",children:[(0,_.jsx)(ot,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,_.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Course not found"}),(0,_.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"The course you're looking for doesn't exist."})]})};var mo=H(he());Rt();var Sr=H(he());var lt=H(se()),oT=({videoUrl:e,poster:t,onTimeUpdate:r,onComplete:a,autoResume:o=!0,lessonId:n,allowDownload:s=!1})=>{let i=(0,Sr.useRef)(null),c=(0,Sr.useRef)(null),[l,d]=(0,Sr.useState)(!1),[u,g]=(0,Sr.useState)(!1),[h,v]=(0,Sr.useState)(1),[m,y]=(0,Sr.useState)(0),[p,f]=(0,Sr.useState)(0),[x,b]=(0,Sr.useState)(!1),[w,N]=(0,Sr.useState)(!1),[I,C]=(0,Sr.useState)(1),[S,k]=(0,Sr.useState)(!0),[E,L]=(0,Sr.useState)(!1),[P,j]=(0,Sr.useState)(!1),[M,q]=(0,Sr.useState)(!1),[R,D]=(0,Sr.useState)(!1),[A,B]=(0,Sr.useState)(!1),[F,T]=(0,Sr.useState)(!1),[U,O]=(0,Sr.useState)(""),z=(0,Sr.useRef)(),X=[.5,.75,1,1.25,1.5,1.75,2],J=["Auto","1080p","720p","480p","360p"];(0,Sr.useEffect)(()=>{if(o&&n&&i.current){let Le=localStorage.getItem(`video-progress-${n}`);if(Le){let Qe=parseFloat(Le);i.current.currentTime=Qe}}},[o,n]),(0,Sr.useEffect)(()=>{n&&m>0&&localStorage.setItem(`video-progress-${n}`,m.toString())},[m,n]),(0,Sr.useEffect)(()=>{let Le=Qe=>{if(i.current&&!(Qe.target instanceof HTMLInputElement||Qe.target instanceof HTMLTextAreaElement))switch(Qe.key){case" ":Qe.preventDefault(),K();break;case"ArrowLeft":Qe.preventDefault(),ve(-10);break;case"ArrowRight":Qe.preventDefault(),ve(10);break;case"ArrowUp":Qe.preventDefault(),v(Math.min(1,h+.1));break;case"ArrowDown":Qe.preventDefault(),v(Math.max(0,h-.1));break;case"f":case"F":Qe.preventDefault(),qe();break;case"m":case"M":Qe.preventDefault(),ue();break;case">":case".":Qe.preventDefault(),Te();break;case"<":case",":Qe.preventDefault(),ne();break}};return window.addEventListener("keydown",Le),()=>window.removeEventListener("keydown",Le)},[h]),(0,Sr.useEffect)(()=>(l&&S&&(z.current=setTimeout(()=>{k(!1)},3e3)),()=>{z.current&&clearTimeout(z.current)}),[l,S]);let K=()=>{i.current&&(l?i.current.pause():i.current.play(),d(!l))},ue=()=>{i.current&&(i.current.muted=!u,g(!u))},ve=Le=>{if(i.current){let Qe=Math.max(0,Math.min(p,m+Le));i.current.currentTime=Qe,y(Qe)}},tt=Le=>{let Qe=parseFloat(Le.target.value);i.current&&(i.current.currentTime=Qe,y(Qe))},qe=async()=>{if(c.current)try{x?(await document.exitFullscreen(),b(!1)):(await c.current.requestFullscreen(),b(!0))}catch(Le){console.error("Fullscreen error:",Le)}},pe=async()=>{if(i.current)try{w?(await document.exitPictureInPicture(),N(!1)):(await i.current.requestPictureInPicture(),N(!0))}catch(Le){console.error("PiP error:",Le)}},re=Le=>{i.current&&(i.current.playbackRate=Le,C(Le),j(!1))},Te=()=>{let Le=X.indexOf(I);Le<X.length-1&&re(X[Le+1])},ne=()=>{let Le=X.indexOf(I);Le>0&&re(X[Le-1])},de=Le=>{let Qe=Math.floor(Le/3600),ir=Math.floor(Le%3600/60),Ft=Math.floor(Le%60);return Qe>0?`${Qe}:${ir.toString().padStart(2,"0")}:${Ft.toString().padStart(2,"0")}`:`${ir}:${Ft.toString().padStart(2,"0")}`},Re=()=>{if(i.current&&!A){let Le=i.current.currentTime,Qe=i.current.duration;y(Le),f(Qe),r?.(Le,Qe),Qe>0&&Le>=Qe-.5&&a?.()}},Be=()=>{i.current&&f(i.current.duration)},xe=()=>{d(!0)},Et=()=>{d(!1)},ft=()=>{k(!0),z.current&&clearTimeout(z.current)},Lt=()=>{if(n&&m>0){let Le=JSON.parse(localStorage.getItem(`bookmarks-${n}`)||"[]");Le.push({time:m,note:U,timestamp:new Date().toISOString()}),localStorage.setItem(`bookmarks-${n}`,JSON.stringify(Le)),T(!1),O("")}},ze=()=>{if(e){let Le=document.createElement("a");Le.href=e,Le.download="video.mp4",document.body.appendChild(Le),Le.click(),document.body.removeChild(Le)}};return(0,lt.jsxs)("div",{ref:c,className:"relative w-full bg-black group",onMouseMove:ft,onMouseLeave:()=>{l&&k(!1)},children:[(0,lt.jsx)("video",{ref:i,className:"w-full h-full",src:e,poster:t,onTimeUpdate:Re,onLoadedMetadata:Be,onPlay:xe,onPause:Et,onEnded:()=>d(!1),muted:u,volume:h,playbackRate:I}),!l&&(0,lt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:(0,lt.jsx)("button",{onClick:K,className:"w-20 h-20 rounded-full bg-white bg-opacity-90 flex items-center justify-center hover:bg-opacity-100 transition-all",children:(0,lt.jsx)(oa,{className:"h-10 w-10 text-black ml-1",fill:"currentColor"})})}),S&&(0,lt.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col justify-end",children:[(0,lt.jsx)("div",{className:"px-4 pb-2",children:(0,lt.jsx)("div",{className:"relative",children:(0,lt.jsx)("input",{type:"range",min:"0",max:p||0,value:m,onChange:tt,onMouseDown:()=>B(!0),onMouseUp:()=>B(!1),className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #00B5AD 0%, #00B5AD ${m/p*100}%, #4B5563 ${m/p*100}%, #4B5563 100%)`}})})}),(0,lt.jsx)("div",{className:"px-4 pb-4",children:(0,lt.jsxs)("div",{className:"flex items-center justify-between text-white",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsx)("button",{onClick:K,className:"p-2 hover:bg-white/20 rounded transition-colors",children:l?(0,lt.jsx)(rp,{className:"h-5 w-5"}):(0,lt.jsx)(oa,{className:"h-5 w-5",fill:"currentColor"})}),(0,lt.jsx)("button",{onClick:()=>ve(-10),className:"p-2 hover:bg-white/20 rounded transition-colors",title:"Rewind 10s",children:(0,lt.jsx)(lp,{className:"h-5 w-5"})}),(0,lt.jsx)("button",{onClick:()=>ve(10),className:"p-2 hover:bg-white/20 rounded transition-colors",title:"Forward 10s",children:(0,lt.jsx)(cp,{className:"h-5 w-5"})}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2 ml-2",children:[(0,lt.jsx)("button",{onClick:ue,className:"p-2 hover:bg-white/20 rounded transition-colors",children:u?(0,lt.jsx)(ic,{className:"h-5 w-5"}):(0,lt.jsx)(sc,{className:"h-5 w-5"})}),(0,lt.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:h,onChange:Le=>{let Qe=parseFloat(Le.target.value);v(Qe),i.current&&(i.current.volume=Qe)},className:"w-20 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer"})]}),(0,lt.jsxs)("div",{className:"text-sm ml-4",children:[de(m)," / ",de(p)]})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsxs)("button",{onClick:()=>{j(!P),L(!1),q(!1)},className:"p-2 hover:bg-white/20 rounded transition-colors flex items-center space-x-1",title:`Playback Speed: ${I}x`,children:[(0,lt.jsx)(qm,{className:"h-5 w-5"}),(0,lt.jsxs)("span",{className:"text-sm",children:[I,"x"]})]}),P&&(0,lt.jsx)("div",{className:"absolute bottom-full right-0 mb-2 bg-black bg-opacity-90 rounded-lg p-2 min-w-[120px]",children:X.map(Le=>(0,lt.jsxs)("button",{onClick:()=>re(Le),className:`w-full text-left px-3 py-2 rounded hover:bg-white/20 transition-colors ${I===Le?"bg-white/30":""}`,children:[Le,"x"]},Le))})]}),(0,lt.jsx)("button",{onClick:()=>D(!R),className:`p-2 rounded transition-colors ${R?"bg-white/30":"hover:bg-white/20"}`,title:"Subtitles",children:(0,lt.jsx)(fp,{className:"h-5 w-5"})}),(0,lt.jsx)("button",{onClick:()=>T(!0),className:"p-2 hover:bg-white/20 rounded transition-colors",title:"Add Bookmark",children:(0,lt.jsx)(zo,{className:"h-5 w-5"})}),document.pictureInPictureEnabled&&(0,lt.jsx)("button",{onClick:pe,className:`p-2 rounded transition-colors ${w?"bg-white/30":"hover:bg-white/20"}`,title:"Picture in Picture",children:(0,lt.jsx)(ap,{className:"h-5 w-5"})}),s&&(0,lt.jsx)("button",{onClick:ze,className:"p-2 hover:bg-white/20 rounded transition-colors",title:"Download Video",children:(0,lt.jsx)(Wr,{className:"h-5 w-5"})}),(0,lt.jsx)("button",{onClick:qe,className:"p-2 hover:bg-white/20 rounded transition-colors",title:"Fullscreen",children:x?(0,lt.jsx)(ac,{className:"h-5 w-5"}):(0,lt.jsx)(Yn,{className:"h-5 w-5"})})]})]})})]}),S&&!l&&(0,lt.jsxs)("div",{className:"absolute top-4 right-4 bg-black bg-opacity-70 text-white text-xs p-3 rounded-lg space-y-1",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("kbd",{className:"px-1 py-0.5 bg-white/20 rounded",children:"Space"})," Play/Pause"]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("kbd",{className:"px-1 py-0.5 bg-white/20 rounded",children:"\u2190"})," ",(0,lt.jsx)("kbd",{className:"px-1 py-0.5 bg-white/20 rounded",children:"\u2192"})," Seek"]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("kbd",{className:"px-1 py-0.5 bg-white/20 rounded",children:"\u2191"})," ",(0,lt.jsx)("kbd",{className:"px-1 py-0.5 bg-white/20 rounded",children:"\u2193"})," Volume"]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("kbd",{className:"px-1 py-0.5 bg-white/20 rounded",children:"F"})," Fullscreen"]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("kbd",{className:"px-1 py-0.5 bg-white/20 rounded",children:"M"})," Mute"]})]}),F&&(0,lt.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:(0,lt.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,lt.jsx)("h3",{className:"text-lg font-bold",style:{color:"#0B1E3F"},children:"Add Bookmark"}),(0,lt.jsx)("button",{onClick:()=>{T(!1),O("")},className:"p-1 hover:bg-gray-100 rounded",children:(0,lt.jsx)(et,{className:"h-5 w-5"})})]}),(0,lt.jsxs)("p",{className:"text-sm mb-4",style:{color:"#6F73D2"},children:["At ",de(m)]}),(0,lt.jsx)("textarea",{value:U,onChange:Le=>O(Le.target.value),placeholder:"Add a note for this bookmark...",className:"w-full p-3 border rounded-lg mb-4 resize-none",rows:3}),(0,lt.jsxs)("div",{className:"flex space-x-3",children:[(0,lt.jsx)("button",{onClick:()=>{T(!1),O("")},className:"flex-1 px-4 py-2 border rounded-lg font-medium",style:{borderColor:"#E5E7EB",color:"#0B1E3F"},children:"Cancel"}),(0,lt.jsx)("button",{onClick:Lt,className:"flex-1 px-4 py-2 rounded-lg font-medium text-white",style:{backgroundColor:"#00B5AD"},children:"Save Bookmark"})]})]})})]})};var En=H(he());var at=H(se()),nT=({lessonId:e,currentTime:t=0,duration:r=0,onJumpToTime:a})=>{let{user:o}=Ge(),[n,s]=(0,En.useState)([]),[i,c]=(0,En.useState)([]),[l,d]=(0,En.useState)("bookmarks"),[u,g]=(0,En.useState)(!1),[h,v]=(0,En.useState)(!1),[m,y]=(0,En.useState)(null),[p,f]=(0,En.useState)(null),[x,b]=(0,En.useState)(""),[w,N]=(0,En.useState)("");(0,En.useEffect)(()=>{I(),C()},[e]);let I=()=>{let F=localStorage.getItem(`bookmarks-${e}`);if(F)try{s(JSON.parse(F))}catch(T){console.error("Error loading bookmarks:",T),s([])}else s([])},C=()=>{let F=localStorage.getItem(`notes-${e}`);if(F)try{c(JSON.parse(F))}catch(T){console.error("Error loading notes:",T),c([])}else c([])},S=F=>{localStorage.setItem(`bookmarks-${e}`,JSON.stringify(F)),s(F)},k=F=>{localStorage.setItem(`notes-${e}`,JSON.stringify(F)),c(F)},E=F=>{let T=Math.floor(F/3600),U=Math.floor(F%3600/60),O=Math.floor(F%60);return T>0?`${T}:${U.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`:`${U}:${O.toString().padStart(2,"0")}`},L=()=>{t>0&&(b(""),y(null),g(!0))},P=()=>{if(m){let F=n.map(T=>T.id===m.id?{...T,note:x,time:t}:T);S(F)}else{let F={id:Date.now().toString(),time:t,note:x,timestamp:new Date().toISOString(),lessonId:e};S([...n,F])}g(!1),b(""),y(null)},j=F=>{window.confirm("Are you sure you want to delete this bookmark?")&&S(n.filter(T=>T.id!==F))},M=F=>{y(F),b(F.note),g(!0)},q=()=>{N(""),f(null),v(!0)},R=()=>{if(p){let F=i.map(T=>T.id===p.id?{...T,content:w,videoTime:t}:T);k(F)}else{let F={id:Date.now().toString(),content:w,timestamp:new Date().toISOString(),lessonId:e,videoTime:t};k([...i,F])}v(!1),N(""),f(null)},D=F=>{window.confirm("Are you sure you want to delete this note?")&&k(i.filter(T=>T.id!==F))},A=F=>{f(F),N(F.content),v(!0)},B=F=>{a?.(F)};return(0,at.jsxs)("div",{className:"bg-white rounded-lg border-2",style:{borderColor:"#E5E7EB"},children:[(0,at.jsxs)("div",{className:"flex border-b",style:{borderColor:"#E5E7EB"},children:[(0,at.jsx)("button",{onClick:()=>d("bookmarks"),className:`flex-1 px-4 py-3 text-sm font-semibold transition-colors ${l==="bookmarks"?"border-b-2":"text-gray-500 hover:text-gray-700"}`,style:{borderBottomColor:l==="bookmarks"?"#00B5AD":"transparent",color:l==="bookmarks"?"#00B5AD":"#6F73D2"},children:(0,at.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,at.jsx)(zo,{className:"h-4 w-4"}),(0,at.jsxs)("span",{children:["Bookmarks (",n.length,")"]})]})}),(0,at.jsx)("button",{onClick:()=>d("notes"),className:`flex-1 px-4 py-3 text-sm font-semibold transition-colors ${l==="notes"?"border-b-2":"text-gray-500 hover:text-gray-700"}`,style:{borderBottomColor:l==="notes"?"#00B5AD":"transparent",color:l==="notes"?"#00B5AD":"#6F73D2"},children:(0,at.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,at.jsx)(jt,{className:"h-4 w-4"}),(0,at.jsxs)("span",{children:["Notes (",i.length,")"]})]})})]}),(0,at.jsx)("div",{className:"p-4",children:l==="bookmarks"?(0,at.jsxs)("div",{className:"space-y-4",children:[(0,at.jsxs)("button",{onClick:L,disabled:t===0,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:t===0?"#E5E7EB":"rgba(0, 181, 173, 0.1)",color:t===0?"#9CA3AF":"#00B5AD"},children:[(0,at.jsx)(Ut,{className:"h-4 w-4"}),(0,at.jsxs)("span",{children:["Add Bookmark at ",E(t)]})]}),n.length===0?(0,at.jsxs)("div",{className:"text-center py-8",children:[(0,at.jsx)(zo,{className:"h-12 w-12 mx-auto mb-3",style:{color:"#9CA3AF"}}),(0,at.jsx)("p",{className:"text-sm",style:{color:"#6F73D2"},children:"No bookmarks yet. Add one to mark important moments in the video."})]}):(0,at.jsx)("div",{className:"space-y-2",children:n.sort((F,T)=>F.time-T.time).map(F=>(0,at.jsx)("div",{className:"p-3 rounded-lg border-2 transition-all hover:shadow-sm",style:{borderColor:"#E5E7EB",backgroundColor:"white"},children:(0,at.jsxs)("div",{className:"flex items-start justify-between",children:[(0,at.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,at.jsxs)("button",{onClick:()=>B(F.time),className:"flex items-center space-x-2 mb-2 group",children:[(0,at.jsx)(xt,{className:"h-4 w-4",style:{color:"#00B5AD"}}),(0,at.jsx)("span",{className:"text-sm font-semibold group-hover:underline",style:{color:"#00B5AD"},children:E(F.time)})]}),F.note&&(0,at.jsx)("p",{className:"text-sm",style:{color:"#0B1E3F"},children:F.note}),(0,at.jsx)("p",{className:"text-xs mt-1",style:{color:"#6F73D2"},children:new Date(F.timestamp).toLocaleDateString()})]}),(0,at.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[(0,at.jsx)("button",{onClick:()=>M(F),className:"p-1.5 rounded hover:bg-gray-100 transition-colors",title:"Edit bookmark",children:(0,at.jsx)(Gr,{className:"h-3.5 w-3.5",style:{color:"#6F73D2"}})}),(0,at.jsx)("button",{onClick:()=>j(F.id),className:"p-1.5 rounded hover:bg-red-50 transition-colors",title:"Delete bookmark",children:(0,at.jsx)(gr,{className:"h-3.5 w-3.5",style:{color:"#EF4444"}})})]})]})},F.id))})]}):(0,at.jsxs)("div",{className:"space-y-4",children:[(0,at.jsxs)("button",{onClick:q,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors",style:{backgroundColor:"rgba(0, 181, 173, 0.1)",color:"#00B5AD"},children:[(0,at.jsx)(Ut,{className:"h-4 w-4"}),(0,at.jsx)("span",{children:"Add Note"})]}),i.length===0?(0,at.jsxs)("div",{className:"text-center py-8",children:[(0,at.jsx)(jt,{className:"h-12 w-12 mx-auto mb-3",style:{color:"#9CA3AF"}}),(0,at.jsx)("p",{className:"text-sm",style:{color:"#6F73D2"},children:"No notes yet. Add notes to capture your thoughts and insights."})]}):(0,at.jsx)("div",{className:"space-y-3",children:i.sort((F,T)=>new Date(T.timestamp).getTime()-new Date(F.timestamp).getTime()).map(F=>(0,at.jsxs)("div",{className:"p-4 rounded-lg border-2 transition-all hover:shadow-sm",style:{borderColor:"#E5E7EB",backgroundColor:"white"},children:[(0,at.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,at.jsxs)("div",{className:"flex items-center space-x-2",children:[F.videoTime!==void 0&&(0,at.jsxs)("button",{onClick:()=>B(F.videoTime),className:"flex items-center space-x-1 text-xs group",children:[(0,at.jsx)(Bt,{className:"h-3 w-3",style:{color:"#00B5AD"}}),(0,at.jsx)("span",{className:"group-hover:underline",style:{color:"#00B5AD"},children:E(F.videoTime)})]}),(0,at.jsx)("span",{className:"text-xs",style:{color:"#6F73D2"},children:new Date(F.timestamp).toLocaleDateString()})]}),(0,at.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,at.jsx)("button",{onClick:()=>A(F),className:"p-1.5 rounded hover:bg-gray-100 transition-colors",title:"Edit note",children:(0,at.jsx)(Gr,{className:"h-3.5 w-3.5",style:{color:"#6F73D2"}})}),(0,at.jsx)("button",{onClick:()=>D(F.id),className:"p-1.5 rounded hover:bg-red-50 transition-colors",title:"Delete note",children:(0,at.jsx)(gr,{className:"h-3.5 w-3.5",style:{color:"#EF4444"}})})]})]}),(0,at.jsx)("p",{className:"text-sm whitespace-pre-wrap",style:{color:"#0B1E3F"},children:F.content})]},F.id))})]})}),u&&(0,at.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,at.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[(0,at.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,at.jsx)("h3",{className:"text-lg font-bold",style:{color:"#0B1E3F"},children:m?"Edit Bookmark":"Add Bookmark"}),(0,at.jsx)("button",{onClick:()=>{g(!1),b(""),y(null)},className:"p-1 hover:bg-gray-100 rounded",children:(0,at.jsx)(et,{className:"h-5 w-5"})})]}),(0,at.jsxs)("p",{className:"text-sm mb-4",style:{color:"#6F73D2"},children:["At ",E(t)]}),(0,at.jsx)("textarea",{value:x,onChange:F=>b(F.target.value),placeholder:"Add a note for this bookmark...",className:"w-full p-3 border-2 rounded-lg mb-4 resize-none",style:{borderColor:"#E5E7EB",backgroundColor:"white",color:"#0B1E3F"},rows:3}),(0,at.jsxs)("div",{className:"flex space-x-3",children:[(0,at.jsx)("button",{onClick:()=>{g(!1),b(""),y(null)},className:"flex-1 px-4 py-2 border-2 rounded-lg font-medium",style:{borderColor:"#E5E7EB",color:"#0B1E3F"},children:"Cancel"}),(0,at.jsx)("button",{onClick:P,className:"flex-1 px-4 py-2 rounded-lg font-medium text-white",style:{backgroundColor:"#00B5AD"},children:"Save"})]})]})}),h&&(0,at.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,at.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[(0,at.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,at.jsx)("h3",{className:"text-lg font-bold",style:{color:"#0B1E3F"},children:p?"Edit Note":"Add Note"}),(0,at.jsx)("button",{onClick:()=>{v(!1),N(""),f(null)},className:"p-1 hover:bg-gray-100 rounded",children:(0,at.jsx)(et,{className:"h-5 w-5"})})]}),t>0&&(0,at.jsxs)("p",{className:"text-sm mb-4",style:{color:"#6F73D2"},children:["Video time: ",E(t)]}),(0,at.jsx)("textarea",{value:w,onChange:F=>N(F.target.value),placeholder:"Write your note here...",className:"w-full p-3 border-2 rounded-lg mb-4 resize-none",style:{borderColor:"#E5E7EB",backgroundColor:"white",color:"#0B1E3F"},rows:6}),(0,at.jsxs)("div",{className:"flex space-x-3",children:[(0,at.jsx)("button",{onClick:()=>{v(!1),N(""),f(null)},className:"flex-1 px-4 py-2 border-2 rounded-lg font-medium",style:{borderColor:"#E5E7EB",color:"#0B1E3F"},children:"Cancel"}),(0,at.jsx)("button",{onClick:R,disabled:!w.trim(),className:"flex-1 px-4 py-2 rounded-lg font-medium text-white disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"#00B5AD"},children:"Save"})]})]})})]})};var zs=H(he());var _e=H(se()),sT=({lessonId:e,courseId:t})=>{let{user:r}=Ge(),[a,o]=(0,zs.useState)([]),[n,s]=(0,zs.useState)(""),[i,c]=(0,zs.useState)(null),[l,d]=(0,zs.useState)(""),[u,g]=(0,zs.useState)(null),[h,v]=(0,zs.useState)(""),[m,y]=(0,zs.useState)(null);(0,zs.useEffect)(()=>{p()},[e]);let p=()=>{let L=localStorage.getItem(`lesson-qa-${e}`);if(L)try{o(JSON.parse(L))}catch(P){console.error("Error loading questions:",P),o([])}else o([])},f=L=>{localStorage.setItem(`lesson-qa-${e}`,JSON.stringify(L)),o(L)},x=()=>{if(!n.trim()||!r)return;let L={id:Date.now().toString(),content:n.trim(),author:{id:r.id,name:r.name||"Anonymous",avatarUrl:r.avatarUrl},timestamp:new Date().toISOString(),upvotes:0,downvotes:0,replies:[],isResolved:!1,userVote:null};f([L,...a]),s("")},b=L=>{if(!l.trim()||!r)return;let P={id:Date.now().toString(),content:l.trim(),author:{id:r.id,name:r.name||"Anonymous",avatarUrl:r.avatarUrl},timestamp:new Date().toISOString(),upvotes:0,downvotes:0,userVote:null,isInstructor:r.role==="TEACHER"},j=a.map(M=>M.id===L?{...M,replies:[...M.replies,P]}:M);f(j),c(null),d("")},w=(L,P,j=!1,M)=>{if(!r)return;let q=a.map(R=>{if(R.id===L)if(j&&M){let D=R.replies.map(A=>{if(A.id===M){let B=A.userVote,F=A.upvotes,T=A.downvotes,U=P;return B===P?(U=null,P==="up"?F--:T--):(B&&(B==="up"?F--:T--),P==="up"?F++:T++),{...A,upvotes:F,downvotes:T,userVote:U}}return A});return{...R,replies:D}}else{let D=R.userVote,A=R.upvotes,B=R.downvotes,F=P;return D===P?(F=null,P==="up"?A--:B--):(D&&(D==="up"?A--:B--),P==="up"?A++:B++),{...R,upvotes:A,downvotes:B,userVote:F}}return R});f(q)},N=L=>{let P=a.map(j=>j.id===L?{...j,isResolved:!j.isResolved}:j);f(P)},I=(L,P)=>{if(window.confirm("Are you sure you want to delete this?")){if(P){let j=a.map(M=>M.id===L?{...M,replies:M.replies.filter(q=>q.id!==P)}:M);f(j)}else f(a.filter(j=>j.id!==L));y(null)}},C=(L,P)=>{if(P){let M=a.find(q=>q.id===L)?.replies.find(q=>q.id===P);M&&(v(M.content),g(P))}else{let j=a.find(M=>M.id===L);j&&(v(j.content),g(L))}y(null)},S=()=>{if(!u||!h.trim())return;let L=a.map(P=>P.id===u?{...P,content:h.trim()}:P.replies.some(j=>j.id===u)?{...P,replies:P.replies.map(j=>j.id===u?{...j,content:h.trim()}:j)}:P);f(L),g(null),v("")},k=L=>{let P=new Date(L),M=new Date().getTime()-P.getTime(),q=Math.floor(M/(1e3*60*60*24)),R=Math.floor(M/(1e3*60*60)),D=Math.floor(M/(1e3*60));return q>7?P.toLocaleDateString():q>0?`${q} day${q>1?"s":""} ago`:R>0?`${R} hour${R>1?"s":""} ago`:D>0?`${D} minute${D>1?"s":""} ago`:"Just now"},E=L=>L.split(" ").map(P=>P[0]).join("").toUpperCase().slice(0,2);return(0,_e.jsxs)("div",{className:"bg-white rounded-lg border-2",style:{borderColor:"#E5E7EB"},children:[(0,_e.jsxs)("div",{className:"p-6 border-b",style:{borderColor:"#E5E7EB"},children:[(0,_e.jsx)("h3",{className:"text-xl font-bold",style:{color:"#0B1E3F"},children:"Questions & Answers"}),(0,_e.jsx)("p",{className:"text-sm mt-1",style:{color:"#6F73D2"},children:"Ask questions and get help from instructors and other students"})]}),(0,_e.jsx)("div",{className:"p-6 border-b",style:{borderColor:"#E5E7EB"},children:(0,_e.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_e.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-semibold text-white flex-shrink-0",style:{backgroundColor:"#00B5AD"},children:r?E(r.name||"U"):"?"}),(0,_e.jsxs)("div",{className:"flex-1",children:[(0,_e.jsx)("textarea",{value:n,onChange:L=>s(L.target.value),placeholder:"Ask a question about this lesson...",className:"w-full p-3 border-2 rounded-lg resize-none focus:outline-none transition-all",style:{borderColor:"#E5E7EB",backgroundColor:"white",color:"#0B1E3F",minHeight:"80px"},onFocus:L=>{L.currentTarget.style.borderColor="#00B5AD",L.currentTarget.style.boxShadow="0 0 0 4px rgba(0, 181, 173, 0.1)"},onBlur:L=>{L.currentTarget.style.borderColor="#E5E7EB",L.currentTarget.style.boxShadow="none"}}),(0,_e.jsxs)("button",{onClick:x,disabled:!n.trim(),className:"mt-3 flex items-center space-x-2 px-4 py-2 rounded-lg font-medium text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:n.trim()?"#00B5AD":"#9CA3AF",boxShadow:n.trim()?"0 4px 14px rgba(0, 181, 173, 0.3)":"none"},children:[(0,_e.jsx)(Ho,{className:"h-4 w-4"}),(0,_e.jsx)("span",{children:"Post Question"})]})]})]})}),(0,_e.jsx)("div",{className:"divide-y",style:{borderColor:"#E5E7EB"},children:a.length===0?(0,_e.jsxs)("div",{className:"p-12 text-center",children:[(0,_e.jsx)(yr,{className:"h-12 w-12 mx-auto mb-3",style:{color:"#9CA3AF"}}),(0,_e.jsx)("p",{className:"text-sm",style:{color:"#6F73D2"},children:"No questions yet. Be the first to ask!"})]}):a.map(L=>(0,_e.jsx)("div",{className:"p-6",children:(0,_e.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_e.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-semibold text-white flex-shrink-0",style:{backgroundColor:L.isResolved?"#10B981":"#00B5AD"},children:E(L.author.name)}),(0,_e.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_e.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,_e.jsxs)("div",{className:"flex-1",children:[(0,_e.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,_e.jsx)("span",{className:"font-semibold text-sm",style:{color:"#0B1E3F"},children:L.author.name}),L.isResolved&&(0,_e.jsxs)("span",{className:"flex items-center space-x-1 px-2 py-0.5 bg-green-100 rounded-full text-xs font-medium",style:{color:"#059669"},children:[(0,_e.jsx)(Xt,{className:"h-3 w-3"}),(0,_e.jsx)("span",{children:"Resolved"})]}),(0,_e.jsx)("span",{className:"text-xs",style:{color:"#6F73D2"},children:k(L.timestamp)})]}),u===L.id?(0,_e.jsxs)("div",{className:"space-y-2",children:[(0,_e.jsx)("textarea",{value:h,onChange:P=>v(P.target.value),className:"w-full p-2 border-2 rounded-lg resize-none",style:{borderColor:"#E5E7EB"},rows:3}),(0,_e.jsxs)("div",{className:"flex space-x-2",children:[(0,_e.jsx)("button",{onClick:S,className:"px-3 py-1.5 text-sm rounded-lg text-white",style:{backgroundColor:"#00B5AD"},children:"Save"}),(0,_e.jsx)("button",{onClick:()=>{g(null),v("")},className:"px-3 py-1.5 text-sm rounded-lg border-2",style:{borderColor:"#E5E7EB",color:"#0B1E3F"},children:"Cancel"})]})]}):(0,_e.jsx)("p",{className:"text-sm mb-3",style:{color:"#0B1E3F"},children:L.content})]}),r&&(r.id===L.author.id||r.role==="TEACHER")&&(0,_e.jsxs)("div",{className:"relative",children:[(0,_e.jsx)("button",{onClick:()=>y(m===L.id?null:L.id),className:"p-1.5 rounded hover:bg-gray-100 transition-colors",children:(0,_e.jsx)(Is,{className:"h-4 w-4",style:{color:"#6F73D2"}})}),m===L.id&&(0,_e.jsxs)("div",{className:"absolute right-0 mt-1 w-40 bg-white rounded-lg shadow-lg border-2 z-10",style:{borderColor:"#E5E7EB"},children:[(0,_e.jsxs)("button",{onClick:()=>C(L.id),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center space-x-2",style:{color:"#0B1E3F"},children:[(0,_e.jsx)(Gr,{className:"h-3.5 w-3.5"}),(0,_e.jsx)("span",{children:"Edit"})]}),r.role==="TEACHER"&&(0,_e.jsxs)("button",{onClick:()=>N(L.id),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center space-x-2",style:{color:"#0B1E3F"},children:[(0,_e.jsx)(Xt,{className:"h-3.5 w-3.5"}),(0,_e.jsx)("span",{children:L.isResolved?"Unresolve":"Mark Resolved"})]}),(0,_e.jsxs)("button",{onClick:()=>I(L.id),className:"w-full text-left px-4 py-2 text-sm hover:bg-red-50 flex items-center space-x-2",style:{color:"#EF4444"},children:[(0,_e.jsx)(gr,{className:"h-3.5 w-3.5"}),(0,_e.jsx)("span",{children:"Delete"})]})]})]})]}),(0,_e.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,_e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_e.jsxs)("button",{onClick:()=>w(L.id,"up"),className:`flex items-center space-x-1 px-2 py-1 rounded transition-colors ${L.userVote==="up"?"bg-blue-50":"hover:bg-gray-50"}`,children:[(0,_e.jsx)(Vo,{className:`h-4 w-4 ${L.userVote==="up"?"fill-current":""}`,style:{color:L.userVote==="up"?"#00B5AD":"#6F73D2"}}),(0,_e.jsx)("span",{className:"text-xs font-medium",style:{color:"#0B1E3F"},children:L.upvotes})]}),(0,_e.jsxs)("button",{onClick:()=>w(L.id,"down"),className:`flex items-center space-x-1 px-2 py-1 rounded transition-colors ${L.userVote==="down"?"bg-red-50":"hover:bg-gray-50"}`,children:[(0,_e.jsx)(ui,{className:`h-4 w-4 ${L.userVote==="down"?"fill-current":""}`,style:{color:L.userVote==="down"?"#EF4444":"#6F73D2"}}),(0,_e.jsx)("span",{className:"text-xs font-medium",style:{color:"#0B1E3F"},children:L.downvotes})]})]}),(0,_e.jsxs)("button",{onClick:()=>c(i===L.id?null:L.id),className:"flex items-center space-x-1 px-2 py-1 rounded hover:bg-gray-50 transition-colors",children:[(0,_e.jsx)(nc,{className:"h-4 w-4",style:{color:"#6F73D2"}}),(0,_e.jsxs)("span",{className:"text-xs font-medium",style:{color:"#0B1E3F"},children:["Reply (",L.replies.length,")"]})]})]}),i===L.id&&(0,_e.jsx)("div",{className:"ml-13 mb-4",children:(0,_e.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_e.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-semibold text-white text-xs flex-shrink-0",style:{backgroundColor:"#00B5AD"},children:r?E(r.name||"U"):"?"}),(0,_e.jsxs)("div",{className:"flex-1",children:[(0,_e.jsx)("textarea",{value:l,onChange:P=>d(P.target.value),placeholder:"Write a reply...",className:"w-full p-2 border-2 rounded-lg resize-none focus:outline-none",style:{borderColor:"#E5E7EB",minHeight:"60px"},rows:2}),(0,_e.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,_e.jsx)("button",{onClick:()=>b(L.id),disabled:!l.trim(),className:"px-3 py-1.5 text-sm rounded-lg font-medium text-white disabled:opacity-50",style:{backgroundColor:"#00B5AD"},children:"Post Reply"}),(0,_e.jsx)("button",{onClick:()=>{c(null),d("")},className:"px-3 py-1.5 text-sm rounded-lg font-medium border-2",style:{borderColor:"#E5E7EB",color:"#0B1E3F"},children:"Cancel"})]})]})]})}),L.replies.length>0&&(0,_e.jsx)("div",{className:"ml-13 space-y-4 mt-4",children:L.replies.map(P=>(0,_e.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_e.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-semibold text-white text-xs flex-shrink-0 ${P.isInstructor?"ring-2 ring-yellow-400":""}`,style:{backgroundColor:P.isInstructor?"#F59E0B":"#6F73D2"},children:E(P.author.name)}),(0,_e.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_e.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,_e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_e.jsx)("span",{className:"font-semibold text-xs",style:{color:"#0B1E3F"},children:P.author.name}),P.isInstructor&&(0,_e.jsx)("span",{className:"px-2 py-0.5 bg-yellow-100 rounded-full text-xs font-medium",style:{color:"#D97706"},children:"Instructor"}),(0,_e.jsx)("span",{className:"text-xs",style:{color:"#6F73D2"},children:k(P.timestamp)})]}),r&&(r.id===P.author.id||r.role==="TEACHER")&&(0,_e.jsxs)("div",{className:"relative",children:[(0,_e.jsx)("button",{onClick:()=>y(m===P.id?null:P.id),className:"p-1 rounded hover:bg-gray-100",children:(0,_e.jsx)(Is,{className:"h-3 w-3",style:{color:"#6F73D2"}})}),m===P.id&&(0,_e.jsxs)("div",{className:"absolute right-0 mt-1 w-32 bg-white rounded-lg shadow-lg border-2 z-10",style:{borderColor:"#E5E7EB"},children:[(0,_e.jsxs)("button",{onClick:()=>C(L.id,P.id),className:"w-full text-left px-3 py-2 text-xs hover:bg-gray-50 flex items-center space-x-2",style:{color:"#0B1E3F"},children:[(0,_e.jsx)(Gr,{className:"h-3 w-3"}),(0,_e.jsx)("span",{children:"Edit"})]}),(0,_e.jsxs)("button",{onClick:()=>I(L.id,P.id),className:"w-full text-left px-3 py-2 text-xs hover:bg-red-50 flex items-center space-x-2",style:{color:"#EF4444"},children:[(0,_e.jsx)(gr,{className:"h-3 w-3"}),(0,_e.jsx)("span",{children:"Delete"})]})]})]})]}),u===P.id?(0,_e.jsxs)("div",{className:"space-y-2",children:[(0,_e.jsx)("textarea",{value:h,onChange:j=>v(j.target.value),className:"w-full p-2 border-2 rounded-lg resize-none text-sm",style:{borderColor:"#E5E7EB"},rows:2}),(0,_e.jsxs)("div",{className:"flex space-x-2",children:[(0,_e.jsx)("button",{onClick:S,className:"px-2 py-1 text-xs rounded-lg text-white",style:{backgroundColor:"#00B5AD"},children:"Save"}),(0,_e.jsx)("button",{onClick:()=>{g(null),v("")},className:"px-2 py-1 text-xs rounded-lg border-2",style:{borderColor:"#E5E7EB",color:"#0B1E3F"},children:"Cancel"})]})]}):(0,_e.jsx)("p",{className:"text-xs mb-2",style:{color:"#0B1E3F"},children:P.content}),(0,_e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_e.jsxs)("button",{onClick:()=>w(L.id,"up",!0,P.id),className:`flex items-center space-x-1 px-1.5 py-0.5 rounded text-xs ${P.userVote==="up"?"bg-blue-50":"hover:bg-gray-50"}`,children:[(0,_e.jsx)(Vo,{className:`h-3 w-3 ${P.userVote==="up"?"fill-current":""}`,style:{color:P.userVote==="up"?"#00B5AD":"#6F73D2"}}),(0,_e.jsx)("span",{children:P.upvotes})]}),(0,_e.jsxs)("button",{onClick:()=>w(L.id,"down",!0,P.id),className:`flex items-center space-x-1 px-1.5 py-0.5 rounded text-xs ${P.userVote==="down"?"bg-red-50":"hover:bg-gray-50"}`,children:[(0,_e.jsx)(ui,{className:`h-3 w-3 ${P.userVote==="down"?"fill-current":""}`,style:{color:P.userVote==="down"?"#EF4444":"#6F73D2"}}),(0,_e.jsx)("span",{children:P.downvotes})]})]})]})]},P.id))})]})]})},L.id))})]})};var ie=H(se()),iT=()=>{let{id:e}=ya(),[t,r]=(0,mo.useState)(null),[a,o]=(0,mo.useState)([]),[n,s]=(0,mo.useState)([]),[i,c]=(0,mo.useState)(null),[l,d]=(0,mo.useState)(!0),[u,g]=(0,mo.useState)(!0),[h,v]=(0,mo.useState)(!1),[m,y]=(0,mo.useState)([]),[p,f]=(0,mo.useState)(0),[x,b]=(0,mo.useState)(0),[w,N]=(0,mo.useState)([]),[I,C]=(0,mo.useState)([]);(0,mo.useEffect)(()=>{if(!e)return;async function R(){d(!0);try{let D=await vt.getCourseDetails(Number(e));r(D);let A=D?.curriculum||[];N(A);let B=[];A.forEach(F=>{F.lessons&&Array.isArray(F.lessons)&&B.push(...F.lessons)}),o(B),s(D.materials||[]),B.length>0&&(c(B[0]),A.length>0&&C([0]))}catch(D){console.error("Error loading course:",D),r(null),o([]),s([]),c(null),N([])}finally{d(!1)}}R()},[e]);let S=R=>{c(R),f(0),v(!1)},k=R=>{C(D=>D.includes(R)?D.filter(A=>A!==R):[...D,R])},E=()=>{i&&!m.includes(i.id)&&y([...m,i.id])},L=()=>a.length===0?0:Math.round(m.length/a.length*100),P=()=>{if(!i)return null;let R=a.findIndex(D=>D.id===i.id);return R<a.length-1?a[R+1]:null},j=()=>{if(!i)return null;let R=a.findIndex(D=>D.id===i.id);return R>0?a[R-1]:null};if(l)return(0,ie.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,ie.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,ie.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})});if(!t)return(0,ie.jsxs)("div",{className:"text-center py-12",style:{backgroundColor:"#F4F7FA"},children:[(0,ie.jsx)("h3",{className:"text-lg font-bold mb-2",style:{color:"#0B1E3F"},children:"Course not found"}),(0,ie.jsx)("p",{style:{color:"#6F73D2"},children:"The course you're looking for doesn't exist."})]});let M=R=>{if(!R.lessons||R.lessons.length===0)return 0;let D=R.lessons.filter(A=>m.includes(A.id)).length;return Math.round(D/R.lessons.length*100)},q=()=>a.length===0?0:Math.round(m.length/a.length*100);return(0,ie.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:"#F4F7FA"},children:[(0,ie.jsx)("div",{className:"lg:hidden sticky top-0 z-40 backdrop-blur-xl border-b",style:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"rgba(11, 30, 63, 0.1)"},children:(0,ie.jsx)("div",{className:"px-4 py-3",children:(0,ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ie.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,ie.jsx)(fa,{to:`/courses/${e}`,showHome:!0}),(0,ie.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ie.jsx)("h1",{className:"text-sm font-bold truncate",style:{color:"#0B1E3F"},children:t.title}),(0,ie.jsxs)("div",{className:"flex items-center space-x-2 text-xs",style:{color:"#6F73D2"},children:[(0,ie.jsxs)("span",{children:["Lesson ",a.findIndex(R=>R.id===i?.id)+1,"/",a.length]}),(0,ie.jsx)("span",{children:"\u2022"}),(0,ie.jsxs)("span",{children:[L(),"%"]})]})]})]}),(0,ie.jsx)("div",{className:"flex items-center space-x-2",children:(0,ie.jsx)("button",{onClick:()=>v(!0),className:"p-2 rounded-xl transition-all duration-200 active:scale-95",style:{backgroundColor:"rgba(0, 181, 173, 0.1)"},children:(0,ie.jsx)(Co,{className:"h-5 w-5",style:{color:"#00B5AD"}})})})]})})}),(0,ie.jsx)("div",{className:"hidden lg:block bg-white border-b",style:{borderColor:"#E5E7EB"},children:(0,ie.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ie.jsxs)("div",{className:"flex items-center justify-between py-4",children:[(0,ie.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ie.jsx)(fa,{to:`/courses/${e}`,showHome:!0}),(0,ie.jsxs)("div",{children:[(0,ie.jsx)("h1",{className:"text-lg font-semibold",style:{color:"#0B1E3F"},children:t.title}),(0,ie.jsxs)("div",{className:"flex items-center space-x-4 text-sm",style:{color:"#6F73D2"},children:[(0,ie.jsxs)("span",{children:["Lesson ",a.findIndex(R=>R.id===i?.id)+1," of ",a.length]}),(0,ie.jsx)("span",{children:"\u2022"}),(0,ie.jsxs)("span",{children:[L(),"% Complete"]})]})]})]}),(0,ie.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ie.jsx)("button",{className:"p-2 rounded-xl transition-all duration-200",style:{color:"#6F73D2"},children:(0,ie.jsx)(zo,{className:"h-5 w-5"})}),(0,ie.jsx)("button",{className:"p-2 rounded-xl transition-all duration-200",style:{color:"#6F73D2"},children:(0,ie.jsx)(So,{className:"h-5 w-5"})}),(0,ie.jsx)("button",{onClick:()=>g(!u),className:"p-2 rounded-xl transition-all duration-200",style:{color:"#6F73D2"},children:(0,ie.jsx)(Zn,{className:"h-5 w-5"})})]})]})})}),(0,ie.jsxs)("div",{className:"flex h-[calc(100vh-80px)] lg:h-[calc(100vh-80px)]",children:[(0,ie.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,ie.jsx)("div",{className:"bg-black relative w-full",children:(0,ie.jsx)("div",{className:"aspect-video lg:aspect-video bg-gray-900 flex items-center justify-center w-full",children:i?.videoUrl?(0,ie.jsx)(oT,{videoUrl:i.videoUrl,poster:t.imageUrl,onTimeUpdate:(R,D)=>{f(R),b(D)},onComplete:E,autoResume:!0,lessonId:i.id,allowDownload:!1}):(0,ie.jsxs)("div",{className:"text-center text-white",children:[(0,ie.jsx)(Bt,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),(0,ie.jsx)("p",{className:"text-lg",children:"Video content coming soon"})]})})}),(0,ie.jsx)("div",{className:"flex-1 overflow-y-auto",style:{backgroundColor:"#F4F7FA"},children:(0,ie.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4 lg:py-8",children:i&&(0,ie.jsxs)("div",{className:"space-y-6",children:[(0,ie.jsx)(nT,{lessonId:i.id,currentTime:p,duration:x,onJumpToTime:R=>{let D=document.querySelector("video");D&&(D.currentTime=R)}}),(0,ie.jsxs)("div",{className:"p-6 rounded-2xl border-2",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:[(0,ie.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ie.jsx)("h2",{className:"text-xl lg:text-2xl font-bold",style:{color:"#0B1E3F"},children:i.title}),m.includes(i.id)&&(0,ie.jsxs)("div",{className:"flex items-center space-x-1 px-3 py-1.5 rounded-full",style:{backgroundColor:"rgba(0, 181, 173, 0.1)"},children:[(0,ie.jsx)(fr,{className:"h-4 w-4",style:{color:"#00B5AD"}}),(0,ie.jsx)("span",{className:"text-xs font-semibold",style:{color:"#00B5AD"},children:"Completed"})]})]}),(0,ie.jsx)("div",{className:"prose prose-lg max-w-none",children:(0,ie.jsx)("p",{className:"leading-relaxed",style:{color:"#0B1E3F"},children:i.content})})]}),n.filter(R=>R.courseId===e).length>0&&(0,ie.jsxs)("div",{className:"p-6 rounded-2xl border-2",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:[(0,ie.jsx)("h3",{className:"text-lg font-bold mb-4",style:{color:"#0B1E3F"},children:"Lesson Materials"}),(0,ie.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.filter(R=>R.courseId===e).map(R=>(0,ie.jsxs)("div",{className:"flex items-center space-x-3 p-4 rounded-xl border-2 transition-all duration-200 active:scale-95",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:[(0,ie.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"rgba(0, 181, 173, 0.1)"},children:(0,ie.jsx)(jt,{className:"h-5 w-5",style:{color:"#00B5AD"}})}),(0,ie.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ie.jsx)("h4",{className:"font-semibold truncate",style:{color:"#0B1E3F"},children:R.title}),(0,ie.jsx)("p",{className:"text-sm truncate",style:{color:"#6F73D2"},children:R.type})]}),(0,ie.jsx)("button",{className:"p-2 rounded-xl transition-all duration-200 active:scale-95",style:{backgroundColor:"rgba(0, 181, 173, 0.1)"},children:(0,ie.jsx)(Wr,{className:"h-5 w-5",style:{color:"#00B5AD"}})})]},R.id))})]}),(0,ie.jsx)(sT,{lessonId:i.id,courseId:e}),(0,ie.jsxs)("div",{className:"flex flex-col lg:flex-row items-stretch lg:items-center justify-between gap-3 pt-6 border-t",style:{borderColor:"#E5E7EB"},children:[(0,ie.jsxs)("button",{onClick:()=>{let R=j();R&&S(R)},disabled:!j(),className:"flex items-center justify-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95 border-2",style:{borderColor:"#E5E7EB",color:"#0B1E3F",backgroundColor:"white"},children:[(0,ie.jsx)(Ka,{className:"h-5 w-5"}),(0,ie.jsx)("span",{children:"Previous"})]}),(0,ie.jsx)("button",{onClick:E,className:"px-6 py-3 rounded-xl font-semibold text-white transition-all duration-300 active:scale-95",style:{backgroundColor:m.includes(i.id)?"#6F73D2":"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:m.includes(i.id)?"Completed \u2713":"Mark as Complete"}),(0,ie.jsxs)("button",{onClick:()=>{let R=P();R&&S(R)},disabled:!P(),className:"flex items-center justify-center space-x-2 px-6 py-3 rounded-xl font-semibold text-white transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:[(0,ie.jsx)("span",{children:"Next"}),(0,ie.jsx)(cr,{className:"h-5 w-5"})]})]})]})})})]}),u&&(0,ie.jsx)("div",{className:"hidden lg:block w-96 bg-white border-l overflow-y-auto",style:{borderColor:"#E5E7EB"},children:(0,ie.jsxs)("div",{className:"p-4",children:[(0,ie.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ie.jsx)("h3",{className:"text-lg font-bold",style:{color:"#0B1E3F"},children:"Course Content"}),(0,ie.jsx)("button",{onClick:()=>g(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,ie.jsx)(et,{className:"h-5 w-5",style:{color:"#6F73D2"}})})]}),(0,ie.jsxs)("div",{className:"mb-6 p-4 rounded-xl border-2",style:{backgroundColor:"rgba(0, 181, 173, 0.05)",borderColor:"#E5E7EB"},children:[(0,ie.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ie.jsx)("span",{className:"text-sm font-semibold",style:{color:"#0B1E3F"},children:"Course Progress"}),(0,ie.jsxs)("span",{className:"text-sm font-bold",style:{color:"#00B5AD"},children:[q(),"%"]})]}),(0,ie.jsx)("div",{className:"w-full rounded-full h-2 mb-2",style:{backgroundColor:"#E5E7EB"},children:(0,ie.jsx)("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${q()}%`,backgroundColor:"#00B5AD"}})}),(0,ie.jsx)("div",{className:"flex items-center justify-between text-xs",style:{color:"#6F73D2"},children:(0,ie.jsxs)("span",{children:[m.length," of ",a.length," lessons completed"]})})]}),(0,ie.jsx)("div",{className:"space-y-1",children:w.length>0?w.map((R,D)=>{let A=R.lessons||[],B=M(R),F=I.includes(D);return(0,ie.jsxs)("div",{className:"border-b",style:{borderColor:"#E5E7EB"},children:[(0,ie.jsx)("button",{onClick:()=>k(D),className:"w-full text-left p-3 hover:bg-gray-50 transition-colors",children:(0,ie.jsx)("div",{className:"flex items-center justify-between",children:(0,ie.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,ie.jsx)(qa,{className:`h-4 w-4 transition-transform ${F?"rotate-180":""}`,style:{color:"#6F73D2"}}),(0,ie.jsxs)("div",{className:"flex-1",children:[(0,ie.jsx)("h4",{className:"font-semibold text-sm",style:{color:"#0B1E3F"},children:R.title||R.name||`Module ${D+1}`}),(0,ie.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,ie.jsxs)("span",{className:"text-xs",style:{color:"#6F73D2"},children:[A.length," lessons"]}),B>0&&(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)("span",{className:"text-xs",style:{color:"#6F73D2"},children:"\u2022"}),(0,ie.jsxs)("span",{className:"text-xs font-medium",style:{color:"#00B5AD"},children:[B,"% complete"]})]})]})]})]})})}),F&&(0,ie.jsx)("div",{className:"pl-8 pr-2 pb-2 space-y-1",children:A.map((T,U)=>{let O=i?.id===T.id,z=m.includes(T.id);return(0,ie.jsx)("button",{onClick:()=>S(T),className:`w-full text-left p-2.5 rounded-lg transition-all duration-200 ${O?"bg-blue-50":"hover:bg-gray-50"}`,style:{borderLeft:O?"3px solid #00B5AD":"3px solid transparent"},children:(0,ie.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ie.jsx)("div",{className:"flex-shrink-0",children:z?(0,ie.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"#00B5AD"},children:(0,ie.jsx)(fr,{className:"h-3 w-3 text-white"})}):(0,ie.jsx)("div",{className:"w-6 h-6 border rounded-full flex items-center justify-center",style:{borderColor:O?"#00B5AD":"#E5E7EB",color:O?"#00B5AD":"#6F73D2"},children:(0,ie.jsx)("span",{className:"text-xs font-semibold",children:U+1})})}),(0,ie.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ie.jsx)("h5",{className:`text-sm font-medium truncate ${O?"text-[#00B5AD]":""}`,style:{color:O?"#00B5AD":"#0B1E3F"},children:T.title}),T.videoUrl&&(0,ie.jsxs)("div",{className:"flex items-center space-x-1 mt-0.5",children:[(0,ie.jsx)(Bt,{className:"h-3 w-3",style:{color:"#6F73D2"}}),(0,ie.jsx)("span",{className:"text-xs",style:{color:"#6F73D2"},children:"Video"})]})]})]})},T.id)})})]},D)}):(0,ie.jsx)("div",{className:"space-y-1",children:a.map((R,D)=>{let A=i?.id===R.id,B=m.includes(R.id);return(0,ie.jsx)("button",{onClick:()=>S(R),className:`w-full text-left p-3 rounded-lg transition-all duration-200 ${A?"bg-blue-50":"hover:bg-gray-50"}`,style:{borderLeft:A?"3px solid #00B5AD":"3px solid transparent"},children:(0,ie.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ie.jsx)("div",{className:"flex-shrink-0",children:B?(0,ie.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:"#00B5AD"},children:(0,ie.jsx)(fr,{className:"h-4 w-4 text-white"})}):(0,ie.jsx)("div",{className:"w-8 h-8 border-2 rounded-full flex items-center justify-center",style:{borderColor:A?"#00B5AD":"#E5E7EB",color:A?"#00B5AD":"#6F73D2"},children:(0,ie.jsx)("span",{className:"text-xs font-semibold",children:D+1})})}),(0,ie.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ie.jsx)("h4",{className:`font-semibold truncate ${A?"text-[#00B5AD]":""}`,style:{color:A?"#00B5AD":"#0B1E3F"},children:R.title}),(0,ie.jsxs)("p",{className:"text-xs truncate mt-0.5",style:{color:"#6F73D2"},children:[R.content.substring(0,40),"..."]})]}),(0,ie.jsx)(Bt,{className:"h-4 w-4 flex-shrink-0",style:{color:"#6F73D2"}})]})},R.id)})})})]})}),!u&&(0,ie.jsx)("button",{onClick:()=>g(!0),className:"hidden lg:block fixed right-4 top-1/2 -translate-y-1/2 z-30 p-3 bg-white rounded-l-lg shadow-lg border border-r-0",style:{borderColor:"#E5E7EB"},children:(0,ie.jsx)(Co,{className:"h-5 w-5",style:{color:"#00B5AD"}})}),(0,ie.jsx)(kn,{isOpen:h,onClose:()=>v(!1),title:"Course Content",maxHeight:"85vh",children:(0,ie.jsxs)("div",{className:"p-4",children:[(0,ie.jsxs)("div",{className:"mb-6 p-4 rounded-xl",style:{backgroundColor:"rgba(0, 181, 173, 0.1)"},children:[(0,ie.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ie.jsx)("span",{className:"text-sm font-semibold",style:{color:"#0B1E3F"},children:"Progress"}),(0,ie.jsxs)("span",{className:"text-sm font-bold",style:{color:"#00B5AD"},children:[L(),"%"]})]}),(0,ie.jsx)("div",{className:"w-full rounded-full h-2",style:{backgroundColor:"#E5E7EB"},children:(0,ie.jsx)("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${L()}%`,backgroundColor:"#00B5AD"}})}),(0,ie.jsxs)("div",{className:"flex items-center justify-between mt-2 text-xs",style:{color:"#6F73D2"},children:[(0,ie.jsxs)("span",{children:[m.length," of ",a.length," lessons"]}),(0,ie.jsxs)("span",{children:[w.length>0?Math.round(m.length/a.length*w.length):0," modules"]})]})]}),(0,ie.jsx)("div",{className:"space-y-3",children:a.map((R,D)=>(0,ie.jsx)("button",{onClick:()=>{S(R),v(!1)},className:`w-full text-left p-4 rounded-xl transition-all duration-200 active:scale-95 ${i?.id===R.id?"scale-105":""}`,style:{backgroundColor:i?.id===R.id?"rgba(0, 181, 173, 0.1)":"white",border:i?.id===R.id?"2px solid #00B5AD":"2px solid #E5E7EB"},children:(0,ie.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ie.jsx)("div",{className:"flex-shrink-0",children:m.includes(R.id)?(0,ie.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"#00B5AD"},children:(0,ie.jsx)(fr,{className:"h-5 w-5 text-white"})}):(0,ie.jsx)("div",{className:"w-10 h-10 border-2 rounded-xl flex items-center justify-center",style:{borderColor:"#E5E7EB",color:"#6F73D2"},children:(0,ie.jsx)("span",{className:"text-sm font-bold",children:D+1})})}),(0,ie.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ie.jsx)("h4",{className:"font-bold truncate mb-1",style:{color:"#0B1E3F"},children:R.title}),(0,ie.jsxs)("p",{className:"text-sm truncate",style:{color:"#6F73D2"},children:[R.content.substring(0,60),"..."]})]}),(0,ie.jsx)(Bt,{className:"h-5 w-5 flex-shrink-0",style:{color:"#6F73D2"}})]})},R.id))})]})})]})]})};var Ln=H(he());Rt();var We=H(se()),NK=()=>{let{courseId:e}=ya(),t=ht(),{user:r}=Ge(),[a,o]=(0,Ln.useState)(null),[n,s]=(0,Ln.useState)([]),[i,c]=(0,Ln.useState)([]),[l,d]=(0,Ln.useState)(!0),[u,g]=(0,Ln.useState)(!1),[h,v]=(0,Ln.useState)({title:"",content:"",isScheduled:!1,scheduledDate:"",scheduledTime:""}),[m,y]=(0,Ln.useState)(!1),[p,f]=(0,Ln.useState)("");(0,Ln.useEffect)(()=>{e&&(N(),x())},[e]),(0,Ln.useEffect)(()=>{let k=setInterval(()=>{w()},6e4);return()=>clearInterval(k)},[i,e]);let x=()=>{if(e)try{let k=localStorage.getItem(`scheduled-announcements-${e}`);if(k){let E=JSON.parse(k);c(E)}}catch(k){console.error("Error loading scheduled announcements:",k)}},b=k=>{if(e)try{localStorage.setItem(`scheduled-announcements-${e}`,JSON.stringify(k)),c(k)}catch(E){console.error("Error saving scheduled announcements:",E)}},w=async()=>{if(!e)return;let k=new Date,E=i.filter(L=>new Date(L.scheduledAt)<=k);if(E.length>0)for(let L of E)try{await b0(Number(e),L.title,L.content);let P=i.filter(j=>j.id!==L.id);b(P)}catch(P){console.error("Error sending scheduled announcement:",P)}},N=async()=>{try{d(!0);let[k,E]=await Promise.all([wm(Number(e)),xw(Number(e))]);o(k),s(E)}catch(k){console.error("Failed to load course or announcements:",k),f("Failed to load course information")}finally{d(!1)}},I=async k=>{if(k.preventDefault(),!h.title.trim()||!h.content.trim()){f("Please fill in all fields");return}if(h.isScheduled){if(!h.scheduledDate||!h.scheduledTime){f("Please select both date and time for scheduled announcement");return}if(new Date(`${h.scheduledDate}T${h.scheduledTime}`)<=new Date){f("Scheduled date and time must be in the future");return}}try{if(y(!0),f(""),h.isScheduled){let E=new Date(`${h.scheduledDate}T${h.scheduledTime}`),L={id:Date.now().toString(),title:h.title,content:h.content,courseId:e,authorId:r?.id||"",author:{id:r?.id||"",name:r?.name||"Teacher",avatar:r?.avatar},isPinned:!1,isLocked:!1,isSticky:!1,upvotes:0,downvotes:0,viewsCount:0,repliesCount:0,tags:[],attachments:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),scheduledAt:E.toISOString()},P=[...i,L];b(P)}else{let E=await b0(Number(e),h.title,h.content);s(L=>[E,...L])}v({title:"",content:"",isScheduled:!1,scheduledDate:"",scheduledTime:""}),g(!1)}catch(E){console.error("Failed to create announcement:",E),f("Failed to create announcement. Please try again.")}finally{y(!1)}},C=k=>{if(!confirm("Are you sure you want to cancel this scheduled announcement?"))return;let E=i.filter(L=>L.id!==k);b(E)},S=async k=>{if(e&&confirm("Are you sure you want to delete this announcement?"))try{await ww(Number(e),k),s(E=>E.filter(L=>L.id!==k))}catch(E){console.error("Failed to delete announcement:",E),f("Failed to delete announcement")}};return l?(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,We.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,We.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):a?(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,We.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,We.jsxs)("div",{className:"mb-8",children:[(0,We.jsxs)("button",{onClick:()=>t(`/courses/${e}`),className:"inline-flex items-center text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 mb-4",children:[(0,We.jsx)(pi,{className:"w-4 h-4 mr-1"}),"Back to Course"]}),(0,We.jsxs)("div",{className:"flex items-center justify-between",children:[(0,We.jsxs)("div",{children:[(0,We.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Course Announcements"}),(0,We.jsxs)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:['Stay updated with the latest news and updates for "',a.title,'"']})]}),r&&a.teacherId===r.id&&(0,We.jsxs)("button",{onClick:()=>g(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,We.jsx)(As,{className:"w-4 h-4 mr-2"}),"New Announcement"]})]})]}),u&&(0,We.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[(0,We.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Create New Announcement"}),(0,We.jsxs)("form",{onSubmit:I,children:[p&&(0,We.jsx)("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:(0,We.jsx)("p",{className:"text-sm text-red-700 dark:text-red-400",children:p})}),(0,We.jsxs)("div",{className:"mb-4",children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title *"}),(0,We.jsx)("input",{type:"text",value:h.title,onChange:k=>v(E=>({...E,title:k.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter announcement title...",required:!0})]}),(0,We.jsxs)("div",{className:"mb-6",children:[(0,We.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content *"}),(0,We.jsx)("textarea",{value:h.content,onChange:k=>v(E=>({...E,content:k.target.value})),rows:6,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter announcement content...",required:!0})]}),(0,We.jsxs)("div",{className:"mb-6",children:[(0,We.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,We.jsx)("input",{type:"checkbox",checked:h.isScheduled,onChange:k=>v(E=>({...E,isScheduled:k.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,We.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Schedule for later"})]}),h.isScheduled&&(0,We.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,We.jsxs)("div",{children:[(0,We.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,We.jsx)(Go,{className:"w-4 h-4 inline mr-1"}),"Date *"]}),(0,We.jsx)("input",{type:"date",value:h.scheduledDate,onChange:k=>v(E=>({...E,scheduledDate:k.target.value})),min:new Date().toISOString().split("T")[0],className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",required:h.isScheduled})]}),(0,We.jsxs)("div",{children:[(0,We.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,We.jsx)(Ya,{className:"w-4 h-4 inline mr-1"}),"Time *"]}),(0,We.jsx)("input",{type:"time",value:h.scheduledTime,onChange:k=>v(E=>({...E,scheduledTime:k.target.value})),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",required:h.isScheduled})]})]})]}),(0,We.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,We.jsx)("button",{type:"button",onClick:()=>{g(!1),v({title:"",content:"",isScheduled:!1,scheduledDate:"",scheduledTime:""}),f("")},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),(0,We.jsx)("button",{type:"submit",disabled:m,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,We.jsxs)(We.Fragment,{children:[(0,We.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):"Create Announcement"})]})]})]}),i.length>0&&(0,We.jsxs)("div",{className:"mb-8",children:[(0,We.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,We.jsx)(Ya,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Scheduled Announcements"]}),(0,We.jsx)("div",{className:"space-y-4",children:i.map(k=>{let E=new Date(k.scheduledAt);return(0,We.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border-2 border-yellow-200 dark:border-yellow-800 p-6",children:(0,We.jsxs)("div",{className:"flex items-start justify-between",children:[(0,We.jsxs)("div",{className:"flex-1",children:[(0,We.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,We.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:k.title}),(0,We.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-yellow-200 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-200 rounded-full",children:"Scheduled"})]}),(0,We.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-3 whitespace-pre-wrap",children:k.content}),(0,We.jsxs)("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[(0,We.jsx)(Ya,{className:"w-4 h-4 mr-1"}),"Scheduled for: ",E.toLocaleString()]})]}),r&&a.teacherId===r.id&&(0,We.jsx)("button",{onClick:()=>C(k.id),className:"ml-4 px-3 py-1 text-sm text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"Cancel"})]})},k.id)})})]}),(0,We.jsxs)("div",{className:"space-y-6",children:[(0,We.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Published Announcements"}),n.length===0?(0,We.jsxs)("div",{className:"text-center py-12",children:[(0,We.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No announcements"}),(0,We.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"There are no announcements for this course yet."})]}):n.map(k=>(0,We.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,We.jsx)("div",{className:"p-6",children:(0,We.jsxs)("div",{className:"flex items-start justify-between",children:[(0,We.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,We.jsx)("div",{className:"flex items-center space-x-3 mb-3",children:(0,We.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:k.title})}),(0,We.jsx)("div",{className:"prose prose-sm max-w-none text-gray-600 dark:text-gray-400 mb-4",children:(0,We.jsx)("p",{className:"whitespace-pre-wrap",children:k.content})}),(0,We.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-500 dark:text-gray-400",children:[(0,We.jsx)("div",{className:"flex items-center",children:k.author.name}),(0,We.jsxs)("div",{className:"flex items-center",children:[new Date(k.createdAt).toLocaleDateString()," at"," ",new Date(k.createdAt).toLocaleTimeString()]})]})]}),r&&k.authorId===r.id&&(0,We.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,We.jsx)("button",{className:"inline-flex items-center text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-200",children:"Edit"}),(0,We.jsx)("button",{className:"inline-flex items-center text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-200",onClick:()=>S(k.id),children:"Delete"})]})]})})},k.id))]})]})}):(0,We.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,We.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,We.jsxs)("div",{className:"text-center",children:[(0,We.jsx)(lo,{className:"mx-auto h-12 w-12 text-red-500"}),(0,We.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Course not found"}),(0,We.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"The course you're looking for doesn't exist or you don't have access to it."}),(0,We.jsx)("div",{className:"mt-6",children:(0,We.jsxs)("button",{onClick:()=>t("/courses"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[(0,We.jsx)(pi,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})]})})})},lT=NK;var tn=H(he());Rt();var Ke=H(se()),CK=()=>{let{quizId:e}=ya(),t=ht(),[r,a]=(0,tn.useState)(null),[o,n]=(0,tn.useState)(0),[s,i]=(0,tn.useState)({}),[c,l]=(0,tn.useState)(0),[d,u]=(0,tn.useState)(!0),[g,h]=(0,tn.useState)(!1),[v,m]=(0,tn.useState)(!1),[y,p]=(0,tn.useState)(null),[f,x]=(0,tn.useState)(new Set);(0,tn.useEffect)(()=>{e&&b()},[e]),(0,tn.useEffect)(()=>{if(r&&r.timeLimit&&c>0){let j=setInterval(()=>{l(M=>M<=1?(I(),0):M-1)},1e3);return()=>clearInterval(j)}},[r,c]);let b=async()=>{try{u(!0);let j=await Dw(e);a(j),j.timeLimit&&l(j.timeLimit*60)}catch(j){console.error("Failed to load quiz:",j)}finally{u(!1)}},w=(j,M)=>{i(q=>({...q,[j]:M}))},N=j=>{x(M=>{let q=new Set(M);return q.has(j)?q.delete(j):q.add(j),q})},I=async()=>{if(!g)try{h(!0);let j=Object.entries(s).map(([q,R])=>({questionId:parseInt(q),selectedOptionIds:Array.isArray(R)?R:[R]})),M=await Fw(e,j);p(M),m(!0)}catch(j){console.error("Failed to submit quiz:",j)}finally{h(!1)}},C=j=>{let M=Math.floor(j/60),q=j%60;return`${M}:${q.toString().padStart(2,"0")}`},S=j=>{switch(j){case"MULTIPLE_CHOICE":return"Multiple Choice";case"TRUE_FALSE":return"True/False";case"SHORT_ANSWER":return"Short Answer";case"ESSAY":return"Essay";default:return j}},k=j=>{let M=s[j.id];switch(j.type){case"MULTIPLE_CHOICE":return(0,Ke.jsx)("div",{className:"space-y-3",children:j.answers.map(q=>(0,Ke.jsxs)("label",{className:"flex items-center p-3 border border-gray-200 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,Ke.jsx)("input",{type:"radio",name:j.id,value:q.id,checked:M===q.id,onChange:R=>w(j.id,R.target.value),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),(0,Ke.jsx)("span",{className:"ml-3 text-sm text-gray-900 dark:text-white",children:q.text})]},q.id))});case"TRUE_FALSE":return(0,Ke.jsx)("div",{className:"space-y-3",children:[{id:"true",text:"True"},{id:"false",text:"False"}].map(q=>(0,Ke.jsxs)("label",{className:"flex items-center p-3 border border-gray-200 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,Ke.jsx)("input",{type:"radio",name:j.id,value:q.id,checked:M===q.id,onChange:R=>w(j.id,R.target.value),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),(0,Ke.jsx)("span",{className:"ml-3 text-sm text-gray-900 dark:text-white",children:q.text})]},q.id))});case"SHORT_ANSWER":return(0,Ke.jsx)("textarea",{value:M||"",onChange:q=>w(j.id,q.target.value),rows:3,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter your answer..."});case"ESSAY":return(0,Ke.jsx)("textarea",{value:M||"",onChange:q=>w(j.id,q.target.value),rows:8,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Write your essay answer..."});default:return(0,Ke.jsx)("p",{children:"Unsupported question type"})}};if(d)return(0,Ke.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,Ke.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Ke.jsxs)("div",{className:"animate-pulse",children:[(0,Ke.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-6"}),(0,Ke.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6",children:[(0,Ke.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-4"}),(0,Ke.jsx)("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded mb-4"})]})]})})});if(!r)return(0,Ke.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,Ke.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Ke.jsxs)("div",{className:"text-center",children:[(0,Ke.jsx)(lo,{className:"mx-auto h-12 w-12 text-red-500"}),(0,Ke.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Quiz not found"}),(0,Ke.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"The quiz you're looking for doesn't exist or you don't have access to it."})]})})});if(v&&y)return(0,Ke.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,Ke.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Ke.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-8",children:(0,Ke.jsxs)("div",{className:"text-center",children:[(0,Ke.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900",children:(0,Ke.jsx)(Qa,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),(0,Ke.jsx)("h2",{className:"mt-4 text-2xl font-bold text-gray-900 dark:text-white",children:"Quiz Completed!"}),(0,Ke.jsxs)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:["Your score: ",y.score," out of ",r.questions.reduce((j,M)=>j+M.points,0)," points"]}),(0,Ke.jsx)("div",{className:"mt-6",children:(0,Ke.jsx)("button",{onClick:()=>t("/courses"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Back to Courses"})})]})})})});let E=r.questions[o],L=r.questions.length,P=Object.keys(s).length;return(0,Ke.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,Ke.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Ke.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:(0,Ke.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ke.jsxs)("div",{children:[(0,Ke.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.title}),(0,Ke.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:r.description})]}),(0,Ke.jsxs)("div",{className:"flex items-center space-x-4",children:[r.timeLimit&&(0,Ke.jsxs)("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[(0,Ke.jsx)(Ya,{className:"w-4 h-4 mr-1"}),(0,Ke.jsx)("span",{className:c<300?"text-red-600 dark:text-red-400 font-medium":"",children:C(c)})]}),(0,Ke.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Question ",o+1," of ",L]})]})]})}),(0,Ke.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,Ke.jsx)("div",{className:"lg:col-span-3",children:(0,Ke.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Ke.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ke.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ke.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:S(E.type)}),(0,Ke.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[E.points," points"]})]}),(0,Ke.jsx)("button",{onClick:()=>N(o),className:`p-2 rounded-md ${f.has(o)?"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:(0,Ke.jsx)(Np,{className:"w-5 h-5"})})]}),(0,Ke.jsxs)("div",{className:"mb-6",children:[(0,Ke.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:E.text}),k(E)]}),(0,Ke.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200 dark:border-gray-600",children:[(0,Ke.jsxs)("button",{onClick:()=>n(j=>Math.max(0,j-1)),disabled:o===0,className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Ke.jsx)(pi,{className:"w-4 h-4 mr-2"}),"Previous"]}),(0,Ke.jsx)("div",{className:"flex items-center space-x-3",children:o===L-1?(0,Ke.jsx)("button",{onClick:I,disabled:g,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:g?(0,Ke.jsxs)(Ke.Fragment,{children:[(0,Ke.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Quiz"}):(0,Ke.jsxs)("button",{onClick:()=>n(j=>Math.min(L-1,j+1)),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:["Next",(0,Ke.jsx)(s1,{className:"w-4 h-4 ml-2"})]})})]})]})}),(0,Ke.jsx)("div",{className:"lg:col-span-1",children:(0,Ke.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[(0,Ke.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Question Navigator"}),(0,Ke.jsx)("div",{className:"grid grid-cols-5 gap-2",children:r.questions.map((j,M)=>(0,Ke.jsx)("button",{onClick:()=>n(M),className:`p-2 text-xs font-medium rounded-md ${M===o?"bg-indigo-600 text-white":s[j.id]?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":f.has(M)?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:M+1},j.id))}),(0,Ke.jsxs)("div",{className:"mt-4 space-y-2 text-sm",children:[(0,Ke.jsxs)("div",{className:"flex items-center",children:[(0,Ke.jsx)("div",{className:"w-3 h-3 bg-indigo-600 rounded mr-2"}),(0,Ke.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Current"})]}),(0,Ke.jsxs)("div",{className:"flex items-center",children:[(0,Ke.jsx)("div",{className:"w-3 h-3 bg-green-100 dark:bg-green-900 rounded mr-2"}),(0,Ke.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Answered"})]}),(0,Ke.jsxs)("div",{className:"flex items-center",children:[(0,Ke.jsx)("div",{className:"w-3 h-3 bg-red-100 dark:bg-red-900 rounded mr-2"}),(0,Ke.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Flagged"})]})]}),(0,Ke.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:(0,Ke.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Progress: ",P," of ",L," answered"]})})]})})]})]})})},cT=CK;var Hu=H(he());Rt();var _t=H(se()),SK=()=>{let{user:e}=Ge(),[t,r]=(0,Hu.useState)([]),[a,o]=(0,Hu.useState)(!0),[n,s]=(0,Hu.useState)("STUDENT"),i=ht();(0,Hu.useEffect)(()=>{c()},[]);let c=async()=>{try{o(!0);let g=e?.role==="TEACHER"?"TEACHER":"STUDENT";s(g);let h;g==="STUDENT"?h=await Kl():h=await Ql(),r(h)}catch(g){console.error("Failed to load quizzes:",g)}finally{o(!1)}},l=g=>{let h=new Date,v=new Date(g.timeLimit||0);return g.attempts&&g.attempts.length>0?"completed":v<h?"overdue":"pending"},d=g=>{switch(g){case"completed":return(0,_t.jsx)(Qa,{className:"w-5 h-5 text-green-500"});case"overdue":return(0,_t.jsx)(lo,{className:"w-5 h-5 text-red-500"});default:return(0,_t.jsx)(Ya,{className:"w-5 h-5 text-yellow-500"})}},u=g=>{switch(g){case"completed":return"Completed";case"overdue":return"Overdue";default:return"Pending"}};return a?(0,_t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,_t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,_t.jsxs)("div",{className:"animate-pulse",children:[(0,_t.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-6"}),(0,_t.jsx)("div",{className:"space-y-4",children:[...Array(5)].map((g,h)=>(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6",children:[(0,_t.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),(0,_t.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]},h))})]})})}):(0,_t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,_t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,_t.jsx)("div",{className:"mb-8",children:(0,_t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Quizzes"}),(0,_t.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:n==="STUDENT"?"Take and track your course quizzes":"Manage your created quizzes"})]}),n==="TEACHER"&&(0,_t.jsxs)("button",{onClick:()=>i("/quizzes/create"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,_t.jsx)(As,{className:"w-4 h-4 mr-2"}),"Create Quiz"]})]})}),(0,_t.jsx)("div",{className:"space-y-4",children:t.length===0?(0,_t.jsxs)("div",{className:"text-center py-12",children:[(0,_t.jsx)(Ya,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,_t.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No quizzes"}),(0,_t.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:n==="STUDENT"?"You have no quizzes assigned yet.":"You haven't created any quizzes yet."})]}):t.map(g=>{let h=l(g),v=g.attempts?.reduce((m,y)=>y.score>(m?.score||0)?y:m);return(0,_t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:(0,_t.jsx)("div",{className:"p-6",children:(0,_t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,_t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,_t.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:g.title}),d(h),(0,_t.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":h==="overdue"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:u(h)})]}),(0,_t.jsx)("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:g.description}),(0,_t.jsxs)("div",{className:"mt-4 flex items-center space-x-6 text-sm text-gray-500 dark:text-gray-400",children:[(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)(Go,{className:"w-4 h-4 mr-1"}),g.timeLimit?`${g.timeLimit} minutes`:"No time limit"]}),(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)(gl,{className:"w-4 h-4 mr-1"}),g.questions?.length||0," questions"]}),v&&(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)(Qa,{className:"w-4 h-4 mr-1"}),"Best score: ",v.score,"%"]})]})]}),(0,_t.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,_t.jsxs)("button",{onClick:()=>i(`/quiz/${g.id}`),className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,_t.jsx)(es,{className:"w-4 h-4 mr-1"}),h==="completed"?"Review":"Take Quiz"]}),n==="TEACHER"&&(0,_t.jsxs)("button",{onClick:()=>i(`/quizzes/${g.id}/edit`),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,_t.jsx)(ts,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})})},g.id)})})]})})},dT=SK;var Na=H(he());Rt();var ee=H(se()),EK=({isOpen:e,onClose:t,onExport:r,loading:a})=>{let[o,n]=(0,Na.useState)({format:"pdf",sections:["overview","revenue","performance"],dateRange:"30d",includeCharts:!0,includeRawData:!1}),[s,i]=(0,Na.useState)({fileSystem:!1,clipboard:!1,requested:!1}),c=[{id:"overview",label:"Overview",description:"Key metrics and summary"},{id:"revenue",label:"Revenue Analytics",description:"Financial performance data"},{id:"performance",label:"Performance Metrics",description:"Student and course performance"},{id:"courses",label:"Course Analytics",description:"Individual course data"},{id:"students",label:"Student Analytics",description:"Student engagement and progress"},{id:"assignments",label:"Assignment Analytics",description:"Assignment completion data"},{id:"insights",label:"AI Insights",description:"Generated insights and recommendations"}],l=[{id:"pdf",label:"PDF Report",icon:jt,description:"Professional formatted report"},{id:"excel",label:"Excel Spreadsheet",icon:Mm,description:"Interactive data analysis"},{id:"csv",label:"CSV Data",icon:jt,description:"Raw data for external tools"},{id:"json",label:"JSON Data",icon:jt,description:"Structured data for APIs"}],d=[{id:"7d",label:"Last 7 days"},{id:"30d",label:"Last 30 days"},{id:"90d",label:"Last 90 days"},{id:"1y",label:"Last year"},{id:"custom",label:"Custom range"}],u=async()=>{i(v=>({...v,requested:!0}));try{if("showSaveFilePicker"in window)try{await window.showSaveFilePicker({suggestedName:"analytics-report.pdf",types:[{description:"PDF Document",accept:{"application/pdf":[".pdf"]}}]}),i(v=>({...v,fileSystem:!0}))}catch{console.log("File system permission denied or cancelled")}if("clipboard"in navigator&&"write"in navigator.clipboard)try{await navigator.clipboard.writeText("test"),i(v=>({...v,clipboard:!0}))}catch{console.log("Clipboard permission denied")}}catch(v){console.error("Error requesting permissions:",v)}},g=v=>{n(m=>({...m,sections:m.sections.includes(v)?m.sections.filter(y=>y!==v):[...m.sections,v]}))},h=()=>{if(!s.fileSystem&&!s.clipboard){u();return}r(o)};return e?(0,ee.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ee.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ee.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,ee.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Export Analytics Report"}),(0,ee.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,ee.jsx)(et,{className:"h-6 w-6"})})]}),(0,ee.jsxs)("div",{className:"p-6 space-y-6",children:[(0,ee.jsxs)("div",{children:[(0,ee.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Export Format"}),(0,ee.jsx)("div",{className:"grid grid-cols-2 gap-3",children:l.map(v=>{let m=v.icon;return(0,ee.jsxs)("button",{onClick:()=>n(y=>({...y,format:v.id})),className:`p-4 border rounded-lg text-left transition-colors ${o.format===v.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[(0,ee.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ee.jsx)(m,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2"}),(0,ee.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:v.label})]}),(0,ee.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:v.description})]},v.id)})})]}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Date Range"}),(0,ee.jsx)("select",{value:o.dateRange,onChange:v=>n(m=>({...m,dateRange:v.target.value})),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:d.map(v=>(0,ee.jsx)("option",{value:v.id,children:v.label},v.id))})]}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Sections to Include"}),(0,ee.jsx)("div",{className:"space-y-2",children:c.map(v=>(0,ee.jsxs)("label",{className:"flex items-start space-x-3 cursor-pointer",children:[(0,ee.jsx)("input",{type:"checkbox",checked:o.sections.includes(v.id),onChange:()=>g(v.id),className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ee.jsxs)("div",{className:"flex-1",children:[(0,ee.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v.label}),(0,ee.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:v.description})]})]},v.id))})]}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Additional Options"}),(0,ee.jsxs)("div",{className:"space-y-3",children:[(0,ee.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,ee.jsx)("input",{type:"checkbox",checked:o.includeCharts,onChange:v=>n(m=>({...m,includeCharts:v.target.checked})),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Include Charts & Graphs"}),(0,ee.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Add visual representations of data"})]})]}),(0,ee.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,ee.jsx)("input",{type:"checkbox",checked:o.includeRawData,onChange:v=>n(m=>({...m,includeRawData:v.target.checked})),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Include Raw Data"}),(0,ee.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Add detailed data tables"})]})]})]})]}),s.requested&&(0,ee.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,ee.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ee.jsx)(Es,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5"}),(0,ee.jsxs)("div",{className:"flex-1",children:[(0,ee.jsx)("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Permissions Status"}),(0,ee.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,ee.jsxs)("div",{className:"flex items-center space-x-2",children:[s.fileSystem?(0,ee.jsx)(Xt,{className:"h-4 w-4 text-green-500"}):(0,ee.jsx)(ja,{className:"h-4 w-4 text-orange-500"}),(0,ee.jsxs)("span",{className:"text-sm text-blue-800 dark:text-blue-200",children:["File System: ",s.fileSystem?"Granted":"Required"]})]}),(0,ee.jsxs)("div",{className:"flex items-center space-x-2",children:[s.clipboard?(0,ee.jsx)(Xt,{className:"h-4 w-4 text-green-500"}):(0,ee.jsx)(Nr,{className:"h-4 w-4 text-orange-500"}),(0,ee.jsxs)("span",{className:"text-sm text-blue-800 dark:text-blue-200",children:["Clipboard: ",s.clipboard?"Granted":"Optional"]})]})]})]})]})})]}),(0,ee.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[(0,ee.jsx)("button",{onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Cancel"}),(0,ee.jsx)("button",{onClick:h,disabled:a,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Exporting..."]}):(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(Wr,{className:"h-4 w-4 mr-2"}),"Export Report"]})})]})]})}):null},Lk=()=>{let[e,t]=(0,Na.useState)(null),[r,a]=(0,Na.useState)([]),[o,n]=(0,Na.useState)([]),[s,i]=(0,Na.useState)([]),[c,l]=(0,Na.useState)(null),[d,u]=(0,Na.useState)(null),[g,h]=(0,Na.useState)([]),[v,m]=(0,Na.useState)(!0),[y,p]=(0,Na.useState)(""),[f,x]=(0,Na.useState)("30d"),[b,w]=(0,Na.useState)("overview"),[N,I]=(0,Na.useState)(!1),[C,S]=(0,Na.useState)(!1),{showSuccess:k,showError:E}=Ja();(0,Na.useEffect)(()=>{window.scrollTo(0,0),L()},[]),(0,Na.useEffect)(()=>{e&&L()},[f]);let L=async()=>{try{m(!0);let T=await pw(),U=await gw(),O=await hw(),z=await vw(),X=await yw();t(T),a(U),n(O),i([]),l(X),u(z),h([])}catch(T){console.error("Error loading analytics:",T),t(null),a([]),n([]),i([]),l(null),u(null),h([])}finally{m(!1)}},P=T=>T>=1e6?(T/1e6).toFixed(1)+"M":T>=1e3?(T/1e3).toFixed(1)+"K":T.toString(),j=T=>`${T.toFixed(1)}%`,M=T=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T),q=T=>T>=75?{text:"text-green-600 dark:text-green-400",icon:"text-green-500",bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-700"}:T>=65?{text:"text-orange-600 dark:text-orange-400",icon:"text-orange-500",bg:"bg-orange-50 dark:bg-orange-900/20",border:"border-orange-200 dark:border-orange-700"}:{text:"text-red-600 dark:text-red-400",icon:"text-red-500",bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-700"},R=async T=>{S(!0);try{await new Promise(O=>setTimeout(O,2e3));let U={metadata:{generatedAt:new Date().toISOString(),dateRange:T.dateRange,sections:T.sections,format:T.format},analytics:T.sections.includes("overview")?e:null,revenue:T.sections.includes("revenue")?c:null,performance:T.sections.includes("performance")?d:null,courses:T.sections.includes("courses")?r:null,students:T.sections.includes("students")?o:null,assignments:T.sections.includes("assignments")?s:null,insights:T.sections.includes("insights")?g:null};switch(T.format){case"pdf":await D();break;case"excel":await A();break;case"csv":await B();break;case"json":await F(U);break}I(!1),k("Report Exported!",`Your analytics report has been exported successfully in ${T.format.toUpperCase()} format.`)}catch(U){console.error("Export failed:",U),E("Export Failed","Failed to export analytics report. Please try again.")}finally{S(!1)}},D=async()=>{let T=new Blob(["PDF content would be generated here"],{type:"application/pdf"}),U=URL.createObjectURL(T),O=document.createElement("a");O.href=U,O.download=`analytics-report-${new Date().toISOString().split("T")[0]}.pdf`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(U)},A=async()=>{let T=new Blob(["Excel content would be generated here"],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),U=URL.createObjectURL(T),O=document.createElement("a");O.href=U,O.download=`analytics-report-${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(U)},B=async()=>{try{let T="CSV content would be generated here",U=new Blob([T],{type:"text/csv"}),O=URL.createObjectURL(U),z=document.createElement("a");z.href=O,z.download=`analytics-report-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(O)}catch{E("Export Failed","Failed to export CSV report. Please try again.")}},F=async T=>{let U=new Blob([JSON.stringify(T,null,2)],{type:"application/json"}),O=URL.createObjectURL(U),z=document.createElement("a");z.href=O,z.download=`analytics-report-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(O)};return v?(0,ee.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,ee.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,ee.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):y?(0,ee.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,ee.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,ee.jsxs)("div",{className:"text-center",children:[(0,ee.jsx)(pr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,ee.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Error Loading Analytics"}),(0,ee.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:y}),(0,ee.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})})}):(0,ee.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:[(0,ee.jsx)("div",{className:"courses-header",children:(0,ee.jsxs)("div",{className:"courses-header-content",children:[(0,ee.jsxs)("div",{className:"courses-header-text",children:[(0,ee.jsx)("h1",{className:"courses-header-title",children:"Analytics Dashboard"}),(0,ee.jsx)("p",{className:"courses-header-subtitle",children:"Comprehensive insights into your teaching performance and student engagement"})]}),(0,ee.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[(0,ee.jsxs)("select",{value:f,onChange:T=>x(T.target.value),className:"px-4 py-3 min-h-[44px] border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-base touch-manipulation",children:[(0,ee.jsx)("option",{value:"7d",children:"Last 7 days"}),(0,ee.jsx)("option",{value:"30d",children:"Last 30 days"}),(0,ee.jsx)("option",{value:"90d",children:"Last 90 days"}),(0,ee.jsx)("option",{value:"1y",children:"Last year"})]}),(0,ee.jsxs)(we,{to:"/earnings-report",className:"flex items-center justify-center px-4 py-3 min-h-[44px] rounded-xl font-semibold text-base transition-all duration-200 touch-manipulation active:scale-95",style:{backgroundColor:"rgba(111, 115, 210, 0.1)",color:"#6F73D2",border:"2px solid rgba(111, 115, 210, 0.2)"},onMouseEnter:T=>{T.currentTarget.style.backgroundColor="rgba(111, 115, 210, 0.2)"},onMouseLeave:T=>{T.currentTarget.style.backgroundColor="rgba(111, 115, 210, 0.1)"},children:[(0,ee.jsx)(Ra,{className:"h-5 w-5 mr-2"}),(0,ee.jsx)("span",{className:"hidden sm:inline",children:"View Earnings Report"}),(0,ee.jsx)("span",{className:"sm:hidden",children:"Earnings"})]}),(0,ee.jsx)(Ao,{content:"Export analytics data as PDF, Excel, or CSV",children:(0,ee.jsxs)("button",{onClick:()=>I(!0),className:"courses-create-button button-press min-h-[44px] px-4 py-3 text-base touch-manipulation",children:[(0,ee.jsx)(Wr,{className:"courses-create-button-icon"}),(0,ee.jsx)("span",{className:"hidden sm:inline",children:"Export Report"}),(0,ee.jsx)("span",{className:"sm:hidden",children:"Export"})]})})]})]})}),(0,ee.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ee.jsx)("div",{className:"mb-8",children:(0,ee.jsx)("nav",{className:"flex overflow-x-auto scrollbar-hide",children:(0,ee.jsx)("div",{className:"flex space-x-8 min-w-max",children:[{id:"overview",label:"Overview",icon:_r},{id:"needs-attention",label:"Needs Attention",icon:pr},{id:"revenue",label:"Revenue",icon:Ra},{id:"performance",label:"Performance",icon:Rs},{id:"insights",label:"Insights",icon:Cr},{id:"courses",label:"Courses",icon:ot},{id:"students",label:"Students",icon:it},{id:"assignments",label:"Assignments",icon:jt}].map(T=>{let U=T.icon;return(0,ee.jsxs)("button",{onClick:()=>w(T.id),className:`flex items-center space-x-2 py-3 px-3 sm:px-1 min-h-[44px] border-b-2 font-medium text-base sm:text-sm whitespace-nowrap touch-manipulation ${b===T.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[(0,ee.jsx)(U,{className:"h-5 w-5 sm:h-4 sm:w-4 flex-shrink-0"}),(0,ee.jsx)("span",{className:"hidden sm:inline",children:T.label}),(0,ee.jsx)("span",{className:"sm:hidden text-xs",children:T.label.split(" ")[0]})]},T.id)})})})}),b==="overview"&&e&&(0,ee.jsxs)("div",{className:"space-y-6",children:[(0,ee.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4 mb-6",children:[(0,ee.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 lg:p-6 hover-lift",children:(0,ee.jsxs)("div",{className:"flex items-center",children:[(0,ee.jsx)("div",{className:"flex-shrink-0",children:(0,ee.jsx)(ot,{className:"h-6 w-6 lg:h-8 lg:w-8 text-blue-600 dark:text-blue-400"})}),(0,ee.jsxs)("div",{className:"ml-3 lg:ml-4 flex-1 min-w-0",children:[(0,ee.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ee.jsx)("p",{className:"text-xs lg:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Courses"}),(0,ee.jsx)(Dp,{content:"Total number of courses you've created"})]}),(0,ee.jsx)("p",{className:"text-xl lg:text-2xl font-semibold text-gray-900 dark:text-white",children:e.totalCourses}),(0,ee.jsxs)("div",{className:"flex items-center mt-1",children:[(0,ee.jsx)(al,{className:"w-3 h-3 lg:w-4 lg:h-4 text-green-500"}),(0,ee.jsxs)("span",{className:"text-xs lg:text-sm text-green-600 dark:text-green-400",children:["+",e.monthlyGrowth,"% this month"]})]})]})]})}),(0,ee.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 lg:p-6 hover-lift",children:(0,ee.jsxs)("div",{className:"flex items-center",children:[(0,ee.jsx)("div",{className:"flex-shrink-0",children:(0,ee.jsx)(it,{className:"h-6 w-6 lg:h-8 lg:w-8 text-green-600 dark:text-green-400"})}),(0,ee.jsxs)("div",{className:"ml-3 lg:ml-4 flex-1 min-w-0",children:[(0,ee.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ee.jsx)("p",{className:"text-xs lg:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Students"}),(0,ee.jsx)(Dp,{content:"Total number of students enrolled across all your courses"})]}),(0,ee.jsx)("p",{className:"text-xl lg:text-2xl font-semibold text-gray-900 dark:text-white",children:P(e.totalStudents)}),(0,ee.jsxs)("div",{className:"flex items-center mt-1",children:[(0,ee.jsx)(al,{className:"w-3 h-3 lg:w-4 lg:h-4 text-green-500"}),(0,ee.jsxs)("span",{className:"text-xs lg:text-sm text-green-600 dark:text-green-400",children:[e.activeStudents," active"]})]})]})]})}),(0,ee.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 lg:p-6 hover-lift",children:(0,ee.jsxs)("div",{className:"flex items-center",children:[(0,ee.jsx)("div",{className:"flex-shrink-0",children:(0,ee.jsx)(jt,{className:"h-6 w-6 lg:h-8 lg:w-8 text-orange-600 dark:text-orange-400"})}),(0,ee.jsxs)("div",{className:"ml-3 lg:ml-4 flex-1 min-w-0",children:[(0,ee.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ee.jsx)("p",{className:"text-xs lg:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Pending Assignments"}),(0,ee.jsx)(Dp,{content:"Assignments waiting to be graded"})]}),(0,ee.jsx)("p",{className:"text-xl lg:text-2xl font-semibold text-gray-900 dark:text-white",children:e.pendingAssignments}),(0,ee.jsxs)("div",{className:"flex items-center mt-1",children:[(0,ee.jsx)(pr,{className:"w-3 h-3 lg:w-4 lg:h-4 text-orange-500"}),(0,ee.jsx)("span",{className:"text-xs lg:text-sm text-orange-600 dark:text-orange-400",children:"Need attention"})]})]})]})}),(0,ee.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 lg:p-6",children:(0,ee.jsxs)("div",{className:"flex items-center",children:[(0,ee.jsx)("div",{className:"flex-shrink-0",children:(0,ee.jsx)(Rs,{className:`h-6 w-6 lg:h-8 lg:w-8 ${q(e.averageCompletionRate).icon}`})}),(0,ee.jsxs)("div",{className:"ml-3 lg:ml-4 flex-1 min-w-0",children:[(0,ee.jsx)("p",{className:"text-xs lg:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Avg. Completion"}),(0,ee.jsx)("p",{className:`text-xl lg:text-2xl font-semibold ${q(e.averageCompletionRate).text}`,children:j(e.averageCompletionRate)}),(0,ee.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,ee.jsxs)("div",{className:"flex items-center",children:[(0,ee.jsx)(al,{className:"w-3 h-3 lg:w-4 lg:h-4 text-green-500"}),(0,ee.jsx)("span",{className:"text-xs lg:text-sm text-green-600 dark:text-green-400",children:"+5.2% vs last month"})]}),e.averageCompletionRate<75&&(0,ee.jsx)("button",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:"How to increase completion"})]})]})]})}),(0,ee.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 lg:p-6 hover-lift",children:(0,ee.jsxs)("div",{className:"flex items-center",children:[(0,ee.jsx)("div",{className:"flex-shrink-0",children:(0,ee.jsx)(Ra,{className:"h-6 w-6 lg:h-8 lg:w-8 text-emerald-600 dark:text-emerald-400"})}),(0,ee.jsxs)("div",{className:"ml-3 lg:ml-4 flex-1 min-w-0",children:[(0,ee.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ee.jsx)("p",{className:"text-xs lg:text-sm font-medium text-gray-500 dark:text-gray-400",children:"Monthly Revenue"}),(0,ee.jsx)(Dp,{content:"Total revenue earned this month from course enrollments"})]}),(0,ee.jsx)("p",{className:"text-xl lg:text-2xl font-semibold text-gray-900 dark:text-white",children:M(e.monthlyRevenue)}),(0,ee.jsxs)("div",{className:"flex items-center mt-1",children:[(0,ee.jsx)(al,{className:"w-3 h-3 lg:w-4 lg:h-4 text-green-500"}),(0,ee.jsxs)("span",{className:"text-xs lg:text-sm text-green-600 dark:text-green-400",children:["+",e.monthlyGrowth,"% vs last month"]})]})]})]})})]}),(0,ee.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,ee.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,ee.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Top Performing Courses"}),(0,ee.jsx)("div",{className:"space-y-4",children:r.slice(0,3).map(T=>(0,ee.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ee.jsxs)("div",{className:"flex-1",children:[(0,ee.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:T.courseTitle}),(0,ee.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[T.enrollmentCount," students"]})]}),(0,ee.jsxs)("div",{className:"text-right",children:[(0,ee.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:j(T.completionRate)}),(0,ee.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[T.averageScore.toFixed(1),"% avg score"]})]})]},T.courseId))})]}),(0,ee.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,ee.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ee.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Revenue Summary"}),(0,ee.jsxs)(we,{to:"/earnings-report",className:"flex items-center px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200",style:{backgroundColor:"rgba(111, 115, 210, 0.1)",color:"#6F73D2",border:"1px solid rgba(111, 115, 210, 0.2)"},onMouseEnter:T=>{T.currentTarget.style.backgroundColor="rgba(111, 115, 210, 0.2)"},onMouseLeave:T=>{T.currentTarget.style.backgroundColor="rgba(111, 115, 210, 0.1)"},children:[(0,ee.jsx)(Ra,{className:"h-4 w-4 mr-1.5"}),"View Detailed Report"]})]}),(0,ee.jsxs)("div",{className:"space-y-4",children:[(0,ee.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ee.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ee.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:"Total Revenue"}),(0,ee.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:"All time earnings"})]}),(0,ee.jsx)("div",{className:"text-right ml-4 flex-shrink-0",children:(0,ee.jsx)("p",{className:"text-sm font-semibold text-emerald-600 dark:text-emerald-400",children:M(e.totalRevenue)})})]}),(0,ee.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ee.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ee.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:"Avg Revenue per Course"}),(0,ee.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:"Across all courses"})]}),(0,ee.jsx)("div",{className:"text-right ml-4 flex-shrink-0",children:(0,ee.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:M(e.averageRevenuePerCourse)})})]}),(0,ee.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ee.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ee.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:"Avg Revenue per Student"}),(0,ee.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:"Per enrolled student"})]}),(0,ee.jsx)("div",{className:"text-right ml-4 flex-shrink-0",children:(0,ee.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:M(e.averageRevenuePerStudent)})})]})]})]})]})]}),b!=="overview"&&(0,ee.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-8 text-center",children:[(0,ee.jsx)(_r,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,ee.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:[b.charAt(0).toUpperCase()+b.slice(1)," Analytics"]}),(0,ee.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Detailed analytics for ",b," will be displayed here."]})]}),(0,ee.jsx)(EK,{isOpen:N,onClose:()=>I(!1),onExport:R,loading:C})]})]})};var Mc=H(he());var ma=H(se()),LK=({notification:e,onClose:t})=>{let[r,a]=(0,Mc.useState)(!1);(0,Mc.useEffect)(()=>{let s=setTimeout(()=>a(!0),100),i=setTimeout(()=>{a(!1),setTimeout(()=>t(e.id),300)},e.duration||5e3);return()=>{clearTimeout(s),clearTimeout(i)}},[e.id,e.duration,t]);let o=()=>{switch(e.type){case"success":return(0,ma.jsx)(Xt,{className:"w-5 h-5 text-green-500"});case"error":return(0,ma.jsx)(pr,{className:"w-5 h-5 text-red-500"});case"warning":return(0,ma.jsx)(pr,{className:"w-5 h-5 text-yellow-500"});case"info":return(0,ma.jsx)(Es,{className:"w-5 h-5 text-blue-500"});default:return(0,ma.jsx)(Ba,{className:"w-5 h-5 text-gray-500"})}};return(0,ma.jsx)("div",{className:mi("fixed top-4 right-4 w-80 max-w-sm bg-white rounded-lg shadow-lg border p-4 z-50 transform transition-all duration-300",r?"translate-x-0 opacity-100":"translate-x-full opacity-0",(()=>{switch(e.type){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}})()),children:(0,ma.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ma.jsx)("div",{className:"flex-shrink-0",children:o()}),(0,ma.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ma.jsx)("h4",{className:"text-sm font-medium",children:e.title}),(0,ma.jsx)("p",{className:"text-sm mt-1",children:e.message})]}),(0,ma.jsx)("button",{onClick:()=>{a(!1),setTimeout(()=>t(e.id),300)},className:"flex-shrink-0 p-1 rounded-full hover:bg-gray-100 transition-colors",children:(0,ma.jsx)(et,{className:"w-4 h-4"})})]})})},uT=({children:e})=>{let[t,r]=(0,Mc.useState)([]),a=n=>{let s=Date.now().toString(),i={...n,id:s};r(c=>[...c,i])},o=n=>{r(s=>s.filter(i=>i.id!==n))};return Mc.default.useEffect(()=>(window.addNotification=a,()=>{delete window.addNotification}),[]),(0,ma.jsxs)(ma.Fragment,{children:[e,(0,ma.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(n=>(0,ma.jsx)(LK,{notification:n,onClose:o},n.id))})]})};var us=H(he());Rt();var Ot=H(se()),fT=({courseId:e,isOpen:t,onClose:r,onToggle:a})=>{let{user:o}=Ge(),[n,s]=(0,us.useState)([]),[i,c]=(0,us.useState)(""),[l,d]=(0,us.useState)(!1),[u,g]=(0,us.useState)(!1),h=(0,us.useRef)(null),v=(0,us.useRef)(null);(0,us.useEffect)(()=>{m()},[n]),(0,us.useEffect)(()=>{t&&v.current&&v.current.focus()},[t]);let m=()=>{h.current?.scrollIntoView({behavior:"smooth"})},y=async()=>{if(!i.trim()||l)return;let b={id:Date.now().toString(),userId:o?.id||"",courseId:e||void 0,message:i,response:"",createdAt:new Date().toISOString()};s(w=>[...w,b]),c(""),d(!0);try{let w=await vt.askAI(i,e),N={id:(Date.now()+1).toString(),userId:"ai",courseId:e||void 0,message:"",response:w.response||"I apologize, but I couldn't generate a response at the moment.",createdAt:new Date().toISOString()};s(I=>[...I,N])}catch(w){console.error("Error getting AI response:",w);let N={id:(Date.now()+1).toString(),userId:"ai",courseId:e||void 0,message:"",response:"Sorry, I encountered an error while processing your request. Please try again.",createdAt:new Date().toISOString()};s(I=>[...I,N])}finally{d(!1)}},p=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),y())},f=["What are the prerequisites for this course?","Can you explain the main concepts covered?","How long does it take to complete this course?","What skills will I learn?","Are there any practice exercises available?"],x=b=>{c(b)};return t?(0,Ot.jsxs)("div",{className:"fixed bottom-6 right-6 w-96 h-[500px] bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 flex flex-col z-50",children:[(0,Ot.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,Ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:(0,Ot.jsx)(ol,{className:"h-4 w-4 text-white"})}),(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"AI Assistant"}),(0,Ot.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e?"Course-specific help":"General assistance"})]})]}),(0,Ot.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Ot.jsx)("button",{onClick:()=>g(!u),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:u?(0,Ot.jsx)(Yn,{className:"h-4 w-4"}):(0,Ot.jsx)(ac,{className:"h-4 w-4"})}),(0,Ot.jsx)("button",{onClick:r,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Ot.jsx)(et,{className:"h-4 w-4"})})]})]}),!u&&(0,Ot.jsxs)(Ot.Fragment,{children:[(0,Ot.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.length===0?(0,Ot.jsxs)("div",{className:"text-center py-8",children:[(0,Ot.jsx)(vn,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),(0,Ot.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"How can I help you today?"}),(0,Ot.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Ask me anything about your courses, learning materials, or general questions."}),(0,Ot.jsx)("div",{className:"space-y-2",children:f.map((b,w)=>(0,Ot.jsx)("button",{onClick:()=>x(b),className:"w-full text-left p-3 text-sm text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:b},w))})]}):n.map(b=>(0,Ot.jsx)("div",{className:`flex ${b.userId==="ai"?"justify-start":"justify-end"}`,children:(0,Ot.jsx)("div",{className:`max-w-[80%] p-3 rounded-lg ${b.userId==="ai"?"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white":"bg-blue-600 text-white"}`,children:(0,Ot.jsxs)("div",{className:"flex items-start space-x-2",children:[b.userId==="ai"&&(0,Ot.jsx)(ol,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),(0,Ot.jsx)("div",{className:"flex-1",children:b.userId==="ai"?(0,Ot.jsx)("div",{className:"text-sm whitespace-pre-wrap",children:b.response}):(0,Ot.jsx)("div",{className:"text-sm",children:b.message})}),b.userId!=="ai"&&(0,Ot.jsx)(Kr,{className:"h-4 w-4 text-blue-200 mt-0.5 flex-shrink-0"})]})})},b.id)),l&&(0,Ot.jsx)("div",{className:"flex justify-start",children:(0,Ot.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg",children:(0,Ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ot.jsx)(ol,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),(0,Ot.jsx)(Ls,{className:"h-4 w-4 animate-spin text-gray-500"}),(0,Ot.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Thinking..."})]})})}),(0,Ot.jsx)("div",{ref:h})]}),(0,Ot.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:(0,Ot.jsxs)("div",{className:"flex items-end space-x-2",children:[(0,Ot.jsx)("textarea",{ref:v,value:i,onChange:b=>c(b.target.value),onKeyPress:p,placeholder:"Ask me anything...",className:"flex-1 resize-none p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",rows:1,style:{minHeight:"44px",maxHeight:"120px"}}),(0,Ot.jsx)("button",{onClick:y,disabled:!i.trim()||l,className:"p-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 dark:disabled:bg-gray-600 text-white rounded-lg transition-colors disabled:cursor-not-allowed",children:(0,Ot.jsx)(Ho,{className:"h-4 w-4"})})]})})]})]}):(0,Ot.jsx)("button",{onClick:a,className:"fixed bottom-6 right-6 w-14 h-14 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-200 z-50",children:(0,Ot.jsx)(ol,{className:"h-6 w-6"})})};Rt();var Ik=class{constructor(){ta(this,"ws",null);ta(this,"reconnectAttempts",0);ta(this,"maxReconnectAttempts",5);ta(this,"reconnectDelay",1e3);ta(this,"messageHandlers",[]);ta(this,"connectionHandlers",[]);ta(this,"isConnecting",!1)}async connect(){if(!(this.ws?.readyState===WebSocket.OPEN||this.isConnecting)){this.isConnecting=!0;try{let{token:t}=await ow(),r="wss://skillstream-platform-api.onrender.com/ws";this.ws=new WebSocket(`${r}?token=${t}`),this.ws.onopen=()=>{console.log("WebSocket connected"),this.reconnectAttempts=0,this.isConnecting=!1,this.notifyConnectionHandlers(!0)},this.ws.onmessage=a=>{try{let o=JSON.parse(a.data);this.handleMessage(o)}catch(o){console.error("Error parsing WebSocket message:",o)}},this.ws.onclose=a=>{console.log("WebSocket disconnected:",a.code,a.reason),this.isConnecting=!1,this.notifyConnectionHandlers(!1),a.code!==1e3&&this.reconnectAttempts<this.maxReconnectAttempts&&this.scheduleReconnect()},this.ws.onerror=a=>{console.error("WebSocket error:",a),this.isConnecting=!1}}catch(t){console.error("Error connecting to WebSocket:",t),this.isConnecting=!1,this.scheduleReconnect()}}}scheduleReconnect(){this.reconnectAttempts++;let t=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);setTimeout(()=>{this.reconnectAttempts<this.maxReconnectAttempts&&this.connect()},t)}disconnect(){this.ws&&(this.ws.close(1e3,"User initiated disconnect"),this.ws=null),this.reconnectAttempts=0,this.isConnecting=!1}send(t){this.ws?.readyState===WebSocket.OPEN?this.ws.send(JSON.stringify(t)):console.warn("WebSocket is not connected")}onMessage(t){this.messageHandlers.push(t)}offMessage(t){let r=this.messageHandlers.indexOf(t);r>-1&&this.messageHandlers.splice(r,1)}handleMessage(t){this.messageHandlers.forEach(r=>{try{r(t)}catch(a){console.error("Error in message handler:",a)}})}onConnectionChange(t){this.connectionHandlers.push(t)}offConnectionChange(t){let r=this.connectionHandlers.indexOf(t);r>-1&&this.connectionHandlers.splice(r,1)}notifyConnectionHandlers(t){this.connectionHandlers.forEach(r=>{try{r(t)}catch(a){console.error("Error in connection handler:",a)}})}sendChatMessage(t,r){this.send({type:"CHAT",data:{courseId:t,message:r},timestamp:new Date().toISOString()})}sendVideoChatMessage(t,r){this.send({type:"VIDEO",data:{conferenceId:t,message:r,action:"chat"},timestamp:new Date().toISOString()})}sendVideoReaction(t,r){this.send({type:"VIDEO",data:{conferenceId:t,reaction:r,action:"reaction"},timestamp:new Date().toISOString()})}sendVideoStatus(t,r){this.send({type:"VIDEO",data:{conferenceId:t,status:r,action:"status"},timestamp:new Date().toISOString()})}joinVideoConference(t){this.send({type:"VIDEO",data:{conferenceId:t,action:"join"},timestamp:new Date().toISOString()})}leaveVideoConference(t){this.send({type:"VIDEO",data:{conferenceId:t,action:"leave"},timestamp:new Date().toISOString()})}isConnected(){return this.ws?.readyState===WebSocket.OPEN}getConnectionState(){return this.ws?.readyState||WebSocket.CLOSED}},IK=new Ik,_c=IK;var In=H(he());Rt();var Ee=H(se()),RK=()=>{let[e,t]=(0,In.useState)([]),[r,a]=(0,In.useState)(new Date),[o,n]=(0,In.useState)(null),[s,i]=(0,In.useState)(!1),[c,l]=(0,In.useState)(null),[d,u]=(0,In.useState)({eventTypes:new Set(["lesson","quiz","video","study","assignment","exam","todo"]),priorities:new Set(["low","medium","high","urgent"]),categories:new Set}),[g,h]=(0,In.useState)({title:"",description:"",startTime:"",endTime:"",type:"study",location:"",priority:"medium",category:"",tags:[]}),[v,m]=(0,In.useState)(!0),[y,p]=(0,In.useState)("");(0,In.useEffect)(()=>{f()},[r]);let f=async()=>{try{m(!0),p("");let F=new Date(r.getFullYear(),r.getMonth()-1,1).toISOString().split("T")[0],T=new Date(r.getFullYear(),r.getMonth()+2,0).toISOString().split("T")[0];console.log("Loading events from",F,"to",T,"for month",r.getMonth()+1);let U=await Yl({startDate:F,endDate:T});console.log("Loaded",U?.length||0,"events"),console.log("Events:",U),t(U||[])}catch(F){console.error("Failed to load events:",F),p("Failed to load calendar events. Please try again."),t([])}finally{m(!1)}},x=async F=>{if(F.preventDefault(),!g.title||!g.startTime||!g.endTime){p("Please fill in all required fields");return}try{let T=g.startTime.includes("T")?new Date(g.startTime).toISOString():g.startTime,U=g.endTime.includes("T")?new Date(g.endTime).toISOString():g.endTime;if(console.log("Creating event with data:",{title:g.title,startTime:T,endTime:U,type:g.type}),c){let O={title:g.title,description:g.description,startTime:T,endTime:U,location:g.location,priority:g.priority,category:g.category,tags:g.tags},z=await Jw(c,O);await f()}else{let O={title:g.title,description:g.description||void 0,startTime:T,endTime:U,type:{lesson:"live_class",assignment:"assignment_due",quiz:"quiz_due",exam:"quiz_due",study:"custom",video:"live_class",todo:"deadline"}[g.type]||"custom",location:g.location||void 0,courseId:g.category||void 0,isRecurring:!1};console.log("Sending event data to API:",O);let z=await Xw(O);await f()}h({title:"",description:"",startTime:"",endTime:"",type:"study",location:"",priority:"medium",category:"",tags:[]}),l(null),i(!1),p("")}catch(T){console.error("Failed to save event:",T),console.error("Error response:",T?.response),console.error("Error data:",T?.response?.data),console.error("Error status:",T?.response?.status),console.error("Request data that failed:",{title:g.title,startTime:g.startTime,endTime:g.endTime,type:g.type});let U="Failed to save event. Please try again.";T?.response?.status===403||T?.response?.status===401?U="You do not have permission to create events. Please ensure you are logged in.":T?.response?.data?.message?U=T.response.data.message:T?.response?.data?.error?U=T.response.data.error:T?.message?U=T.message:T?.response?.status===400?U="Invalid event data. Please check all fields and try again.":T?.response?.status===500?U="Server error. Please try again later.":T?.response||(U="Network error. Please check your connection and try again."),p(U)}},b=F=>({live_class:"lesson",deadline:"todo",assignment_due:"assignment",quiz_due:"quiz",custom:"study"})[F]||F,w=F=>!e||e.length===0?[]:e.filter(T=>{if(!T||!T.startTime)return!1;try{let U=new Date(T.startTime);if(isNaN(U.getTime()))return console.warn("Invalid event date:",T.startTime),!1;let O=new Date(U.getFullYear(),U.getMonth(),U.getDate()),z=new Date(F.getFullYear(),F.getMonth(),F.getDate());if(!(O.getTime()===z.getTime()))return!1;let J=b(T.type),K=d.eventTypes.has(J)||d.eventTypes.has(T.type),ue=!T.priority||d.priorities.has(T.priority),ve=d.categories.size===0||!T.category||d.categories.has(T.category);return K&&ue&&ve}catch(U){return console.error("Error filtering event:",U,T),!1}}),N=(F,T)=>{u(U=>{let O={...U},z=new Set(O[F]);return z.has(T)?z.delete(T):z.add(T),O[F]=z,O})},I=()=>{u({eventTypes:new Set(["lesson","quiz","video","study","assignment","exam","todo"]),priorities:new Set(["low","medium","high","urgent"]),categories:new Set})},C=()=>{let F=new Set(e.map(T=>T.type));return Array.from(F)},S=()=>{let F=new Set(e.map(T=>T.category).filter(T=>!!T));return Array.from(F)},k=F=>({live_class:"lesson",deadline:"todo",assignment_due:"assignment",quiz_due:"quiz",custom:"study"})[F]||"study",E=F=>{l(F.id),h({title:F.title,description:F.description||"",startTime:F.startTime?F.startTime.slice(0,16):"",endTime:F.endTime?F.endTime.slice(0,16):"",type:k(F.type),location:F.location||"",priority:F.priority||"medium",category:F.category||"",tags:F.tags||[]}),i(!0),p("")},L=async F=>{if(confirm("Are you sure you want to delete this event?"))try{await Zw(F),t(T=>T.filter(U=>U.id!==F))}catch(T){console.error("Failed to delete event:",T),p("Failed to delete event")}},P=F=>({live_class:"lesson",deadline:"todo",assignment_due:"assignment",quiz_due:"quiz",custom:"study"})[F]||F,j=F=>{switch(P(F)){case"lesson":return(0,Ee.jsx)(bp,{className:"w-4 h-4"});case"quiz":return(0,Ee.jsx)(yn,{className:"w-4 h-4"});case"video":return(0,Ee.jsx)(hl,{className:"w-4 h-4"});case"study":return(0,Ee.jsx)(l1,{className:"w-4 h-4"});case"assignment":return(0,Ee.jsx)(yn,{className:"w-4 h-4"});case"exam":return(0,Ee.jsx)(Np,{className:"w-4 h-4"});case"todo":return(0,Ee.jsx)(Qa,{className:"w-4 h-4"});default:return(0,Ee.jsx)(Go,{className:"w-4 h-4"})}},M=F=>{switch(P(F)){case"lesson":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"quiz":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"video":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"study":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"assignment":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"exam":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"todo":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},q=F=>{switch(F){case"urgent":return"border-l-4 border-red-500";case"high":return"border-l-4 border-orange-500";case"medium":return"border-l-4 border-yellow-500";case"low":return"border-l-4 border-green-500";default:return""}},R=()=>{try{let F=r.getFullYear(),T=r.getMonth(),U=new Date(F,T,1),O=new Date(F,T+1,0),z=new Date(U);z.setDate(z.getDate()-U.getDay());let X=[],J=new Date(z);for(;J<=O||J.getDay()!==0;)X.push(new Date(J)),J.setDate(J.getDate()+1);return X}catch(F){return console.error("Error generating calendar days:",F),[]}},D=F=>new Date(F).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(v)return(0,Ee.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,Ee.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Ee.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})});let A=R();return(0,Ee.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 sm:p-6 lg:p-8",children:[(0,Ee.jsx)("div",{className:"courses-header",style:{marginBottom:"2rem"},children:(0,Ee.jsxs)("div",{className:"courses-header-content",children:[(0,Ee.jsxs)("div",{className:"courses-header-text",children:[(0,Ee.jsx)("h1",{className:"courses-header-title",children:"Schedule & Calendar"}),(0,Ee.jsx)("p",{className:"courses-header-subtitle",children:"Manage your lessons, assignments, and important dates"})]}),(0,Ee.jsxs)("button",{onClick:()=>{h({title:"",description:"",startTime:"",endTime:"",type:"study",location:"",priority:"medium",category:"",tags:[]}),l(null),i(!0)},className:"courses-create-button",children:[(0,Ee.jsx)(As,{className:"courses-create-button-icon",style:{width:"1rem",height:"1rem"}}),"Add Event"]})]})}),y&&(0,Ee.jsx)("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,Ee.jsx)("p",{className:"text-red-800 dark:text-red-200",children:y})}),(0,Ee.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,Ee.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Ee.jsxs)("div",{className:"lg:col-span-2",children:[(0,Ee.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ee.jsx)("button",{onClick:()=>{let F=new Date(r);F.setMonth(F.getMonth()-1),a(F)},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:(0,Ee.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"\u2190 Previous"})}),(0,Ee.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][r.getMonth()]," ",r.getFullYear()]}),(0,Ee.jsx)("button",{onClick:()=>{let F=new Date(r);F.setMonth(F.getMonth()+1),a(F)},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:(0,Ee.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Next \u2192"})})]}),(0,Ee.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,Ee.jsxs)("div",{className:"grid grid-cols-7 gap-px bg-gray-200 dark:bg-gray-700",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(F=>(0,Ee.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800 p-2 text-center text-sm font-semibold text-gray-700 dark:text-gray-300",children:F},F)),A.map((F,T)=>{let U=w(F),O=F.toDateString()===new Date().toDateString(),z=F.getMonth()===r.getMonth(),X=o&&F.toDateString()===o.toDateString();return(0,Ee.jsxs)("div",{onClick:()=>n(F),className:`min-h-24 p-2 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 cursor-pointer transition-colors ${X?"ring-2 ring-blue-500":""} ${O?"bg-blue-50 dark:bg-blue-900/20":""} ${z?"":"opacity-50"}`,children:[(0,Ee.jsx)("div",{className:`text-sm font-medium mb-1 ${O?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:F.getDate()}),(0,Ee.jsxs)("div",{className:"space-y-1",children:[U.slice(0,2).map(J=>(0,Ee.jsxs)("div",{onClick:K=>{K.stopPropagation(),h({title:J.title,description:J.description||"",startTime:J.startTime?J.startTime.slice(0,16):"",endTime:J.endTime?J.endTime.slice(0,16):"",type:J.type,location:J.location||"",priority:J.priority||"medium",category:J.category||"",tags:J.tags||[]}),l(J.id),i(!0)},className:`text-xs p-1 rounded truncate ${M(J.type)}`,title:J.title,children:[j(J.type),(0,Ee.jsx)("span",{className:"ml-1",children:J.title})]},J.id)),U.length>2&&(0,Ee.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",U.length-2," more"]})]})]},T)})]})})]}),(0,Ee.jsxs)("div",{className:"space-y-6",children:[(0,Ee.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Ee.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ee.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Quick Filters"}),(d.eventTypes.size<7||d.priorities.size<4)&&(0,Ee.jsx)("button",{onClick:I,className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"Reset"})]}),(0,Ee.jsxs)("div",{className:"space-y-4",children:[(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Event Types"}),(0,Ee.jsx)("div",{className:"flex flex-wrap gap-2",children:["lesson","quiz","video","study","assignment","exam","todo"].map(F=>(0,Ee.jsx)("button",{onClick:()=>N("eventTypes",F),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${d.eventTypes.has(F)?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:F.charAt(0).toUpperCase()+F.slice(1)},F))})]}),(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),(0,Ee.jsx)("div",{className:"flex flex-wrap gap-2",children:["low","medium","high","urgent"].map(F=>(0,Ee.jsx)("button",{onClick:()=>N("priorities",F),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${d.priorities.has(F)?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:F.charAt(0).toUpperCase()+F.slice(1)},F))})]})]})]}),o&&(0,Ee.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Ee.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ee.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),(0,Ee.jsx)("button",{onClick:()=>{h({title:"",description:"",startTime:`${o.toISOString().split("T")[0]}T09:00`,endTime:`${o.toISOString().split("T")[0]}T10:00`,type:"study",location:"",priority:"medium",category:"",tags:[]}),l(null),i(!0)},className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:(0,Ee.jsx)(As,{className:"w-5 h-5"})})]}),(0,Ee.jsxs)("div",{className:"space-y-2",children:[w(o).map(F=>(0,Ee.jsx)("div",{className:"p-3 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:(0,Ee.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ee.jsxs)("div",{className:"flex-1",children:[(0,Ee.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[j(F.type),(0,Ee.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:F.title})]}),F.startTime&&(0,Ee.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:D(F.startTime)}),F.description&&(0,Ee.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:F.description})]}),(0,Ee.jsxs)("div",{className:"flex gap-2",children:[(0,Ee.jsx)("button",{onClick:()=>E(F),className:"p-1 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",children:(0,Ee.jsx)(ts,{className:"w-4 h-4"})}),(0,Ee.jsx)("button",{onClick:()=>L(F.id),className:"p-1 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:(0,Ee.jsx)(gi,{className:"w-4 h-4"})})]})]})},F.id)),w(o).length===0&&(0,Ee.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:e.length===0?"No events scheduled for this day":"No events match the current filters"})]})]})]})]})}),s&&(0,Ee.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ee.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,Ee.jsxs)("div",{className:"p-6",children:[(0,Ee.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ee.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c?"Edit Event":"Create New Event"}),(0,Ee.jsx)("button",{onClick:()=>{i(!1),l(null),h({title:"",description:"",startTime:"",endTime:"",type:"study",location:"",priority:"medium",category:"",tags:[]})},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg transition-colors",children:(0,Ee.jsx)(gi,{className:"w-6 h-6"})})]}),(0,Ee.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title *"}),(0,Ee.jsx)("input",{type:"text",value:g.title,onChange:F=>h({...g,title:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,Ee.jsx)("textarea",{value:g.description,onChange:F=>h({...g,description:F.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,Ee.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Time *"}),(0,Ee.jsx)("input",{type:"datetime-local",value:g.startTime,onChange:F=>h({...g,startTime:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Time *"}),(0,Ee.jsx)("input",{type:"datetime-local",value:g.endTime,onChange:F=>h({...g,endTime:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]})]}),(0,Ee.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),(0,Ee.jsxs)("select",{value:g.type,onChange:F=>h({...g,type:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,Ee.jsx)("option",{value:"study",children:"Study"}),(0,Ee.jsx)("option",{value:"lesson",children:"Lesson"}),(0,Ee.jsx)("option",{value:"quiz",children:"Quiz"}),(0,Ee.jsx)("option",{value:"assignment",children:"Assignment"}),(0,Ee.jsx)("option",{value:"exam",children:"Exam"}),(0,Ee.jsx)("option",{value:"video",children:"Video"}),(0,Ee.jsx)("option",{value:"todo",children:"Todo"})]})]}),(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),(0,Ee.jsxs)("select",{value:g.priority,onChange:F=>h({...g,priority:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,Ee.jsx)("option",{value:"low",children:"Low"}),(0,Ee.jsx)("option",{value:"medium",children:"Medium"}),(0,Ee.jsx)("option",{value:"high",children:"High"}),(0,Ee.jsx)("option",{value:"urgent",children:"Urgent"})]})]})]}),(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),(0,Ee.jsx)("input",{type:"text",value:g.location,onChange:F=>h({...g,location:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),y&&(0,Ee.jsx)("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,Ee.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:y})}),(0,Ee.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ee.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:c?"Update Event":"Create Event"}),(0,Ee.jsx)("button",{type:"button",onClick:()=>{i(!1),l(null),h({title:"",description:"",startTime:"",endTime:"",type:"study",location:"",priority:"medium",category:"",tags:[]})},className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium",children:"Cancel"})]})]})]})})})]})},Rk=RK;var wl=H(he());Rt();var rt=H(se()),mT=({courseId:e,showCertificates:t=!0})=>{let{user:r}=Ge(),[a,o]=(0,wl.useState)(null),[n,s]=(0,wl.useState)([]),[i,c]=(0,wl.useState)([]),[l,d]=(0,wl.useState)(!0),[u,g]=(0,wl.useState)(e||null);(0,wl.useEffect)(()=>{h()},[u]);let h=async()=>{try{d(!0);let x=u?await oi(u):null;o(x);let b=await ca();if(s(b),t){let w=await Lm();c(w)}}catch(x){console.error("Error loading progress data:",x),o(null),s([]),c([])}finally{d(!1)}},v=x=>x>=90?"text-green-600 dark:text-green-400":x>=70?"text-blue-600 dark:text-blue-400":x>=50?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",m=x=>x>=90?"bg-green-500":x>=70?"bg-blue-500":x>=50?"bg-yellow-500":"bg-red-500",y=x=>{let b=Math.floor(x/60),w=x%60;return`${b}h ${w}m`},p=x=>{let b=Im(x.courseId,x.userId);window.open(b,"_blank")},f=x=>{navigator.share?navigator.share({title:`${x.courseName} Certificate`,text:`I completed ${x.courseName} with ${x.completionPercentage}%!`,url:x.certificateUrl}):navigator.clipboard.writeText(x.certificateUrl)};return l?(0,rt.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,rt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,rt.jsxs)("div",{className:"space-y-6",children:[!e&&(0,rt.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,rt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Select Course"}),(0,rt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(x=>(0,rt.jsxs)("div",{onClick:()=>g(x.id),className:`p-4 border rounded-lg cursor-pointer transition-colors ${u===x.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[(0,rt.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:x.title}),(0,rt.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:x.description})]},x.id))})]}),a&&(0,rt.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,rt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,rt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Progress Overview"}),(0,rt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,rt.jsx)(pp,{className:"h-5 w-5 text-yellow-500"}),(0,rt.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[a.achievements.length," achievements"]})]})]}),(0,rt.jsxs)("div",{className:"mb-6",children:[(0,rt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,rt.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Overall Progress"}),(0,rt.jsxs)("span",{className:`text-sm font-semibold ${v(a.overallProgress)}`,children:[a.overallProgress,"%"]})]}),(0,rt.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,rt.jsx)("div",{className:`h-3 rounded-full transition-all duration-300 ${m(a.overallProgress)}`,style:{width:`${a.overallProgress}%`}})})]}),(0,rt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,rt.jsxs)("div",{className:"text-center",children:[(0,rt.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg mx-auto mb-2",children:(0,rt.jsx)(ot,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,rt.jsxs)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[a.completedLessons,"/",a.totalLessons]}),(0,rt.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Lessons"})]}),(0,rt.jsxs)("div",{className:"text-center",children:[(0,rt.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg mx-auto mb-2",children:(0,rt.jsx)(Xt,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),(0,rt.jsxs)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[a.completedQuizzes,"/",a.totalQuizzes]}),(0,rt.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Quizzes"})]}),(0,rt.jsxs)("div",{className:"text-center",children:[(0,rt.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-lg mx-auto mb-2",children:(0,rt.jsx)(Rs,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),(0,rt.jsxs)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[a.completedAssignments,"/",a.totalAssignments]}),(0,rt.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Assignments"})]}),(0,rt.jsxs)("div",{className:"text-center",children:[(0,rt.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-yellow-100 dark:bg-yellow-900 rounded-lg mx-auto mb-2",children:(0,rt.jsx)(xt,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})}),(0,rt.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:y(a.timeSpent)}),(0,rt.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Time Spent"})]})]}),(0,rt.jsxs)("div",{className:"mb-6",children:[(0,rt.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3",children:"Recent Achievements"}),(0,rt.jsx)("div",{className:"flex flex-wrap gap-2",children:a.achievements.map((x,b)=>(0,rt.jsxs)("div",{className:"flex items-center px-3 py-1 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 rounded-full text-sm",children:[(0,rt.jsx)(_a,{className:"h-4 w-4 mr-1"}),x]},b))})]}),(0,rt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-lg",children:[(0,rt.jsxs)("div",{className:"flex items-center",children:[(0,rt.jsx)(Cr,{className:"h-5 w-5 text-orange-500 mr-2"}),(0,rt.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Learning Streak"})]}),(0,rt.jsxs)("div",{className:"text-right",children:[(0,rt.jsxs)("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:[a.streak," days"]}),(0,rt.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Keep it up!"})]})]})]}),t&&i.length>0&&(0,rt.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,rt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Certificates"}),(0,rt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(x=>(0,rt.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,rt.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,rt.jsxs)("div",{children:[(0,rt.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:x.courseName}),(0,rt.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Completed ",new Date(x.issuedDate).toLocaleDateString()]})]}),(0,rt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,rt.jsx)(Jt,{className:"h-4 w-4 text-yellow-500 fill-current"}),(0,rt.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:x.grade})]})]}),(0,rt.jsxs)("div",{className:"mb-3",children:[(0,rt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,rt.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Completion"}),(0,rt.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[x.completionPercentage,"%"]})]}),(0,rt.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,rt.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${x.completionPercentage}%`}})})]}),(0,rt.jsxs)("div",{className:"flex space-x-2",children:[(0,rt.jsxs)("button",{onClick:()=>p(x),className:"flex items-center px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[(0,rt.jsx)(Wr,{className:"h-4 w-4 mr-1"}),"Download"]}),(0,rt.jsxs)("button",{onClick:()=>f(x),className:"flex items-center px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[(0,rt.jsx)(So,{className:"h-4 w-4 mr-1"}),"Share"]})]})]},x.id))})]})]})};var go=H(he());var pa=H(he());Rt();var fs=Object.create(null);fs.open="0";fs.close="1";fs.ping="2";fs.pong="3";fs.message="4";fs.upgrade="5";fs.noop="6";var ng=Object.create(null);Object.keys(fs).forEach(e=>{ng[fs[e]]=e});var sg={type:"error",data:"parser error"};var hT=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",vT=typeof ArrayBuffer=="function",yT=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ig=({type:e,data:t},r,a)=>hT&&t instanceof Blob?r?a(t):pT(t,a):vT&&(t instanceof ArrayBuffer||yT(t))?r?a(t):pT(new Blob([t]),a):a(fs[e]+(t||"")),pT=(e,t)=>{let r=new FileReader;return r.onload=function(){let a=r.result.split(",")[1];t("b"+(a||""))},r.readAsDataURL(e)};function gT(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var Ak;function xT(e,t){if(hT&&e.data instanceof Blob)return e.data.arrayBuffer().then(gT).then(t);if(vT&&(e.data instanceof ArrayBuffer||yT(e.data)))return t(gT(e.data));ig(e,!1,r=>{Ak||(Ak=new TextEncoder),t(Ak.encode(r))})}var bT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<bT.length;e++)lg[bT.charCodeAt(e)]=e;var wT=e=>{let t=e.length*.75,r=e.length,a,o=0,n,s,i,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);let l=new ArrayBuffer(t),d=new Uint8Array(l);for(a=0;a<r;a+=4)n=lg[e.charCodeAt(a)],s=lg[e.charCodeAt(a+1)],i=lg[e.charCodeAt(a+2)],c=lg[e.charCodeAt(a+3)],d[o++]=n<<2|s>>4,d[o++]=(s&15)<<4|i>>2,d[o++]=(i&3)<<6|c&63;return l};var AK=typeof ArrayBuffer=="function",cg=(e,t)=>{if(typeof e!="string")return{type:"message",data:kT(e,t)};let r=e.charAt(0);return r==="b"?{type:"message",data:PK(e.substring(1),t)}:ng[r]?e.length>1?{type:ng[r],data:e.substring(1)}:{type:ng[r]}:sg},PK=(e,t)=>{if(AK){let r=wT(e);return kT(r,t)}else return{base64:!0,data:e}},kT=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}};var NT="",CT=(e,t)=>{let r=e.length,a=new Array(r),o=0;e.forEach((n,s)=>{ig(n,!1,i=>{a[s]=i,++o===r&&t(a.join(NT))})})},ST=(e,t)=>{let r=e.split(NT),a=[];for(let o=0;o<r.length;o++){let n=cg(r[o],t);if(a.push(n),n.type==="error")break}return a};function ET(){return new TransformStream({transform(e,t){xT(e,r=>{let a=r.length,o;if(a<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,a);else if(a<65536){o=new Uint8Array(3);let n=new DataView(o.buffer);n.setUint8(0,126),n.setUint16(1,a)}else{o=new Uint8Array(9);let n=new DataView(o.buffer);n.setUint8(0,127),n.setBigUint64(1,BigInt(a))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(r)})}})}var Pk;function kv(e){return e.reduce((t,r)=>t+r.length,0)}function Nv(e,t){if(e[0].length===t)return e.shift();let r=new Uint8Array(t),a=0;for(let o=0;o<t;o++)r[o]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),r}function LT(e,t){Pk||(Pk=new TextDecoder);let r=[],a=0,o=-1,n=!1;return new TransformStream({transform(s,i){for(r.push(s);;){if(a===0){if(kv(r)<1)break;let c=Nv(r,1);n=(c[0]&128)===128,o=c[0]&127,o<126?a=3:o===126?a=1:a=2}else if(a===1){if(kv(r)<2)break;let c=Nv(r,2);o=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),a=3}else if(a===2){if(kv(r)<8)break;let c=Nv(r,8),l=new DataView(c.buffer,c.byteOffset,c.length),d=l.getUint32(0);if(d>Math.pow(2,21)-1){i.enqueue(sg);break}o=d*Math.pow(2,32)+l.getUint32(4),a=3}else{if(kv(r)<o)break;let c=Nv(r,o);i.enqueue(cg(n?c:Pk.decode(c),t)),a=0}if(o===0||o>e){i.enqueue(sg);break}}}})}var Tk=4;function Er(e){if(e)return TK(e)}function TK(e){for(var t in Er.prototype)e[t]=Er.prototype[t];return e}Er.prototype.on=Er.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Er.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Er.prototype.off=Er.prototype.removeListener=Er.prototype.removeAllListeners=Er.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var a,o=0;o<r.length;o++)if(a=r[o],a===t||a.fn===t){r.splice(o,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Er.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(r){r=r.slice(0);for(var a=0,o=r.length;a<o;++a)r[a].apply(this,t)}return this};Er.prototype.emitReserved=Er.prototype.emit;Er.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Er.prototype.hasListeners=function(e){return!!this.listeners(e).length};var ki=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),po=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),IT="arraybuffer";function Cv(e,...t){return t.reduce((r,a)=>(e.hasOwnProperty(a)&&(r[a]=e[a]),r),{})}var DK=po.setTimeout,FK=po.clearTimeout;function Ni(e,t){t.useNativeTimers?(e.setTimeoutFn=DK.bind(po),e.clearTimeoutFn=FK.bind(po)):(e.setTimeoutFn=po.setTimeout.bind(po),e.clearTimeoutFn=po.clearTimeout.bind(po))}var OK=1.33;function RT(e){return typeof e=="string"?MK(e):Math.ceil((e.byteLength||e.size)*OK)}function MK(e){let t=0,r=0;for(let a=0,o=e.length;a<o;a++)t=e.charCodeAt(a),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(a++,r+=4);return r}function Sv(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function AT(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function PT(e){let t={},r=e.split("&");for(let a=0,o=r.length;a<o;a++){let n=r[a].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return t}var Ev=class extends Error{constructor(t,r,a){super(t),this.description=r,this.context=a,this.type="TransportError"}},Ci=class extends Er{constructor(t){super(),this.writable=!1,Ni(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,a){return super.emitReserved("error",new Ev(t,r,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){let r=cg(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){let t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){let r=AT(t);return r.length?"?"+r:""}};var dg=class extends Ci{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";let r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||r()})),this.writable||(a++,this.once("drain",function(){--a||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){let r=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};ST(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,CT(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Sv()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}};var TT=!1;try{TT=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var DT=TT;function _K(){}var Dk=class extends dg{constructor(t){if(super(t),typeof location<"u"){let r=location.protocol==="https:",a=location.port;a||(a=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}}doWrite(t,r){let a=this.request({method:"POST",data:t});a.on("success",r),a.on("error",(o,n)=>{this.onError("xhr post error",o,n)})}doPoll(){let t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,a)=>{this.onError("xhr poll error",r,a)}),this.pollXhr=t}},kl=class e extends Er{constructor(t,r,a){super(),this.createRequest=t,Ni(this,a),this._opts=a,this._method=a.method||"GET",this._uri=r,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var t;let r=Cv(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let a=this._xhr=this.createRequest(r);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&a.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var o;a.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=e.requestsCount++,e.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=_K,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete e.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};kl.requestsCount=0;kl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",FT);else if(typeof addEventListener=="function"){let e="onpagehide"in po?"pagehide":"unload";addEventListener(e,FT,!1)}}function FT(){for(let e in kl.requests)kl.requests.hasOwnProperty(e)&&kl.requests[e].abort()}var BK=function(){let e=OT({xdomain:!1});return e&&e.responseType!==null}(),Nl=class extends Dk{constructor(t){super(t);let r=t&&t.forceBase64;this.supportsBinary=BK&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new kl(OT,this.uri(),t)}};function OT(e){let t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||DT))return new XMLHttpRequest}catch{}if(!t)try{return new po[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var MT=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Ok=class extends Ci{get name(){return"websocket"}doOpen(){let t=this.uri(),r=this.opts.protocols,a=MT?{}:Cv(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,a)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){let a=t[r],o=r===t.length-1;ig(a,this.supportsBinary,n=>{try{this.doWrite(a,n)}catch{}o&&ki(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Sv()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}},Fk=po.WebSocket||po.MozWebSocket,Cl=class extends Ok{createSocket(t,r,a){return MT?new Fk(t,r,a):r?new Fk(t,r):new Fk(t)}doWrite(t,r){this.ws.send(r)}};var Vu=class extends Ci{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{let r=LT(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=t.readable.pipeThrough(r).getReader(),o=ET();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();let n=()=>{a.read().then(({done:i,value:c})=>{i||(this.onPacket(c),n())}).catch(i=>{})};n();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){let a=t[r],o=r===t.length-1;this._writer.write(a).then(()=>{o&&ki(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}};var Mk={websocket:Cl,webtransport:Vu,polling:Nl};var qK=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,jK=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Wu(e){if(e.length>8e3)throw"URI too long";let t=e,r=e.indexOf("["),a=e.indexOf("]");r!=-1&&a!=-1&&(e=e.substring(0,r)+e.substring(r,a).replace(/:/g,";")+e.substring(a,e.length));let o=qK.exec(e||""),n={},s=14;for(;s--;)n[jK[s]]=o[s]||"";return r!=-1&&a!=-1&&(n.source=t,n.host=n.host.substring(1,n.host.length-1).replace(/;/g,":"),n.authority=n.authority.replace("[","").replace("]","").replace(/;/g,":"),n.ipv6uri=!0),n.pathNames=UK(n,n.path),n.queryKey=zK(n,n.query),n}function UK(e,t){let r=/\/{2,9}/g,a=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&a.splice(0,1),t.slice(-1)=="/"&&a.splice(a.length-1,1),a}function zK(e,t){let r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,o,n){o&&(r[o]=n)}),r}var _k=typeof addEventListener=="function"&&typeof removeEventListener=="function",Lv=[];_k&&addEventListener("offline",()=>{Lv.forEach(e=>e())},!1);var Bc=class e extends Er{constructor(t,r){if(super(),this.binaryType=IT,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let a=Wu(t);r.hostname=a.host,r.secure=a.protocol==="https"||a.protocol==="wss",r.port=a.port,a.query&&(r.query=a.query)}else r.host&&(r.hostname=Wu(r.host).host);Ni(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(a=>{let o=a.prototype.name;this.transports.push(o),this._transportsByName[o]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=PT(this.opts.query)),_k&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Lv.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=Tk,r.transport=t,this.id&&(r.sid=this.id);let a=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&e.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",e.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let a=0;a<this.writeBuffer.length;a++){let o=this.writeBuffer[a].data;if(o&&(r+=RT(o)),a>0&&r>this._maxPayload)return this.writeBuffer.slice(0,a);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,ki(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,a){return this._sendPacket("message",t,r,a),this}send(t,r,a){return this._sendPacket("message",t,r,a),this}_sendPacket(t,r,a,o){if(typeof r=="function"&&(o=r,r=void 0),typeof a=="function"&&(o=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;let n={type:t,data:r,options:a};this.emitReserved("packetCreate",n),this.writeBuffer.push(n),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},a=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():t()}):this.upgrading?a():t()),this}_onError(t){if(e.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),_k&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let a=Lv.indexOf(this._offlineEventListener);a!==-1&&Lv.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}};Bc.protocol=Tk;var Iv=class extends Bc{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),a=!1;Bc.priorWebsocketSuccess=!1;let o=()=>{a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",u=>{if(!a)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Bc.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{let g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function n(){a||(a=!0,d(),r.close(),r=null)}let s=u=>{let g=new Error("probe error: "+u);g.transport=r.name,n(),this.emitReserved("upgradeError",g)};function i(){s("transport closed")}function c(){s("socket closed")}function l(u){r&&u.name!==r.name&&n()}let d=()=>{r.removeListener("open",o),r.removeListener("error",s),r.removeListener("close",i),this.off("close",c),this.off("upgrading",l)};r.once("open",o),r.once("error",s),r.once("close",i),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{a||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){let r=[];for(let a=0;a<t.length;a++)~this.transports.indexOf(t[a])&&r.push(t[a]);return r}},Gu=class extends Iv{constructor(t,r={}){let a=typeof t=="object"?t:r;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(o=>Mk[o]).filter(o=>!!o)),super(t,a)}};var uye=Gu.protocol;function _T(e,t="",r){let a=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),a=Wu(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";let n=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+n+":"+a.port+t,a.href=a.protocol+"://"+n+(r&&r.port===a.port?"":":"+a.port),a}var $k={};Uv($k,{Decoder:()=>Uk,Encoder:()=>jk,PacketType:()=>ar,protocol:()=>zT});var HK=typeof ArrayBuffer=="function",VK=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,BT=Object.prototype.toString,WK=typeof Blob=="function"||typeof Blob<"u"&&BT.call(Blob)==="[object BlobConstructor]",GK=typeof File=="function"||typeof File<"u"&&BT.call(File)==="[object FileConstructor]";function fg(e){return HK&&(e instanceof ArrayBuffer||VK(e))||WK&&e instanceof Blob||GK&&e instanceof File}function ug(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,a=e.length;r<a;r++)if(ug(e[r]))return!0;return!1}if(fg(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ug(e.toJSON(),!0);for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&ug(e[r]))return!0;return!1}function qT(e){let t=[],r=e.data,a=e;return a.data=Bk(r,t),a.attachments=t.length,{packet:a,buffers:t}}function Bk(e,t){if(!e)return e;if(fg(e)){let r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){let r=new Array(e.length);for(let a=0;a<e.length;a++)r[a]=Bk(e[a],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){let r={};for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=Bk(e[a],t));return r}return e}function jT(e,t){return e.data=qk(e.data,t),delete e.attachments,e}function qk(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=qk(e[r],t);else if(typeof e=="object")for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=qk(e[r],t));return e}var KK=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],zT=5,ar;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ar||(ar={}));var jk=class{constructor(t){this.replacer=t}encode(t){return(t.type===ar.EVENT||t.type===ar.ACK)&&ug(t)?this.encodeAsBinary({type:t.type===ar.EVENT?ar.BINARY_EVENT:ar.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===ar.BINARY_EVENT||t.type===ar.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){let r=qT(t),a=this.encodeAsString(r.packet),o=r.buffers;return o.unshift(a),o}};function UT(e){return Object.prototype.toString.call(e)==="[object Object]"}var Uk=class e extends Er{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);let a=r.type===ar.BINARY_EVENT;a||r.type===ar.BINARY_ACK?(r.type=a?ar.EVENT:ar.ACK,this.reconstructor=new zk(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(fg(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0,a={type:Number(t.charAt(0))};if(ar[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===ar.BINARY_EVENT||a.type===ar.BINARY_ACK){let n=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);let s=t.substring(n,r);if(s!=Number(s)||t.charAt(r)!=="-")throw new Error("Illegal attachments");a.attachments=Number(s)}if(t.charAt(r+1)==="/"){let n=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););a.nsp=t.substring(n,r)}else a.nsp="/";let o=t.charAt(r+1);if(o!==""&&Number(o)==o){let n=r+1;for(;++r;){let s=t.charAt(r);if(s==null||Number(s)!=s){--r;break}if(r===t.length)break}a.id=Number(t.substring(n,r+1))}if(t.charAt(++r)){let n=this.tryParse(t.substr(r));if(e.isPayloadValid(a.type,n))a.data=n;else throw new Error("invalid payload")}return a}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case ar.CONNECT:return UT(r);case ar.DISCONNECT:return r===void 0;case ar.CONNECT_ERROR:return typeof r=="string"||UT(r);case ar.EVENT:case ar.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&KK.indexOf(r[0])===-1);case ar.ACK:case ar.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},zk=class{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){let r=jT(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function rn(e,t,r){return e.on(t,r),function(){e.off(t,r)}}var QK=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Ku=class extends Er{constructor(t,r,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let t=this.io;this.subs=[rn(t,"open",this.onopen.bind(this)),rn(t,"packet",this.onpacket.bind(this)),rn(t,"error",this.onerror.bind(this)),rn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var a,o,n;if(QK.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;let s={type:ar.EVENT,data:r};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){let d=this.ids++,u=r.pop();this._registerAckCallback(d,u),s.id=d}let i=(o=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||o===void 0?void 0:o.writable,c=this.connected&&!(!((n=this.io.engine)===null||n===void 0)&&n._hasPingExpired());return this.flags.volatile&&!i||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,r){var a;let o=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(o===void 0){this.acks[t]=r;return}let n=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let i=0;i<this.sendBuffer.length;i++)this.sendBuffer[i].id===t&&this.sendBuffer.splice(i,1);r.call(this,new Error("operation has timed out"))},o),s=(...i)=>{this.io.clearTimeoutFn(n),r.apply(this,i)};s.withError=!0,this.acks[t]=s}emitWithAck(t,...r){return new Promise((a,o)=>{let n=(s,i)=>s?o(s):a(i);n.withError=!0,r.push(n),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());let a={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...n)=>a!==this._queue[0]?void 0:(o!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(o)):(this._queue.shift(),r&&r(null,...n)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;let r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ar.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(a=>String(a.id)===t)){let a=this.acks[t];delete this.acks[t],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ar.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ar.EVENT:case ar.BINARY_EVENT:this.onevent(t);break;case ar.ACK:case ar.BINARY_ACK:this.onack(t);break;case ar.DISCONNECT:this.ondisconnect();break;case ar.CONNECT_ERROR:this.destroy();let a=new Error(t.data.message);a.data=t.data.data,this.emitReserved("connect_error",a);break}}onevent(t){let r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){let r=this._anyListeners.slice();for(let a of r)a.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){let r=this,a=!1;return function(...o){a||(a=!0,r.packet({type:ar.ACK,id:t,data:o}))}}onack(t){let r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ar.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){let r=this._anyListeners;for(let a=0;a<r.length;a++)if(t===r[a])return r.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){let r=this._anyOutgoingListeners;for(let a=0;a<r.length;a++)if(t===r[a])return r.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let r=this._anyOutgoingListeners.slice();for(let a of r)a.apply(this,t.data)}}};function qc(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}qc.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};qc.prototype.reset=function(){this.attempts=0};qc.prototype.setMin=function(e){this.ms=e};qc.prototype.setMax=function(e){this.max=e};qc.prototype.setJitter=function(e){this.jitter=e};var Qu=class extends Er{constructor(t,r){var a;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Ni(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((a=r.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new qc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;let o=r.parser||$k;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Gu(this.uri,this.opts);let r=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;let o=rn(r,"open",function(){a.onopen(),t&&t()}),n=i=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",i),t?t(i):this.maybeReconnectOnOpen()},s=rn(r,"error",n);if(this._timeout!==!1){let i=this._timeout,c=this.setTimeoutFn(()=>{o(),n(new Error("timeout")),r.close()},i);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(o),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let t=this.engine;this.subs.push(rn(t,"ping",this.onping.bind(this)),rn(t,"data",this.ondata.bind(this)),rn(t,"error",this.onerror.bind(this)),rn(t,"close",this.onclose.bind(this)),rn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){ki(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let a=this.nsps[t];return a?this._autoConnect&&!a.active&&a.connect():(a=new Ku(this,t,r),this.nsps[t]=a),a}_destroy(t){let r=Object.keys(this.nsps);for(let a of r)if(this.nsps[a].active)return;this._close()}_packet(t){let r=this.encoder.encode(t);for(let a=0;a<r.length;a++)this.engine.write(r[a],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let r=this.backoff.duration();this._reconnecting=!0;let a=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},r);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){let t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}};var mg={};function pg(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};let r=_T(e,t.path||"/socket.io"),a=r.source,o=r.id,n=r.path,s=mg[o]&&n in mg[o].nsps,i=t.forceNew||t["force new connection"]||t.multiplex===!1||s,c;return i?c=new Qu(a,t):(mg[o]||(mg[o]=new Qu(a,t)),c=mg[o]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(pg,{Manager:Qu,Socket:Ku,io:pg,connect:pg});var YK="wss://skillstream-platform-api.onrender.com/ws",Hk=class{constructor(){ta(this,"socket",null);ta(this,"isConnecting",!1);ta(this,"messageHandlers",[]);ta(this,"conversationHandlers",[]);ta(this,"typingHandlers",[]);ta(this,"readHandlers",[]);ta(this,"reactionHandlers",[]);ta(this,"errorHandlers",[])}connect(t,r){this.socket?.connected||this.isConnecting||(this.isConnecting=!0,this.socket=pg(YK,{auth:{token:t},transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),this.socket.on("connect",()=>{console.log("Messaging socket connected"),this.isConnecting=!1,this.socket?.emit("join_user",{userId:r})}),this.socket.on("disconnect",()=>{console.log("Messaging socket disconnected"),this.isConnecting=!1}),this.socket.on("connect_error",a=>{console.error("Messaging socket connection error:",a),this.isConnecting=!1,this.notifyErrorHandlers({message:a.message||"Connection failed"})}),this.socket.on("new_message",a=>{a.type==="message"&&a.data&&this.notifyMessageHandlers(a.data)}),this.socket.on("message_sent",a=>{a.message&&this.notifyMessageHandlers(a.message)}),this.socket.on("user_typing",a=>{this.notifyTypingHandlers(a)}),this.socket.on("messages_read",a=>{this.notifyReadHandlers(a)}),this.socket.on("message_read",a=>{a.type==="message_read"&&a.data&&this.notifyReadHandlers({messageId:a.data.messageId,userId:a.data.userId,readAt:a.data.readAt})}),this.socket.on("reaction_added",a=>{a.type==="reaction_added"&&a.data&&this.notifyReactionHandlers(a.data)}),this.socket.on("reaction_removed",a=>{a.type==="reaction_removed"&&a.data&&this.notifyReactionHandlers(a.data)}),this.socket.on("conversation_updated",a=>{a.type==="conversation_update"&&a.data&&this.notifyConversationHandlers(a.data)}),this.socket.on("error",a=>{this.notifyErrorHandlers(a)}))}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null),this.isConnecting=!1}joinConversation(t,r){this.socket?.emit("join_conversation",{conversationId:t,userId:r})}leaveConversation(t){this.socket?.emit("leave_conversation",{conversationId:t})}sendMessage(t){this.socket?.emit("send_message",t)}startTyping(t,r){this.socket?.emit("typing_start",{conversationId:t,userId:r})}stopTyping(t,r){this.socket?.emit("typing_stop",{conversationId:t,userId:r})}markConversationRead(t,r){this.socket?.emit("mark_read",{conversationId:t,userId:r})}markMessageRead(t){this.socket?.emit("mark_message_read",{messageId:t})}addReaction(t,r){this.socket?.emit("add_reaction",{messageId:t,emoji:r})}removeReaction(t,r){this.socket?.emit("remove_reaction",{messageId:t,emoji:r})}onMessage(t){this.messageHandlers.push(t)}offMessage(t){this.messageHandlers=this.messageHandlers.filter(r=>r!==t)}onConversation(t){this.conversationHandlers.push(t)}offConversation(t){this.conversationHandlers=this.conversationHandlers.filter(r=>r!==t)}onTyping(t){this.typingHandlers.push(t)}offTyping(t){this.typingHandlers=this.typingHandlers.filter(r=>r!==t)}onRead(t){this.readHandlers.push(t)}offRead(t){this.readHandlers=this.readHandlers.filter(r=>r!==t)}onReaction(t){this.reactionHandlers.push(t)}offReaction(t){this.reactionHandlers=this.reactionHandlers.filter(r=>r!==t)}onError(t){this.errorHandlers.push(t)}offError(t){this.errorHandlers=this.errorHandlers.filter(r=>r!==t)}notifyMessageHandlers(t){this.messageHandlers.forEach(r=>r(t))}notifyConversationHandlers(t){this.conversationHandlers.forEach(r=>r(t))}notifyTypingHandlers(t){this.typingHandlers.forEach(r=>r(t))}notifyReadHandlers(t){this.readHandlers.forEach(r=>r(t))}notifyReactionHandlers(t){this.reactionHandlers.forEach(r=>r(t))}notifyErrorHandlers(t){this.errorHandlers.forEach(r=>r(t))}isConnected(){return this.socket?.connected||!1}},Lr=new Hk;var Rn=H(he());var Ct=H(se()),Rv=({onAttachmentsSelected:e,onClose:t,isOpen:r,buttonRef:a})=>{let[o,n]=(0,Rn.useState)(null),[s,i]=(0,Rn.useState)(null),c=(0,Rn.useRef)(null),l=(0,Rn.useRef)(null),d=(0,Rn.useRef)(null),u=(0,Rn.useRef)(null),g=(0,Rn.useRef)(null);Rn.default.useEffect(()=>{let f=x=>{a?.current&&!a.current.contains(x.target)&&t()};return r&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[r,t,a]),Rn.default.useEffect(()=>()=>{g.current&&g.current.getTracks().forEach(f=>f.stop())},[]);let h=f=>{let x=Array.from(f.target.files||[]);if(x.length>0){let b=x.map(w=>({id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,file:w,type:w.type.startsWith("image/")?"image":"file",size:w.size,name:w.name,preview:w.type.startsWith("image/")?URL.createObjectURL(w):void 0}));e(b),t()}f.target.value=""},v=f=>{let x=Array.from(f.target.files||[]);if(x.length>0){let b=x.map(w=>({id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,file:w,type:"image",size:w.size,name:w.name,preview:URL.createObjectURL(w)}));e(b),t()}f.target.value=""},m=async()=>{try{n("requesting"),i(null);let f=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}});g.current=f,n("granted"),d.current&&(d.current.srcObject=f,d.current.onloadedmetadata=()=>{d.current&&d.current.play()})}catch(f){console.error("Camera permission denied:",f),n("denied"),i("Camera permission was denied. Please enable camera access in your browser settings.")}},y=()=>{if(!d.current||!u.current)return;let f=d.current,x=u.current,b=x.getContext("2d");b&&(x.width=f.videoWidth,x.height=f.videoHeight,b.drawImage(f,0,0,x.width,x.height),x.toBlob(w=>{if(w){let N=`photo-${Date.now()}.jpg`,I=Object.assign(w,{name:N,lastModified:Date.now()}),C={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,file:I,type:"photo",size:w.size,name:N,preview:URL.createObjectURL(w)};e([C]),t(),g.current&&(g.current.getTracks().forEach(S=>S.stop()),g.current=null),n(null)}},"image/jpeg",.8))},p=()=>{g.current&&(g.current.getTracks().forEach(f=>f.stop()),g.current=null),n(null),i(null)};return r?(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("div",{className:"fixed inset-0 z-40",onClick:t}),(0,Ct.jsxs)("div",{className:"absolute bottom-full right-0 mb-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50",children:[(0,Ct.jsx)("div",{className:"absolute -bottom-2 right-4 w-4 h-4 bg-white dark:bg-gray-800 border-r border-b border-gray-200 dark:border-gray-700 transform rotate-45"}),(0,Ct.jsxs)("div",{className:"p-2",children:[(0,Ct.jsxs)("button",{onClick:()=>c.current?.click(),className:"w-full flex items-center space-x-3 p-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,Ct.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:(0,Ct.jsx)(ba,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Attach File"}),(0,Ct.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Documents, PDFs, etc."})]})]}),(0,Ct.jsxs)("button",{onClick:()=>l.current?.click(),className:"w-full flex items-center space-x-3 p-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,Ct.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,Ct.jsx)(ll,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Photo from Gallery"}),(0,Ct.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Choose from your photos"})]})]}),(0,Ct.jsxs)("button",{onClick:m,className:"w-full flex items-center space-x-3 p-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,Ct.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:(0,Ct.jsx)(Jl,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Take Photo"}),(0,Ct.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Use camera"})]})]})]}),(0,Ct.jsx)("input",{ref:c,type:"file",multiple:!0,onChange:h,className:"hidden",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.mp4,.mov,.avi"}),(0,Ct.jsx)("input",{ref:l,type:"file",multiple:!0,onChange:v,className:"hidden",accept:"image/*"})]}),o==="requesting"&&(0,Ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:(0,Ct.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:(0,Ct.jsxs)("div",{className:"text-center",children:[(0,Ct.jsx)(Ls,{className:"h-8 w-8 text-blue-600 animate-spin mx-auto mb-4"}),(0,Ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Requesting Camera Permission"}),(0,Ct.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Please allow camera access when prompted"})]})})}),o==="granted"&&(0,Ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:(0,Ct.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-lg w-full mx-4",children:[(0,Ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Take Photo"}),(0,Ct.jsx)("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Ct.jsx)(et,{className:"h-5 w-5"})})]}),(0,Ct.jsxs)("div",{className:"relative",children:[(0,Ct.jsx)("video",{ref:d,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 bg-gray-900 rounded-lg"}),(0,Ct.jsx)("canvas",{ref:u,className:"hidden"})]}),(0,Ct.jsxs)("div",{className:"flex items-center justify-center space-x-3 mt-4",children:[(0,Ct.jsx)("button",{onClick:y,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Take Photo"}),(0,Ct.jsx)("button",{onClick:p,className:"px-6 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors",children:"Cancel"})]})]})}),o==="denied"&&(0,Ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:(0,Ct.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:(0,Ct.jsxs)("div",{className:"text-center",children:[(0,Ct.jsx)(pr,{className:"h-8 w-8 text-red-600 mx-auto mb-4"}),(0,Ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Camera Permission Denied"}),(0,Ct.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:s}),(0,Ct.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,Ct.jsx)("button",{onClick:()=>n(null),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors",children:"OK"}),(0,Ct.jsx)("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})]})})})]}):null};function Av(e){return new Promise((t,r)=>{let a=new FileReader;a.readAsDataURL(e),a.onload=()=>{let o=a.result.split(",")[1];t(o)},a.onerror=o=>r(o)})}function $T(e){if(e===0)return"0 Bytes";let t=1024,r=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,a)).toFixed(2))+" "+r[a]}var Xe=H(se()),HT=({isOpen:e,onClose:t,selectedUserId:r})=>{let{user:a,token:o}=Ge(),[n,s]=(0,pa.useState)([]),[i,c]=(0,pa.useState)(null),[l,d]=(0,pa.useState)([]),[u,g]=(0,pa.useState)(""),[h,v]=(0,pa.useState)(""),[m,y]=(0,pa.useState)(!1),[p,f]=(0,pa.useState)(!1),[x,b]=(0,pa.useState)([]),[w,N]=(0,pa.useState)(!1),I=(0,pa.useRef)(null),C=(0,pa.useRef)(null),[S,k]=(0,pa.useState)(new Set);(0,pa.useEffect)(()=>{if(e&&a&&o){Lr.connect(o,a.id);let T=O=>{i&&O.conversationId===i.id&&(d(z=>[...z,O]),M()),E()},U=O=>{i&&O.conversationId===i.id&&k(z=>{let X=new Set(z);return O.isTyping?X.add(O.userId):X.delete(O.userId),X})};return Lr.onMessage(T),Lr.onTyping(U),()=>{Lr.offMessage(T),Lr.offTyping(U)}}},[e,a,o,i]),(0,pa.useEffect)(()=>{e&&E()},[e]),(0,pa.useEffect)(()=>(i&&(L(),Wl(i.id),Lr.joinConversation(i.id,a?.id||"")),()=>{i&&Lr.leaveConversation(i.id)}),[i]),(0,pa.useEffect)(()=>{M()},[l]),(0,pa.useEffect)(()=>{if(r&&n.length>0){let T=n.find(U=>U.type==="direct"&&U.participants.some(O=>O.userId===r));T&&c(T)}},[r,n]);let E=async()=>{try{let T=await pn({limit:50});s(T.data)}catch(T){console.error("Error loading conversations:",T),s([])}},L=async()=>{if(i)try{y(!0);let T=await xm(i.id,{limit:50});d(T.data)}catch(T){console.error("Error loading messages:",T),d([])}finally{y(!1)}},P=async T=>{if(!(!T.trim()&&x.length===0||!i))try{f(!0);let U=[];for(let O of x)try{let z=await Av(O.file),X=await bm({file:z,filename:O.name,contentType:O.type||"application/octet-stream",conversationId:i.id});U.push({filename:X.filename,url:X.url,size:X.size,mimeType:X.contentType})}catch(z){console.error("Error uploading attachment:",z)}await ym({conversationId:i.id,content:T.trim(),type:U.length>0?"file":"text",attachments:U.length>0?U:void 0}),Lr.sendMessage({conversationId:i.id,content:T.trim(),type:U.length>0?"file":"text",attachments:U}),v(""),b([]),await L(),await E()}catch(U){console.error("Error sending message:",U)}finally{f(!1)}},j=async(T,U)=>{try{await cw(T,U),Lr.addReaction(T,U)}catch(O){console.error("Error adding reaction:",O)}},M=()=>{C.current?.scrollIntoView({behavior:"smooth"})},q=T=>{try{if(!T)return"";let U=new Date(T);return isNaN(U.getTime())?"":U.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}},R=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),P(h))},D=T=>{b(U=>[...U,...T])},A=T=>{b(U=>U.filter(O=>O.id!==T))},B=T=>T.type==="direct"?T.participants.find(U=>U.userId!==a?.id)?.user:null,F=T=>{if(T.name)return T.name;if(T.type==="direct"){let U=B(T);return U?.username||U?.email||"Unknown User"}return"Group Chat"};return e?(0,Xe.jsxs)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:[(0,Xe.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 w-full max-w-6xl h-[90vh] flex flex-col",children:[(0,Xe.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,Xe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Messages"}),(0,Xe.jsx)("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Xe.jsx)(et,{className:"h-5 w-5"})})]}),(0,Xe.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,Xe.jsxs)("div",{className:"w-80 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[(0,Xe.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,Xe.jsxs)("div",{className:"relative",children:[(0,Xe.jsx)(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Xe.jsx)("input",{type:"text",placeholder:"Search conversations...",value:u,onChange:T=>g(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})}),(0,Xe.jsx)("div",{className:"flex-1 overflow-y-auto",children:n.filter(T=>{if(!u)return!0;let U=u.toLowerCase();return T.name?.toLowerCase().includes(U)?!0:T.participants.some(O=>O.user.username.toLowerCase().includes(U)||O.user.email.toLowerCase().includes(U))}).map(T=>(0,Xe.jsx)("div",{onClick:()=>c(T),className:`p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${i?.id===T.id?"bg-blue-50 dark:bg-blue-900/20 border-r-2 border-blue-500":""}`,children:(0,Xe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xe.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center flex-shrink-0",children:(0,Xe.jsx)("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:F(T).charAt(0)})}),(0,Xe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xe.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Xe.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:F(T)}),T.unreadCount>0&&(0,Xe.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-blue-600 text-white text-xs font-medium rounded-full",children:T.unreadCount>99?"99+":T.unreadCount})]}),T.lastMessage&&(0,Xe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:T.lastMessage.content})]})]})},T.id))})]}),(0,Xe.jsx)("div",{className:"flex-1 flex flex-col",children:i?(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:(0,Xe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xe.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:(0,Xe.jsx)("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:F(i).charAt(0)})}),(0,Xe.jsx)("div",{children:(0,Xe.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:F(i)})})]})}),(0,Xe.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[m?(0,Xe.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Xe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.length===0?(0,Xe.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Xe.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No messages yet"})}):l.map(T=>{let U=T.senderId===a?.id;return(0,Xe.jsx)("div",{className:`flex ${U?"justify-end":"justify-start"}`,children:(0,Xe.jsxs)("div",{className:`max-w-xs lg:max-w-md ${U?"order-2":"order-1"}`,children:[!U&&(0,Xe.jsx)("div",{className:"flex items-center space-x-2 mb-1",children:(0,Xe.jsx)("span",{className:"text-xs font-medium text-gray-900 dark:text-white",children:T.sender.username})}),(0,Xe.jsxs)("div",{className:`p-3 ${U?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"}`,children:[T.attachments&&T.attachments.length>0&&(0,Xe.jsx)("div",{className:"mb-2 space-y-2",children:T.attachments.map((O,z)=>(0,Xe.jsx)("div",{children:O.mimeType.startsWith("image/")?(0,Xe.jsx)("img",{src:O.url,alt:O.filename,className:"max-w-full h-auto rounded"}):(0,Xe.jsxs)("a",{href:O.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-blue-400 hover:text-blue-300",children:[(0,Xe.jsx)(ba,{className:"h-4 w-4"}),(0,Xe.jsx)("span",{className:"text-sm",children:O.filename})]})},z))}),(0,Xe.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:T.content}),T.reactions&&T.reactions.length>0&&(0,Xe.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:T.reactions.map((O,z)=>(0,Xe.jsxs)("button",{onClick:()=>{O.userId===a?.id?dw(T.id,O.emoji):j(T.id,O.emoji)},className:`px-2 py-1 text-xs ${O.userId===a?.id?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300"}`,children:[O.emoji," ",O.user.username]},z))})]}),(0,Xe.jsxs)("div",{className:"flex items-center justify-between mt-1 px-1",children:[(0,Xe.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:q(T.createdAt)}),U&&(0,Xe.jsx)("div",{className:"flex items-center space-x-1",children:T.readBy&&T.readBy.length>0?(0,Xe.jsx)(ni,{className:"h-3 w-3 text-blue-500"}):(0,Xe.jsx)(ni,{className:"h-3 w-3 text-gray-400"})})]})]})},T.id)}),S.size>0&&(0,Xe.jsx)("div",{className:"flex justify-start",children:(0,Xe.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 p-2",children:(0,Xe.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Typing..."})})}),(0,Xe.jsx)("div",{ref:C})]}),(0,Xe.jsxs)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[x.length>0&&(0,Xe.jsx)("div",{className:"mb-2 flex flex-wrap gap-2",children:x.map(T=>(0,Xe.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600",children:[T.preview?(0,Xe.jsx)("img",{src:T.preview,alt:T.name,className:"w-8 h-8 object-cover"}):(0,Xe.jsx)(ba,{className:"h-4 w-4 text-gray-500"}),(0,Xe.jsx)("span",{className:"text-xs text-gray-700 dark:text-gray-300 truncate max-w-[100px]",children:T.name}),(0,Xe.jsx)("button",{onClick:()=>A(T.id),className:"text-gray-400 hover:text-red-500",children:(0,Xe.jsx)(et,{className:"h-3 w-3"})})]},T.id))}),(0,Xe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xe.jsx)("button",{ref:I,onClick:()=>N(!w),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Xe.jsx)(di,{className:"h-4 w-4"})}),(0,Xe.jsx)("input",{type:"text",value:h,onChange:T=>v(T.target.value),onKeyPress:R,placeholder:"Type a message...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"}),(0,Xe.jsx)("button",{onClick:()=>P(h),disabled:!h.trim()&&x.length===0||p,className:"p-2 bg-blue-600 text-white hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?(0,Xe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,Xe.jsx)(Ho,{className:"h-4 w-4"})})]})]})]}):(0,Xe.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,Xe.jsxs)("div",{className:"text-center",children:[(0,Xe.jsx)(Br,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,Xe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Select a conversation"}),(0,Xe.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Choose a conversation from the list to view messages"})]})})})]})]}),w&&(0,Xe.jsx)(Rv,{isOpen:w,onClose:()=>N(!1),onSelect:D,buttonRef:I})]}):null};Rt();var le=H(se()),Pv=({courseId:e})=>{let{user:t}=Ge(),[r,a]=(0,go.useState)([]),[o,n]=(0,go.useState)([]),[s,i]=(0,go.useState)([]),[c,l]=(0,go.useState)(!1),[d,u]=(0,go.useState)(!1),[g,h]=(0,go.useState)(""),[v,m]=(0,go.useState)(!0),[y,p]=(0,go.useState)("groups"),[f,x]=(0,go.useState)(!1),[b,w]=(0,go.useState)("all"),[N,I]=(0,go.useState)("name"),[C,S]=(0,go.useState)("asc");(0,go.useEffect)(()=>{k()},[e]);let k=async()=>{try{m(!0);let[R,D,A]=await Promise.all([mw(e),km(e),Qn(e)]);a(R),n(D),i(A)}catch(R){console.error("Error loading study groups or people:",R),a([]),n([]),i([])}finally{m(!1)}},E=async R=>{try{console.log("Joining group:",R),u(!1)}catch(D){console.error("Error joining group:",D)}},L=()=>{x(!0)},P=R=>R.members.some(D=>D.id===t?.id),j=R=>R.creatorId===t?.id,M=()=>{let R=y==="teachers"?o:s;return g&&(R=R.filter(D=>D.name.toLowerCase().includes(g.toLowerCase())||D.bio?.toLowerCase().includes(g.toLowerCase())||D.skills?.some(A=>A.toLowerCase().includes(g.toLowerCase())))),b!=="all"&&(R=R.filter(D=>D.role===b)),R.sort((D,A)=>{let B=0;switch(N){case"name":B=D.name.localeCompare(A.name);break;case"recent":B=new Date(A.lastSeen).getTime()-new Date(D.lastSeen).getTime();break;case"courses":let F=D.courses?.length||D.enrolledCourses?.length||0;B=(A.courses?.length||A.enrolledCourses?.length||0)-F;break}return C==="asc"?B:-B}),R},q=r.filter(R=>R.name.toLowerCase().includes(g.toLowerCase())||R.description.toLowerCase().includes(g.toLowerCase())||R.tags.some(D=>D.toLowerCase().includes(g.toLowerCase())));return v?(0,le.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,le.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,le.jsx)(fa,{showHome:!0}),(0,le.jsxs)("div",{children:[(0,le.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"People & Groups"}),(0,le.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Connect with peers, find teachers, and join study groups"})]})]}),(0,le.jsxs)("div",{className:"flex space-x-3",children:[(0,le.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[(0,le.jsx)(jd,{className:"h-4 w-4 mr-2"}),"Join Group"]}),(0,le.jsxs)("button",{onClick:()=>l(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,le.jsx)(Ut,{className:"h-4 w-4 mr-2"}),"Create Group"]})]})]}),(0,le.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,le.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,le.jsxs)("button",{onClick:()=>p("groups"),className:`py-2 px-1 border-b-2 font-medium text-sm ${y==="groups"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Study Groups (",r.length,")"]}),(0,le.jsxs)("button",{onClick:()=>p("students"),className:`py-2 px-1 border-b-2 font-medium text-sm ${y==="students"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Students (",s.length,")"]}),(0,le.jsxs)("button",{onClick:()=>p("teachers"),className:`py-2 px-1 border-b-2 font-medium text-sm ${y==="teachers"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Teachers (",o.length,")"]})]})}),(0,le.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,le.jsxs)("div",{className:"relative flex-1",children:[(0,le.jsx)(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,le.jsx)("input",{type:"text",placeholder:`Search ${y}...`,value:g,onChange:R=>h(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),y!=="groups"&&(0,le.jsxs)("div",{className:"flex gap-2",children:[(0,le.jsxs)("select",{value:b,onChange:R=>w(R.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,le.jsx)("option",{value:"all",children:"All Roles"}),(0,le.jsx)("option",{value:"STUDENT",children:"Students"}),(0,le.jsx)("option",{value:"TEACHER",children:"Teachers"})]}),(0,le.jsxs)("select",{value:N,onChange:R=>I(R.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,le.jsx)("option",{value:"name",children:"Sort by Name"}),(0,le.jsx)("option",{value:"recent",children:"Sort by Recent"}),(0,le.jsx)("option",{value:"courses",children:"Sort by Courses"})]}),(0,le.jsx)("button",{onClick:()=>S(C==="asc"?"desc":"asc"),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:C==="asc"?(0,le.jsx)(rl,{className:"h-4 w-4"}):(0,le.jsx)(tl,{className:"h-4 w-4"})})]})]}),y==="groups"?(0,le.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.map(R=>(0,le.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[(0,le.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,le.jsxs)("div",{className:"flex-1",children:[(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:R.name}),(0,le.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:R.description}),(0,le.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,le.jsx)(ot,{className:"h-3 w-3 mr-1"}),R.courseName]})]}),R.isPrivate&&(0,le.jsxs)("div",{className:"flex items-center px-2 py-1 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 rounded text-xs",children:[(0,le.jsx)(pr,{className:"h-3 w-3 mr-1"}),"Private"]})]}),(0,le.jsx)("div",{className:"mb-4",children:(0,le.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,le.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Members (",R.members.length,"/",R.maxMembers,")"]}),(0,le.jsxs)("div",{className:"flex -space-x-2",children:[R.members.slice(0,3).map(D=>(0,le.jsx)("div",{className:`w-6 h-6 rounded-full border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs font-medium ${D.isOnline?"bg-green-500 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300"}`,title:D.name,children:D.name.charAt(0)},D.id)),R.members.length>3&&(0,le.jsxs)("div",{className:"w-6 h-6 rounded-full border-2 border-white dark:border-gray-800 bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-xs text-gray-600 dark:text-gray-400",children:["+",R.members.length-3]})]})]})}),(0,le.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,le.jsxs)("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[(0,le.jsx)(Kt,{className:"h-4 w-4 mr-2"}),R.meetingSchedule]}),(0,le.jsxs)("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[(0,le.jsx)(Md,{className:"h-4 w-4 mr-2"}),R.location]})]}),(0,le.jsx)("div",{className:"mb-4",children:(0,le.jsx)("div",{className:"flex flex-wrap gap-1",children:R.tags.map(D=>(0,le.jsxs)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs",children:["#",D]},D))})}),(0,le.jsx)("div",{className:"flex space-x-2",children:P(R)?(0,le.jsxs)(le.Fragment,{children:[(0,le.jsxs)("button",{onClick:()=>x(!0),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:[(0,le.jsx)(Br,{className:"h-4 w-4 mr-1"}),"Open Chat"]}),j(R)&&(0,le.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,le.jsx)(Zn,{className:"h-4 w-4"})})]}):(0,le.jsxs)("button",{onClick:()=>E(R.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm",children:[(0,le.jsx)(jd,{className:"h-4 w-4 mr-1"}),"Join Group"]})})]},R.id))}):(0,le.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M().map(R=>(0,le.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[(0,le.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,le.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,le.jsxs)("div",{className:"relative",children:[(0,le.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:(0,le.jsx)("span",{className:"text-white font-medium text-lg",children:io(R.name)})}),(0,le.jsx)("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white dark:border-gray-800 ${R.isOnline?"bg-green-500":"bg-gray-400"}`})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:R.name}),(0,le.jsxs)("div",{className:"flex items-center space-x-2",children:[R.role==="TEACHER"?(0,le.jsx)(or,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}):(0,le.jsx)(it,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),(0,le.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300 capitalize",children:R.role.toLowerCase()})]})]})]})}),R.bio&&(0,le.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4 line-clamp-2",children:R.bio}),(0,le.jsxs)("div",{className:"mb-4",children:[(0,le.jsxs)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:[R.role==="TEACHER"?"Teaching":"Enrolled in"," (",R.courses?.length||R.enrolledCourses?.length||0,")"]}),(0,le.jsxs)("div",{className:"space-y-2",children:[(R.courses||R.enrolledCourses||[]).slice(0,2).map(D=>(0,le.jsx)("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:(0,le.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:D.title}),(0,le.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[D.enrollments," students"]})]})},D.id)),(R.courses?.length||R.enrolledCourses?.length||0)>2&&(0,le.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",(R.courses?.length||R.enrolledCourses?.length||0)-2," more"]})]})]}),R.skills&&R.skills.length>0&&(0,le.jsxs)("div",{className:"mb-4",children:[(0,le.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Skills"}),(0,le.jsxs)("div",{className:"flex flex-wrap gap-1",children:[R.skills.slice(0,3).map(D=>(0,le.jsx)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded text-xs",children:D},D)),R.skills.length>3&&(0,le.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",R.skills.length-3," more"]})]})]}),(0,le.jsxs)("div",{className:"mb-4 space-y-1",children:[R.location&&(0,le.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,le.jsx)(Md,{className:"h-3 w-3 mr-1"}),R.location]}),(0,le.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,le.jsx)(xt,{className:"h-3 w-3 mr-1"}),R.isOnline?"Online now":`Last seen ${new Date(R.lastSeen).toLocaleDateString()}`]})]}),(0,le.jsxs)("div",{className:"flex space-x-2",children:[(0,le.jsxs)("button",{onClick:()=>L(),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:[(0,le.jsx)(Br,{className:"h-4 w-4 mr-1"}),"Message"]}),(0,le.jsx)("button",{onClick:()=>x(!0),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm",children:"View Profile"})]})]},R.id))}),q.length===0&&y==="groups"&&(0,le.jsxs)("div",{className:"text-center py-12",children:[(0,le.jsx)(it,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,le.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No study groups found"}),(0,le.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:g?"Try adjusting your search terms":"Create the first study group for this course!"})]}),M().length===0&&y!=="groups"&&(0,le.jsxs)("div",{className:"text-center py-12",children:[(0,le.jsx)(it,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,le.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:["No ",y," found"]}),(0,le.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:g?"Try adjusting your search terms":`No ${y} available yet.`})]}),c&&(0,le.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,le.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4",children:(0,le.jsxs)("div",{className:"p-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Create Study Group"}),(0,le.jsx)("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,le.jsx)(et,{className:"h-5 w-5"})})]}),(0,le.jsxs)("form",{className:"space-y-4",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Group Name"}),(0,le.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter group name"})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),(0,le.jsx)("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Describe your study group"})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Meeting Schedule"}),(0,le.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"e.g., Every Tuesday at 7 PM"})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),(0,le.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"e.g., Online (Zoom) or Campus Library"})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max Members"}),(0,le.jsx)("input",{type:"number",min:"2",max:"20",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",defaultValue:"10"})]}),(0,le.jsxs)("div",{className:"flex items-center",children:[(0,le.jsx)("input",{type:"checkbox",id:"private-group",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,le.jsx)("label",{htmlFor:"private-group",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Private group (requires approval to join)"})]}),(0,le.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,le.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Group"}),(0,le.jsx)("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Cancel"})]})]})]})})}),d&&(0,le.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,le.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4",children:(0,le.jsxs)("div",{className:"p-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Join Study Group"}),(0,le.jsx)("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,le.jsx)(et,{className:"h-5 w-5"})})]}),(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Group Code or Name"}),(0,le.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter group code or search by name"})]}),(0,le.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,le.jsx)("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Join Group"}),(0,le.jsx)("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Cancel"})]})]})]})})}),f&&(0,le.jsx)(HT,{isOpen:f,onClose:()=>x(!1)})]})};var Za=H(he());var Yt=H(he(),1),br=H(JT(),1);function Sl(e,t,r,a){function o(n){return n instanceof r?n:new r(function(s){s(n)})}return new(r||(r=Promise))(function(n,s){function i(d){try{l(a.next(d))}catch(u){s(u)}}function c(d){try{l(a.throw(d))}catch(u){s(u)}}function l(d){d.done?n(d.value):o(d.value).then(i,c)}l((a=a.apply(e,t||[])).next())})}var ZK=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function jc(e,t,r){let a=eQ(e),{webkitRelativePath:o}=e,n=typeof t=="string"?t:typeof o=="string"&&o.length>0?o:`./${e.name}`;return typeof a.path!="string"&&ZT(a,"path",n),r!==void 0&&Object.defineProperty(a,"handle",{value:r,writable:!1,configurable:!1,enumerable:!0}),ZT(a,"relativePath",n),a}function eQ(e){let{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){let a=t.split(".").pop().toLowerCase(),o=ZK.get(a);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}function ZT(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}var tQ=[".DS_Store","Thumbs.db"];function Wk(e){return Sl(this,void 0,void 0,function*(){return Tv(e)&&rQ(e.dataTransfer)?sQ(e.dataTransfer,e.type):aQ(e)?oQ(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?nQ(e):[]})}function rQ(e){return Tv(e)}function aQ(e){return Tv(e)&&Tv(e.target)}function Tv(e){return typeof e=="object"&&e!==null}function oQ(e){return Vk(e.target.files).map(t=>jc(t))}function nQ(e){return Sl(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>jc(r))})}function sQ(e,t){return Sl(this,void 0,void 0,function*(){if(e.items){let r=Vk(e.items).filter(o=>o.kind==="file");if(t!=="drop")return r;let a=yield Promise.all(r.map(iQ));return e6(r6(a))}return e6(Vk(e.files).map(r=>jc(r)))})}function e6(e){return e.filter(t=>tQ.indexOf(t.name)===-1)}function Vk(e){if(e===null)return[];let t=[];for(let r=0;r<e.length;r++){let a=e[r];t.push(a)}return t}function iQ(e){if(typeof e.webkitGetAsEntry!="function")return t6(e);let t=e.webkitGetAsEntry();return t&&t.isDirectory?a6(t):t6(e,t)}function r6(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?r6(r):[r]],[])}function t6(e,t){return Sl(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){let n=yield e.getAsFileSystemHandle();if(n===null)throw new Error(`${e} is not a File`);if(n!==void 0){let s=yield n.getFile();return s.handle=n,jc(s)}}let a=e.getAsFile();if(!a)throw new Error(`${e} is not a File`);return jc(a,(r=t?.fullPath)!==null&&r!==void 0?r:void 0)})}function lQ(e){return Sl(this,void 0,void 0,function*(){return e.isDirectory?a6(e):cQ(e)})}function a6(e){let t=e.createReader();return new Promise((r,a)=>{let o=[];function n(){t.readEntries(s=>Sl(this,void 0,void 0,function*(){if(s.length){let i=Promise.all(s.map(lQ));o.push(i),n()}else try{let i=yield Promise.all(o);r(i)}catch(i){a(i)}}),s=>{a(s)})}n()})}function cQ(e){return Sl(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(a=>{let o=jc(a,e.fullPath);t(o)},a=>{r(a)})})})}var Dv=H(o6(),1);function n6(e){return fQ(e)||uQ(e)||u6(e)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fQ(e){if(Array.isArray(e))return Kk(e)}function s6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function i6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s6(Object(r),!0).forEach(function(a){d6(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function d6(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gg(e,t){return gQ(e)||pQ(e,t)||u6(e,t)||mQ()}function mQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u6(e,t){if(e){if(typeof e=="string")return Kk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kk(e,t)}}function Kk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function pQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],o=!0,n=!1,s,i;try{for(r=r.call(e);!(o=(s=r.next()).done)&&(a.push(s.value),!(t&&a.length===t));o=!0);}catch(c){n=!0,i=c}finally{try{!o&&r.return!=null&&r.return()}finally{if(n)throw i}}return a}}function gQ(e){if(Array.isArray(e))return e}var hQ=typeof Dv.default=="function"?Dv.default:Dv.default.default,vQ="file-invalid-type",yQ="file-too-large",xQ="file-too-small",bQ="too-many-files";var wQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),a=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:vQ,message:"File type must be ".concat(a)}},l6=function(t){return{code:yQ,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},c6=function(t){return{code:xQ,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},f6={code:bQ,message:"Too many files"};function Qk(e,t){var r=e.type==="application/x-moz-file"||hQ(e,t);return[r,r?null:wQ(t)]}function Yk(e,t,r){if(Uc(e.size))if(Uc(t)&&Uc(r)){if(e.size>r)return[!1,l6(r)];if(e.size<t)return[!1,c6(t)]}else{if(Uc(t)&&e.size<t)return[!1,c6(t)];if(Uc(r)&&e.size>r)return[!1,l6(r)]}return[!0,null]}function Uc(e){return e!=null}function m6(e){var t=e.files,r=e.accept,a=e.minSize,o=e.maxSize,n=e.multiple,s=e.maxFiles,i=e.validator;return!n&&t.length>1||n&&s>=1&&t.length>s?!1:t.every(function(c){var l=Qk(c,r),d=gg(l,1),u=d[0],g=Yk(c,a,o),h=gg(g,1),v=h[0],m=i?i(c):null;return u&&v&&!m})}function hg(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function vg(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Xk(e){e.preventDefault()}function kQ(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function NQ(e){return e.indexOf("Edge/")!==-1}function p6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return kQ(e)||NQ(e)}function ms(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(a){for(var o=arguments.length,n=new Array(o>1?o-1:0),s=1;s<o;s++)n[s-1]=arguments[s];return t.some(function(i){return!hg(a)&&i&&i.apply(void 0,[a].concat(n)),hg(a)})}}function g6(){return"showOpenFilePicker"in window}function h6(e){if(Uc(e)){var t=Object.entries(e).filter(function(r){var a=gg(r,2),o=a[0],n=a[1],s=!0;return b6(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(n)||!n.every(w6))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(r,a){var o=gg(a,2),n=o[0],s=o[1];return i6(i6({},r),{},d6({},n,s))},{});return[{description:"Files",accept:t}]}return e}function v6(e){if(Uc(e))return Object.entries(e).reduce(function(t,r){var a=gg(r,2),o=a[0],n=a[1];return[].concat(n6(t),[o],n6(n))},[]).filter(function(t){return b6(t)||w6(t)}).join(",")}function y6(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function x6(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function b6(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function w6(e){return/^.*\.[\w]+$/.test(e)}var CQ=["children"],SQ=["open"],EQ=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],LQ=["refKey","onChange","onClick"];function IQ(e){return PQ(e)||AQ(e)||C6(e)||RQ()}function RQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PQ(e){if(Array.isArray(e))return Zk(e)}function Jk(e,t){return FQ(e)||DQ(e,t)||C6(e,t)||TQ()}function TQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C6(e,t){if(e){if(typeof e=="string")return Zk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zk(e,t)}}function Zk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function DQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],o=!0,n=!1,s,i;try{for(r=r.call(e);!(o=(s=r.next()).done)&&(a.push(s.value),!(t&&a.length===t));o=!0);}catch(c){n=!0,i=c}finally{try{!o&&r.return!=null&&r.return()}finally{if(n)throw i}}return a}}function FQ(e){if(Array.isArray(e))return e}function k6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k6(Object(r),!0).forEach(function(a){eN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function eN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fv(e,t){if(e==null)return{};var r=OQ(e,t),a,o;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function OQ(e,t){if(e==null)return{};var r={},a=Object.keys(e),o,n;for(n=0;n<a.length;n++)o=a[n],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}var rN=(0,Yt.forwardRef)(function(e,t){var r=e.children,a=Fv(e,CQ),o=aN(a),n=o.open,s=Fv(o,SQ);return(0,Yt.useImperativeHandle)(t,function(){return{open:n}},[n]),Yt.default.createElement(Yt.Fragment,null,r(Xr(Xr({},s),{},{open:n})))});rN.displayName="Dropzone";var S6={disabled:!1,getFilesFromEvent:Wk,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};rN.defaultProps=S6;rN.propTypes={children:br.default.func,accept:br.default.objectOf(br.default.arrayOf(br.default.string)),multiple:br.default.bool,preventDropOnDocument:br.default.bool,noClick:br.default.bool,noKeyboard:br.default.bool,noDrag:br.default.bool,noDragEventsBubbling:br.default.bool,minSize:br.default.number,maxSize:br.default.number,maxFiles:br.default.number,disabled:br.default.bool,getFilesFromEvent:br.default.func,onFileDialogCancel:br.default.func,onFileDialogOpen:br.default.func,useFsAccessApi:br.default.bool,autoFocus:br.default.bool,onDragEnter:br.default.func,onDragLeave:br.default.func,onDragOver:br.default.func,onDrop:br.default.func,onDropAccepted:br.default.func,onDropRejected:br.default.func,onError:br.default.func,validator:br.default.func};var tN={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function aN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Xr(Xr({},S6),e),r=t.accept,a=t.disabled,o=t.getFilesFromEvent,n=t.maxSize,s=t.minSize,i=t.multiple,c=t.maxFiles,l=t.onDragEnter,d=t.onDragLeave,u=t.onDragOver,g=t.onDrop,h=t.onDropAccepted,v=t.onDropRejected,m=t.onFileDialogCancel,y=t.onFileDialogOpen,p=t.useFsAccessApi,f=t.autoFocus,x=t.preventDropOnDocument,b=t.noClick,w=t.noKeyboard,N=t.noDrag,I=t.noDragEventsBubbling,C=t.onError,S=t.validator,k=(0,Yt.useMemo)(function(){return v6(r)},[r]),E=(0,Yt.useMemo)(function(){return h6(r)},[r]),L=(0,Yt.useMemo)(function(){return typeof y=="function"?y:N6},[y]),P=(0,Yt.useMemo)(function(){return typeof m=="function"?m:N6},[m]),j=(0,Yt.useRef)(null),M=(0,Yt.useRef)(null),q=(0,Yt.useReducer)(MQ,tN),R=Jk(q,2),D=R[0],A=R[1],B=D.isFocused,F=D.isFileDialogActive,T=(0,Yt.useRef)(typeof window<"u"&&window.isSecureContext&&p&&g6()),U=function(){!T.current&&F&&setTimeout(function(){if(M.current){var Le=M.current.files;Le.length||(A({type:"closeDialog"}),P())}},300)};(0,Yt.useEffect)(function(){return window.addEventListener("focus",U,!1),function(){window.removeEventListener("focus",U,!1)}},[M,F,P,T]);var O=(0,Yt.useRef)([]),z=function(Le){j.current&&j.current.contains(Le.target)||(Le.preventDefault(),O.current=[])};(0,Yt.useEffect)(function(){return x&&(document.addEventListener("dragover",Xk,!1),document.addEventListener("drop",z,!1)),function(){x&&(document.removeEventListener("dragover",Xk),document.removeEventListener("drop",z))}},[j,x]),(0,Yt.useEffect)(function(){return!a&&f&&j.current&&j.current.focus(),function(){}},[j,f,a]);var X=(0,Yt.useCallback)(function(ze){C?C(ze):console.error(ze)},[C]),J=(0,Yt.useCallback)(function(ze){ze.preventDefault(),ze.persist(),xe(ze),O.current=[].concat(IQ(O.current),[ze.target]),vg(ze)&&Promise.resolve(o(ze)).then(function(Le){if(!(hg(ze)&&!I)){var Qe=Le.length,ir=Qe>0&&m6({files:Le,accept:k,minSize:s,maxSize:n,multiple:i,maxFiles:c,validator:S}),Ft=Qe>0&&!ir;A({isDragAccept:ir,isDragReject:Ft,isDragActive:!0,type:"setDraggedFiles"}),l&&l(ze)}}).catch(function(Le){return X(Le)})},[o,l,X,I,k,s,n,i,c,S]),K=(0,Yt.useCallback)(function(ze){ze.preventDefault(),ze.persist(),xe(ze);var Le=vg(ze);if(Le&&ze.dataTransfer)try{ze.dataTransfer.dropEffect="copy"}catch{}return Le&&u&&u(ze),!1},[u,I]),ue=(0,Yt.useCallback)(function(ze){ze.preventDefault(),ze.persist(),xe(ze);var Le=O.current.filter(function(ir){return j.current&&j.current.contains(ir)}),Qe=Le.indexOf(ze.target);Qe!==-1&&Le.splice(Qe,1),O.current=Le,!(Le.length>0)&&(A({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),vg(ze)&&d&&d(ze))},[j,d,I]),ve=(0,Yt.useCallback)(function(ze,Le){var Qe=[],ir=[];ze.forEach(function(Ft){var hr=Qk(Ft,k),ho=Jk(hr,2),Da=ho[0],Fn=ho[1],ae=Yk(Ft,s,n),Ve=Jk(ae,2),tr=Ve[0],Dr=Ve[1],Fr=S?S(Ft):null;if(Da&&tr&&!Fr)Qe.push(Ft);else{var On=[Fn,Dr];Fr&&(On=On.concat(Fr)),ir.push({file:Ft,errors:On.filter(function(Hc){return Hc})})}}),(!i&&Qe.length>1||i&&c>=1&&Qe.length>c)&&(Qe.forEach(function(Ft){ir.push({file:Ft,errors:[f6]})}),Qe.splice(0)),A({acceptedFiles:Qe,fileRejections:ir,isDragReject:ir.length>0,type:"setFiles"}),g&&g(Qe,ir,Le),ir.length>0&&v&&v(ir,Le),Qe.length>0&&h&&h(Qe,Le)},[A,i,k,s,n,c,g,h,v,S]),tt=(0,Yt.useCallback)(function(ze){ze.preventDefault(),ze.persist(),xe(ze),O.current=[],vg(ze)&&Promise.resolve(o(ze)).then(function(Le){hg(ze)&&!I||ve(Le,ze)}).catch(function(Le){return X(Le)}),A({type:"reset"})},[o,ve,X,I]),qe=(0,Yt.useCallback)(function(){if(T.current){A({type:"openDialog"}),L();var ze={multiple:i,types:E};window.showOpenFilePicker(ze).then(function(Le){return o(Le)}).then(function(Le){ve(Le,null),A({type:"closeDialog"})}).catch(function(Le){y6(Le)?(P(Le),A({type:"closeDialog"})):x6(Le)?(T.current=!1,M.current?(M.current.value=null,M.current.click()):X(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):X(Le)});return}M.current&&(A({type:"openDialog"}),L(),M.current.value=null,M.current.click())},[A,L,P,p,ve,X,E,i]),pe=(0,Yt.useCallback)(function(ze){!j.current||!j.current.isEqualNode(ze.target)||(ze.key===" "||ze.key==="Enter"||ze.keyCode===32||ze.keyCode===13)&&(ze.preventDefault(),qe())},[j,qe]),re=(0,Yt.useCallback)(function(){A({type:"focus"})},[]),Te=(0,Yt.useCallback)(function(){A({type:"blur"})},[]),ne=(0,Yt.useCallback)(function(){b||(p6()?setTimeout(qe,0):qe())},[b,qe]),de=function(Le){return a?null:Le},Re=function(Le){return w?null:de(Le)},Be=function(Le){return N?null:de(Le)},xe=function(Le){I&&Le.stopPropagation()},Et=(0,Yt.useMemo)(function(){return function(){var ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Le=ze.refKey,Qe=Le===void 0?"ref":Le,ir=ze.role,Ft=ze.onKeyDown,hr=ze.onFocus,ho=ze.onBlur,Da=ze.onClick,Fn=ze.onDragEnter,ae=ze.onDragOver,Ve=ze.onDragLeave,tr=ze.onDrop,Dr=Fv(ze,EQ);return Xr(Xr(eN({onKeyDown:Re(ms(Ft,pe)),onFocus:Re(ms(hr,re)),onBlur:Re(ms(ho,Te)),onClick:de(ms(Da,ne)),onDragEnter:Be(ms(Fn,J)),onDragOver:Be(ms(ae,K)),onDragLeave:Be(ms(Ve,ue)),onDrop:Be(ms(tr,tt)),role:typeof ir=="string"&&ir!==""?ir:"presentation"},Qe,j),!a&&!w?{tabIndex:0}:{}),Dr)}},[j,pe,re,Te,ne,J,K,ue,tt,w,N,a]),ft=(0,Yt.useCallback)(function(ze){ze.stopPropagation()},[]),Lt=(0,Yt.useMemo)(function(){return function(){var ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Le=ze.refKey,Qe=Le===void 0?"ref":Le,ir=ze.onChange,Ft=ze.onClick,hr=Fv(ze,LQ),ho=eN({accept:k,multiple:i,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:de(ms(ir,tt)),onClick:de(ms(Ft,ft)),tabIndex:-1},Qe,M);return Xr(Xr({},ho),hr)}},[M,r,i,tt,a]);return Xr(Xr({},D),{},{isFocused:B&&!a,getRootProps:Et,getInputProps:Lt,rootRef:j,inputRef:M,open:de(qe)})}function MQ(e,t){switch(t.type){case"focus":return Xr(Xr({},e),{},{isFocused:!0});case"blur":return Xr(Xr({},e),{},{isFocused:!1});case"openDialog":return Xr(Xr({},tN),{},{isFileDialogActive:!0});case"closeDialog":return Xr(Xr({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Xr(Xr({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Xr(Xr({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Xr({},tN);default:return e}}function N6(){}Rt();var Oe=H(se()),E6=({courseId:e,userId:t,mode:r})=>{let{user:a}=Ge(),[o,n]=(0,Za.useState)([]),[s,i]=(0,Za.useState)([]),[c,l]=(0,Za.useState)([]),[d,u]=(0,Za.useState)("grid"),[g,h]=(0,Za.useState)("date"),[v,m]=(0,Za.useState)("desc"),[y,p]=(0,Za.useState)(""),[f,x]=(0,Za.useState)("all"),[b,w]=(0,Za.useState)(!0),N=[{id:"documents",name:"Documents",color:"bg-blue-500",icon:(0,Oe.jsx)(jt,{className:"h-4 w-4"})},{id:"images",name:"Images",color:"bg-green-500",icon:(0,Oe.jsx)(ll,{className:"h-4 w-4"})},{id:"videos",name:"Videos",color:"bg-purple-500",icon:(0,Oe.jsx)(Bt,{className:"h-4 w-4"})},{id:"audio",name:"Audio",color:"bg-yellow-500",icon:(0,Oe.jsx)(cl,{className:"h-4 w-4"})},{id:"archives",name:"Archives",color:"bg-red-500",icon:(0,Oe.jsx)(Dd,{className:"h-4 w-4"})},{id:"other",name:"Other",color:"bg-gray-500",icon:(0,Oe.jsx)(ba,{className:"h-4 w-4"})}];(0,Za.useEffect)(()=>{I()},[e,t,r,s]);let I=async()=>{try{w(!0);let O=[];r==="course"&&e?O=await ai({courseId:e}):r==="personal"&&t?O=await ai({userId:t}):r==="shared"&&(O=await ai({shared:!0})),n(O)}catch(O){console.error("Error loading files:",O),n([])}finally{w(!1)}},C=(0,Za.useCallback)(()=>{},[]),{getRootProps:S,getInputProps:k,isDragActive:E}=aN({onDrop:C,accept:{"image/*":[".png",".jpg",".jpeg",".gif",".svg"],"video/*":[".mp4",".avi",".mov",".wmv"],"audio/*":[".mp3",".wav",".flac",".aac"],"application/pdf":[".pdf"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/zip":[".zip"],"application/x-rar-compressed":[".rar"]},multiple:!0}),L=async O=>{if(confirm("Are you sure you want to delete this file?"))try{await Ww(O),n(z=>z.filter(X=>X.id!==O))}catch(z){console.error("Error deleting file:",z)}},P=O=>{console.log("Share file:",O.originalName),alert(`Sharing ${O.originalName} - Feature coming soon!`)},j=O=>{console.log("View file details:",O.originalName),alert(`File Details for ${O.originalName} - Feature coming soon!`)},M=async O=>{try{let X=await(await fetch(O.url)).blob(),J=window.URL.createObjectURL(X),K=document.createElement("a");K.href=J,K.download=O.originalName,document.body.appendChild(K),K.click(),window.URL.revokeObjectURL(J),document.body.removeChild(K)}catch(z){console.error("Error downloading file:",z)}},q=O=>{l(z=>z.includes(O)?z.filter(X=>X!==O):[...z,O])},R=O=>{let z=O.mimeType;return z.startsWith("image/")?(0,Oe.jsx)(ll,{className:"h-6 w-6 text-green-500"}):z.startsWith("video/")?(0,Oe.jsx)(Bt,{className:"h-6 w-6 text-purple-500"}):z.startsWith("audio/")?(0,Oe.jsx)(cl,{className:"h-6 w-6 text-yellow-500"}):z==="application/pdf"?(0,Oe.jsx)(jt,{className:"h-6 w-6 text-red-500"}):z.includes("word")?(0,Oe.jsx)(jt,{className:"h-6 w-6 text-blue-500"}):z.includes("excel")||z.includes("spreadsheet")?(0,Oe.jsx)(jt,{className:"h-6 w-6 text-green-600"}):z.includes("zip")||z.includes("rar")?(0,Oe.jsx)(Dd,{className:"h-6 w-6 text-orange-500"}):(0,Oe.jsx)(ba,{className:"h-6 w-6 text-gray-500"})},D=O=>{let z=O.mimeType;return z.startsWith("image/")?"images":z.startsWith("video/")?"videos":z.startsWith("audio/")?"audio":z==="application/pdf"||z.includes("word")||z.includes("excel")?"documents":z.includes("zip")||z.includes("rar")?"archives":"other"},A=O=>{if(O===0)return"0 Bytes";let z=1024,X=["Bytes","KB","MB","GB"],J=Math.floor(Math.log(O)/Math.log(z));return parseFloat((O/Math.pow(z,J)).toFixed(2))+" "+X[J]},B=O=>new Date(O).toLocaleDateString(),T=[...o.filter(O=>{let z=O.originalName.toLowerCase().includes(y.toLowerCase()),X=f==="all"||D(O)===f;return z&&X})].sort((O,z)=>{let X=0;switch(g){case"name":X=O.originalName.localeCompare(z.originalName);break;case"date":X=new Date(O.createdAt).getTime()-new Date(z.createdAt).getTime();break;case"size":X=O.size-z.size;break;case"type":X=O.mimeType.localeCompare(z.mimeType);break}return v==="asc"?X:-X}),U=()=>{i([])};return b?(0,Oe.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,Oe.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:(0,Oe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between py-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsx)(ba,{className:"h-8 w-8 text-blue-600"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"File Manager"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:r==="course"?"Course Materials":r==="personal"?"My Files":"Shared Files"})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsxs)("button",{onClick:()=>{alert("File upload feature coming soon!")},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Oe.jsx)(ba,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),(0,Oe.jsxs)("button",{onClick:()=>{alert("Folder creation feature coming soon!")},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,Oe.jsx)(il,{className:"h-4 w-4 mr-2"}),"New Folder"]})]})]})})}),(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Oe.jsx)("div",{className:"mb-6",children:(0,Oe.jsxs)("nav",{className:"flex items-center space-x-2 text-sm",children:[(0,Oe.jsx)("button",{onClick:U,className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Home"}),s.map((O,z)=>(0,Oe.jsxs)(Za.default.Fragment,{children:[(0,Oe.jsx)("span",{className:"text-gray-400",children:"/"}),(0,Oe.jsx)("button",{onClick:()=>i(s.slice(0,z+1)),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:O})]},z))]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 mb-6",children:(0,Oe.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)(Pt,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,Oe.jsx)("input",{type:"text",placeholder:"Search files...",value:y,onChange:O=>p(O.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,Oe.jsxs)("select",{value:f,onChange:O=>x(O.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,Oe.jsx)("option",{value:"all",children:"All Types"}),N.map(O=>(0,Oe.jsx)("option",{value:O.id,children:O.name},O.id))]}),(0,Oe.jsxs)("select",{value:g,onChange:O=>h(O.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,Oe.jsx)("option",{value:"date",children:"Date"}),(0,Oe.jsx)("option",{value:"name",children:"Name"}),(0,Oe.jsx)("option",{value:"size",children:"Size"}),(0,Oe.jsx)("option",{value:"type",children:"Type"})]}),(0,Oe.jsx)("button",{onClick:()=>m(v==="asc"?"desc":"asc"),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:v==="asc"?"\u2191":"\u2193"})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>u("grid"),className:`p-2 rounded ${d==="grid"?"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:(0,Oe.jsx)(so,{className:"h-4 w-4"})}),(0,Oe.jsx)("button",{onClick:()=>u("list"),className:`p-2 rounded ${d==="list"?"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:(0,Oe.jsx)(Co,{className:"h-4 w-4"})})]})]})}),(0,Oe.jsxs)("div",{...S(),className:`border-2 border-dashed rounded-lg p-8 text-center mb-6 transition-colors ${E?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,children:[(0,Oe.jsx)("input",{...k()}),(0,Oe.jsx)(ba,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Oe.jsx)("p",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:E?"Drop files here":"Drag & drop files here"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"or click to select files"})]}),T.length===0?(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)(il,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No files found"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:y||f!=="all"?"Try adjusting your search or filters":"Upload your first file to get started"}),!y&&f==="all"&&(0,Oe.jsxs)("button",{onClick:()=>{alert("File upload feature coming soon!")},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors mx-auto",children:[(0,Oe.jsx)(ba,{className:"h-4 w-4 mr-2"}),"Upload Files"]})]}):(0,Oe.jsx)("div",{className:d==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-2",children:T.map(O=>(0,Oe.jsx)("div",{className:`bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 hover:shadow-md transition-shadow ${c.includes(O.id)?"ring-2 ring-blue-500":""}`,children:d==="grid"?(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("input",{type:"checkbox",checked:c.includes(O.id),onChange:()=>q(O.id),className:"rounded border-gray-300 dark:border-gray-600"}),(0,Oe.jsx)("div",{className:"relative",children:(0,Oe.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Oe.jsx)(ep,{className:"h-4 w-4"})})})]}),(0,Oe.jsxs)("div",{className:"text-center",children:[R(O),(0,Oe.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mt-2 truncate",children:O.originalName}),(0,Oe.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:A(O.size)})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[(0,Oe.jsx)("span",{children:B(O.createdAt)}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Oe.jsx)("button",{onClick:()=>M(O),className:"p-1 hover:text-blue-600 dark:hover:text-blue-400",children:(0,Oe.jsx)(Wr,{className:"h-4 w-4"})}),(0,Oe.jsx)("button",{onClick:()=>P(O),className:"p-1 hover:text-green-600 dark:hover:text-green-400",children:(0,Oe.jsx)(So,{className:"h-4 w-4"})}),(0,Oe.jsx)("button",{onClick:()=>j(O),className:"p-1 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Oe.jsx)(Nr,{className:"h-4 w-4"})})]})]})]}):(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsx)("input",{type:"checkbox",checked:c.includes(O.id),onChange:()=>q(O.id),className:"rounded border-gray-300 dark:border-gray-600"}),R(O),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white truncate",children:O.originalName}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[A(O.size)," \u2022 ",B(O.createdAt)]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>M(O),className:"p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",children:(0,Oe.jsx)(Wr,{className:"h-4 w-4"})}),(0,Oe.jsx)("button",{onClick:()=>P(O),className:"p-2 text-gray-400 hover:text-green-600 dark:hover:text-green-400",children:(0,Oe.jsx)(So,{className:"h-4 w-4"})}),(0,Oe.jsx)("button",{onClick:()=>j(O),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Oe.jsx)(Nr,{className:"h-4 w-4"})}),(0,Oe.jsx)("button",{onClick:()=>L(O.id),className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400",children:(0,Oe.jsx)(gr,{className:"h-4 w-4"})})]})]})},O.id))})]})]})};var Ca=H(se()),L6=()=>(0,Ca.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:[(0,Ca.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 shadow-sm",children:(0,Ca.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ca.jsxs)("div",{className:"flex items-center justify-between py-6",children:[(0,Ca.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ca.jsx)(fa,{showHome:!0}),(0,Ca.jsx)(il,{className:"h-8 w-8 text-blue-600"}),(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"File Management"}),(0,Ca.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Organize and share your files"})]})]}),(0,Ca.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ca.jsxs)("button",{className:"flex items-center px-5 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold",children:[(0,Ca.jsx)(fl,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),(0,Ca.jsxs)("button",{className:"flex items-center px-5 py-2.5 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold",children:[(0,Ca.jsx)(Bm,{className:"h-4 w-4 mr-2"}),"New Folder"]})]})]})})}),(0,Ca.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Ca.jsx)(E6,{mode:"personal"})})]});var Tr=H(he());Rt();var te=H(se()),Ov=()=>{let{user:e,token:t}=Ge(),r=lr(),a=ya(),[o,n]=(0,Tr.useState)([]),[s,i]=(0,Tr.useState)(null),[c,l]=(0,Tr.useState)([]),[d,u]=(0,Tr.useState)([]),[g,h]=(0,Tr.useState)(""),[v,m]=(0,Tr.useState)(""),[y,p]=(0,Tr.useState)(!1),[f,x]=(0,Tr.useState)(!1),[b,w]=(0,Tr.useState)([]),[N,I]=(0,Tr.useState)([]),[C,S]=(0,Tr.useState)(!1),[k,E]=(0,Tr.useState)(!1),[L,P]=(0,Tr.useState)(null),[j,M]=(0,Tr.useState)(new Set),q=(0,Tr.useRef)(null),R=(0,Tr.useRef)(null),[D,A]=(0,Tr.useState)(!1);(0,Tr.useEffect)(()=>{if(e&&t){Lr.connect(t,e.id),A(Lr.isConnected());let re=Re=>{s&&Re.conversationId===s.id&&(l(Be=>[...Be,Re]),X()),B()},Te=Re=>{s&&Re.conversationId===s.id&&M(Be=>{let xe=new Set(Be);return Re.isTyping?xe.add(Re.userId):xe.delete(Re.userId),xe})},ne=Re=>{Re.conversationId&&s&&Re.conversationId===s.id&&l(Be=>Be.map(xe=>Re.messageId&&xe.id===Re.messageId?{...xe,readBy:[...xe.readBy||[],{id:"",userId:Re.userId,user:{id:Re.userId,username:"",email:""},readAt:Re.readAt}]}:xe))},de=Re=>{s&&Re.message.conversationId===s.id&&l(Be=>Be.map(xe=>xe.id===Re.messageId?Re.message:xe))};return Lr.onMessage(re),Lr.onTyping(Te),Lr.onRead(ne),Lr.onReaction(de),()=>{Lr.offMessage(re),Lr.offTyping(Te),Lr.offRead(ne),Lr.offReaction(de),Lr.disconnect()}}},[e,t,s]),(0,Tr.useEffect)(()=>{B(),U(),r.pathname.includes("/new")&&E(!0),a.conversationId&&F(a.conversationId)},[r.pathname,a.conversationId]),(0,Tr.useEffect)(()=>(s&&(T(),Wl(s.id),Lr.joinConversation(s.id,e?.id||"")),()=>{s&&Lr.leaveConversation(s.id)}),[s]),(0,Tr.useEffect)(()=>{X()},[c]),(0,Tr.useEffect)(()=>{let re=o.filter(Te=>{if(!g)return!0;let ne=g.toLowerCase();return Te.name?.toLowerCase().includes(ne)||Te.description?.toLowerCase().includes(ne)?!0:Te.participants.some(de=>de.user.username.toLowerCase().includes(ne)||de.user.email.toLowerCase().includes(ne))});w(re)},[g,o]);let B=async()=>{try{let re=await pn({limit:100});n(re.data),w(re.data)}catch(re){console.error("Error loading conversations:",re),n([])}},F=async re=>{try{let Te=o.find(ne=>ne.id===re);if(Te)i(Te);else{let{getConversation:ne}=await Promise.resolve().then(()=>(Rt(),t1)),de=await ne(re);i(de)}}catch(Te){console.error("Error loading conversation:",Te)}},T=async()=>{if(s)try{p(!0);let re=await xm(s.id,{limit:50});l(re.data)}catch(re){console.error("Error loading messages:",re),l([])}finally{p(!1)}},U=async()=>{try{let re=await Vw();u(re.filter(Te=>Te.id!==e?.id))}catch(re){console.error("Error loading users:",re),u([])}},O=async re=>{if(!(!re.trim()&&N.length===0)&&!(!s&&!L))try{x(!0);let Te=[];for(let de of N)try{let Re=await Av(de.file),Be=await bm({file:Re,filename:de.name,contentType:de.type||"application/octet-stream",conversationId:s?.id});Te.push({filename:Be.filename,url:Be.url,size:Be.size,mimeType:Be.contentType})}catch(Re){console.error("Error uploading attachment:",Re)}let ne=s?.id;if(!ne&&L){let de=await x0({type:"direct",participantIds:[L.id]});ne=de.id,i(de),P(null),E(!1),await B(),Lr.joinConversation(ne,e?.id||"")}if(!ne)return;await ym({conversationId:ne,content:re.trim(),type:Te.length>0?"file":"text",attachments:Te.length>0?Te:void 0}),Lr.sendMessage({conversationId:ne,content:re.trim(),type:Te.length>0?"file":"text",attachments:Te}),m(""),I([]),await T(),await B()}catch(Te){console.error("Error sending message:",Te)}finally{x(!1)}},z=async re=>{try{let Te=await x0({type:"direct",participantIds:[re]});i(Te),P(null),E(!1),await B()}catch(Te){console.error("Error creating conversation:",Te)}},X=()=>{R.current?.scrollIntoView({behavior:"smooth"})},J=re=>{try{if(!re)return"";let Te=new Date(re);if(isNaN(Te.getTime()))return"";let de=(new Date().getTime()-Te.getTime())/(1e3*60*60);return de<24?Te.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):de<48?"Yesterday":Te.toLocaleDateString()}catch{return""}},K=re=>{re.key==="Enter"&&!re.shiftKey&&(re.preventDefault(),O(v))},ue=re=>{I(Te=>[...Te,...re])},ve=re=>{I(Te=>Te.filter(ne=>ne.id!==re))},tt=re=>re.type==="direct"?re.participants.find(Te=>Te.userId!==e?.id)?.user:null,qe=re=>{if(re.name)return re.name;if(re.type==="direct"){let Te=tt(re);return Te?.username||Te?.email||"Unknown User"}return"Group Chat"},pe=re=>{if(re.type==="direct")return tt(re)?.avatarUrl||void 0};return(0,te.jsxs)("div",{className:"messages-page",children:[(0,te.jsx)("div",{className:"courses-header",children:(0,te.jsxs)("div",{className:"courses-header-content",children:[(0,te.jsxs)("div",{className:"courses-header-text",children:[(0,te.jsx)("h1",{className:"courses-header-title",children:"Messages"}),(0,te.jsx)("p",{className:"courses-header-subtitle",children:"Connect with instructors and fellow learners"})]}),(0,te.jsxs)("button",{onClick:()=>E(!0),className:"courses-create-button",children:[(0,te.jsx)(Ut,{className:"courses-create-button-icon"}),"New Conversation"]})]})}),(0,te.jsx)("div",{className:"messages-container",children:k?(0,te.jsxs)("div",{className:"messages-new-mode",children:[(0,te.jsxs)("div",{className:"messages-user-selection",children:[(0,te.jsxs)("div",{className:"messages-user-selection-header",children:[(0,te.jsx)("h3",{className:"messages-user-selection-title",children:"Select Recipient"}),(0,te.jsxs)("div",{className:"messages-search-wrapper",children:[(0,te.jsx)(Pt,{className:"messages-search-icon"}),(0,te.jsx)("input",{type:"text",placeholder:"Search users...",value:g,onChange:re=>h(re.target.value),className:"messages-search-input"})]})]}),(0,te.jsx)("div",{className:"messages-user-list",children:d.filter(re=>re.name.toLowerCase().includes(g.toLowerCase())||re.email.toLowerCase().includes(g.toLowerCase())).map(re=>(0,te.jsx)("div",{onClick:()=>{P(re),z(re.id)},className:`messages-user-item ${L?.id===re.id?"messages-user-item--selected":""}`,children:(0,te.jsxs)("div",{className:"messages-user-item-content",children:[(0,te.jsx)("div",{className:"messages-user-avatar",children:(0,te.jsx)("span",{className:"messages-user-avatar-text",children:re.name.charAt(0)})}),(0,te.jsxs)("div",{className:"messages-user-info",children:[(0,te.jsx)("p",{className:"messages-user-name",children:re.name}),(0,te.jsx)("p",{className:"messages-user-email",children:re.email})]})]})},re.id))})]}),(0,te.jsx)("div",{className:"messages-composition",children:s?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)("div",{className:"messages-recipient-header",children:[(0,te.jsxs)("div",{className:"messages-recipient-info",children:[(0,te.jsx)("div",{className:"messages-recipient-avatar",children:(0,te.jsx)("span",{children:qe(s).charAt(0)})}),(0,te.jsx)("div",{children:(0,te.jsx)("h3",{className:"messages-recipient-name",children:qe(s)})})]}),(0,te.jsx)("button",{onClick:()=>{E(!1),i(null),P(null),m("")},className:"messages-close-button",children:(0,te.jsx)(et,{className:"messages-close-button-icon"})})]}),(0,te.jsxs)("div",{className:"messages-composition-area",children:[(0,te.jsx)("div",{className:"messages-textarea-wrapper",children:(0,te.jsx)("textarea",{value:v,onChange:re=>m(re.target.value),onKeyPress:K,placeholder:"Type your message here...",className:"messages-textarea",rows:10})}),N.length>0&&(0,te.jsx)("div",{className:"messages-attachments-preview",children:(0,te.jsx)("div",{className:"messages-attachments-list",children:N.map(re=>(0,te.jsxs)("div",{className:"messages-attachment-item",children:[re.preview?(0,te.jsx)("img",{src:re.preview,alt:re.name,className:"messages-attachment-preview"}):(0,te.jsx)("div",{className:"messages-attachment-icon",children:(0,te.jsx)(ba,{})}),(0,te.jsxs)("div",{className:"messages-attachment-info",children:[(0,te.jsx)("p",{className:"messages-attachment-name",children:re.name}),(0,te.jsx)("p",{className:"messages-attachment-size",children:$T(re.size)})]}),(0,te.jsx)("button",{onClick:()=>ve(re.id),className:"messages-attachment-remove",children:(0,te.jsx)(et,{className:"messages-close-button-icon"})})]},re.id))})}),(0,te.jsxs)("div",{className:"messages-composition-actions",children:[(0,te.jsx)("div",{className:"messages-composition-left",children:(0,te.jsx)("button",{ref:q,onClick:()=>S(!C),className:"messages-attachment-button",children:(0,te.jsx)(di,{className:"messages-attachment-button-icon"})})}),(0,te.jsxs)("div",{className:"messages-composition-right",children:[(0,te.jsx)("button",{onClick:()=>{E(!1),i(null),P(null),m("")},className:"messages-cancel-button",children:"Cancel"}),(0,te.jsxs)("button",{onClick:()=>O(v),disabled:!v.trim()&&N.length===0||f,className:"messages-send-button",children:[f?(0,te.jsx)("div",{className:"messages-send-spinner"}):(0,te.jsx)(Ho,{className:"messages-send-button-icon"}),"Send"]})]})]})]})]}):(0,te.jsx)("div",{className:"messages-empty-state",children:(0,te.jsxs)("div",{className:"messages-empty-state-content",children:[(0,te.jsx)(Br,{className:"messages-empty-state-icon"}),(0,te.jsx)("h3",{className:"messages-empty-state-title",children:"Select a recipient"}),(0,te.jsx)("p",{className:"messages-empty-state-text",children:"Choose someone from the list to start a new conversation"})]})})})]}):(0,te.jsxs)("div",{className:"messages-regular-interface",children:[(0,te.jsxs)("div",{className:"messages-conversations-list",children:[(0,te.jsx)("div",{className:"messages-conversations-search",children:(0,te.jsxs)("div",{className:"messages-conversations-search-wrapper",children:[(0,te.jsx)(Pt,{className:"messages-conversations-search-icon"}),(0,te.jsx)("input",{type:"text",placeholder:"Search conversations...",value:g,onChange:re=>h(re.target.value),className:"messages-conversations-search-input"})]})}),(0,te.jsx)("div",{className:"messages-conversations-scroll",children:b.length>0?b.map(re=>{let Te=s?.id===re.id;return(0,te.jsx)("div",{onClick:()=>{i(re),Wl(re.id)},className:`messages-conversation-item ${Te?"messages-conversation-item--selected":""}`,children:(0,te.jsxs)("div",{className:"messages-conversation-content",children:[(0,te.jsx)("div",{className:"messages-conversation-avatar",children:pe(re)?(0,te.jsx)("img",{src:pe(re),alt:qe(re)}):(0,te.jsx)("span",{children:qe(re).charAt(0)})}),(0,te.jsxs)("div",{className:"messages-conversation-info",children:[(0,te.jsxs)("div",{className:"messages-conversation-header",children:[(0,te.jsx)("p",{className:"messages-conversation-name",children:qe(re)}),re.unreadCount>0&&(0,te.jsx)("span",{className:"messages-conversation-unread",children:re.unreadCount>99?"99+":re.unreadCount})]}),re.lastMessage&&(0,te.jsx)("p",{className:"messages-conversation-preview",children:re.lastMessage.content})]})]})},re.id)}):(0,te.jsx)("div",{className:"messages-conversations-empty",children:(0,te.jsxs)("div",{className:"messages-conversations-empty-content",children:[(0,te.jsx)(Br,{className:"messages-conversations-empty-icon"}),(0,te.jsx)("p",{className:"messages-conversations-empty-title",children:"No conversations yet"}),(0,te.jsx)("p",{className:"messages-conversations-empty-text",children:"Start a new conversation to get started"})]})})})]}),(0,te.jsx)("div",{className:"messages-view",children:s?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)("div",{className:"messages-conversation-header-bar",children:[(0,te.jsxs)("div",{className:"messages-conversation-header-left",children:[(0,te.jsx)("div",{className:"messages-conversation-header-avatar",children:pe(s)?(0,te.jsx)("img",{src:pe(s),alt:qe(s)}):(0,te.jsx)("span",{children:qe(s).charAt(0)})}),(0,te.jsxs)("div",{className:"messages-conversation-header-info",children:[(0,te.jsx)("h3",{className:"messages-conversation-header-name",children:qe(s)}),s.type==="group"&&(0,te.jsxs)("p",{className:"messages-conversation-header-meta",children:[s.participants.length," participants"]})]})]}),(0,te.jsxs)("div",{className:"messages-conversation-header-actions",children:[(0,te.jsx)("button",{className:"messages-header-action-button",children:(0,te.jsx)(Xn,{className:"messages-header-action-icon"})}),(0,te.jsx)("button",{className:"messages-header-action-button",children:(0,te.jsx)(Bt,{className:"messages-header-action-icon"})}),(0,te.jsx)("button",{className:"messages-header-action-button",children:(0,te.jsx)(Is,{className:"messages-header-action-icon"})})]})]}),(0,te.jsxs)("div",{className:"messages-list-container",children:[y?(0,te.jsx)("div",{className:"messages-empty-state",children:(0,te.jsx)("div",{className:"messages-loading-spinner"})}):c.length===0?(0,te.jsx)("div",{className:"messages-empty-state",children:(0,te.jsxs)("div",{className:"messages-empty-state-content",children:[(0,te.jsx)(Br,{className:"messages-empty-state-icon"}),(0,te.jsx)("p",{className:"messages-empty-state-text",children:"No messages yet"})]})}):c.map(re=>{let Te=re.senderId===e?.id;return(0,te.jsx)("div",{className:`messages-message-wrapper ${Te?"messages-message-wrapper--sent":"messages-message-wrapper--received"}`,children:(0,te.jsxs)("div",{className:`messages-message ${Te?"messages-message--sent":"messages-message--received"}`,children:[re.attachments&&re.attachments.length>0&&(0,te.jsx)("div",{className:"messages-message-attachment",children:re.attachments.map((ne,de)=>(0,te.jsx)("div",{children:ne.mimeType.startsWith("image/")?(0,te.jsx)("img",{src:ne.url,alt:ne.filename,className:"messages-message-attachment-image"}):(0,te.jsxs)("a",{href:ne.url,target:"_blank",rel:"noopener noreferrer",className:"messages-message-attachment-file",children:[(0,te.jsx)(ba,{className:"messages-message-attachment-file-icon"}),(0,te.jsx)("div",{className:"messages-message-attachment-file-info",children:(0,te.jsx)("span",{className:"messages-message-attachment-file-name",children:ne.filename})})]})},de))}),(0,te.jsx)("p",{className:"messages-message-content",children:re.content}),(0,te.jsxs)("div",{className:"messages-message-meta",children:[(0,te.jsx)("span",{className:"messages-message-time",children:J(re.createdAt)}),Te&&(0,te.jsx)(ni,{className:`messages-message-status ${re.readBy&&re.readBy.length>0?"messages-message-status--read":"messages-message-status--sent"}`})]})]})},re.id)}),j.size>0&&(0,te.jsxs)("div",{className:"messages-typing-indicator",children:[(0,te.jsx)("span",{children:"Typing"}),(0,te.jsxs)("div",{className:"messages-typing-dots",children:[(0,te.jsx)("div",{className:"messages-typing-dot"}),(0,te.jsx)("div",{className:"messages-typing-dot"}),(0,te.jsx)("div",{className:"messages-typing-dot"})]})]}),(0,te.jsx)("div",{ref:R})]}),(0,te.jsxs)("div",{className:"messages-input-container",children:[N.length>0&&(0,te.jsx)("div",{className:"messages-attachments-preview",children:(0,te.jsx)("div",{className:"messages-attachments-list",children:N.map(re=>(0,te.jsxs)("div",{className:"messages-attachment-item",children:[re.preview?(0,te.jsx)("img",{src:re.preview,alt:re.name,className:"messages-attachment-preview"}):(0,te.jsx)("div",{className:"messages-attachment-icon",children:(0,te.jsx)(ba,{})}),(0,te.jsx)("div",{className:"messages-attachment-info",children:(0,te.jsx)("p",{className:"messages-attachment-name",children:re.name})}),(0,te.jsx)("button",{onClick:()=>ve(re.id),className:"messages-attachment-remove",children:(0,te.jsx)(et,{className:"messages-close-button-icon"})})]},re.id))})}),(0,te.jsxs)("div",{className:"messages-input-wrapper",children:[(0,te.jsx)("button",{ref:q,onClick:()=>S(!C),className:"messages-input-attachment-button",children:(0,te.jsx)(di,{className:"messages-input-attachment-button-icon"})}),(0,te.jsx)("input",{type:"text",value:v,onChange:re=>m(re.target.value),onKeyPress:K,placeholder:"Type a message...",className:"messages-input-field",style:{borderColor:"#E5E7EB",backgroundColor:"white",color:"#0B1E3F",fontSize:"16px"},onFocus:re=>{re.currentTarget.style.borderColor="#00B5AD",re.currentTarget.style.boxShadow="0 0 0 4px rgba(0, 181, 173, 0.1)"},onBlur:re=>{re.currentTarget.style.borderColor="#E5E7EB",re.currentTarget.style.boxShadow="none"}}),(0,te.jsx)("button",{onClick:()=>O(v),disabled:!v.trim()&&N.length===0||f,className:"p-3 rounded-xl text-white transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:f?(0,te.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}):(0,te.jsx)(Ho,{className:"h-5 w-5"})})]})]})]}):null})]})}),!s&&(0,te.jsxs)("div",{className:"messages-mobile-conversations",children:[(0,te.jsx)("div",{className:"messages-mobile-conversations-search",children:(0,te.jsxs)("div",{className:"messages-mobile-conversations-search-wrapper",children:[(0,te.jsx)(Pt,{className:"messages-mobile-conversations-search-icon"}),(0,te.jsx)("input",{type:"text",placeholder:"Search conversations...",value:g,onChange:re=>h(re.target.value),className:"messages-mobile-conversations-search-input"})]})}),(0,te.jsx)("div",{className:"messages-mobile-conversations-scroll",children:b.map(re=>(0,te.jsx)("div",{onClick:()=>{i(re),Wl(re.id)},className:"messages-mobile-conversation-item",children:(0,te.jsxs)("div",{className:"messages-conversation-content",children:[(0,te.jsx)("div",{className:"messages-conversation-avatar",children:pe(re)?(0,te.jsx)("img",{src:pe(re),alt:qe(re)}):(0,te.jsx)("span",{children:qe(re).charAt(0)})}),(0,te.jsxs)("div",{className:"messages-conversation-info",children:[(0,te.jsxs)("div",{className:"messages-conversation-header",children:[(0,te.jsx)("p",{className:"messages-conversation-name",children:qe(re)}),re.unreadCount>0&&(0,te.jsx)("span",{className:"messages-conversation-unread",children:re.unreadCount>99?"99+":re.unreadCount})]}),re.lastMessage&&(0,te.jsx)("p",{className:"messages-conversation-preview",children:re.lastMessage.content})]})]})},re.id))})]}),s&&(0,te.jsxs)("div",{className:"messages-mobile-view",children:[(0,te.jsx)("div",{className:"messages-mobile-chat-header",children:(0,te.jsxs)("div",{className:"messages-mobile-chat-header-left",children:[(0,te.jsx)("button",{onClick:()=>i(null),className:"messages-mobile-back-button",children:(0,te.jsx)(Ka,{className:"messages-mobile-back-button-icon"})}),(0,te.jsx)("div",{className:"messages-mobile-chat-avatar",children:pe(s)?(0,te.jsx)("img",{src:pe(s),alt:qe(s)}):(0,te.jsx)("span",{children:qe(s).charAt(0)})}),(0,te.jsx)("div",{children:(0,te.jsx)("h3",{className:"messages-mobile-chat-name",children:qe(s)})})]})}),(0,te.jsxs)("div",{className:"messages-list-container",children:[c.map(re=>{let Te=re.senderId===e?.id;return(0,te.jsx)("div",{className:`messages-message-wrapper ${Te?"messages-message-wrapper--sent":"messages-message-wrapper--received"}`,children:(0,te.jsxs)("div",{className:`messages-message ${Te?"messages-message--sent":"messages-message--received"}`,children:[(0,te.jsx)("p",{className:"messages-message-content",children:re.content}),(0,te.jsxs)("div",{className:"messages-message-meta",children:[(0,te.jsx)("span",{className:"messages-message-time",children:J(re.createdAt)}),Te&&(0,te.jsx)(ni,{className:`messages-message-status ${re.readBy&&re.readBy.length>0?"messages-message-status--read":"messages-message-status--sent"}`})]})]})},re.id)}),(0,te.jsx)("div",{ref:R})]}),(0,te.jsx)("div",{className:"messages-input-container",children:(0,te.jsxs)("div",{className:"messages-input-wrapper",children:[(0,te.jsx)("button",{ref:q,onClick:()=>S(!C),className:"messages-input-attachment-button",children:(0,te.jsx)(di,{className:"messages-input-attachment-button-icon"})}),(0,te.jsx)("input",{type:"text",value:v,onChange:re=>m(re.target.value),onKeyPress:K,placeholder:"Type a message...",className:"messages-input-field"}),(0,te.jsx)("button",{onClick:()=>O(v),disabled:!v.trim()&&N.length===0||f,className:"messages-input-send-button",children:f?(0,te.jsx)("div",{className:"messages-input-send-spinner"}):(0,te.jsx)(Ho,{className:"messages-input-send-button-icon"})})]})})]}),C&&(0,te.jsx)(Rv,{isOpen:C,onClose:()=>S(!1),onAttachmentsSelected:ue,buttonRef:q})]})};var Mv=H(se()),I6=()=>(0,Mv.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,Mv.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Mv.jsx)(Pv,{})})});var zc=H(he());Rt();var pt=H(se()),_Q=()=>{let[e,t]=(0,zc.useState)([]),[r,a]=(0,zc.useState)(!0),[o,n]=(0,zc.useState)("all"),[s,i]=(0,zc.useState)("all"),c=ht();(0,zc.useEffect)(()=>{l()},[]);let l=async()=>{try{a(!0);let m=await Rw();t(m)}catch(m){console.error("Failed to load assignments:",m)}finally{a(!1)}},d=m=>{let y=m.submissions?.[0];return y?y.gradedAt?"graded":"submitted":"pending"},u=m=>{switch(m){case"graded":return(0,pt.jsx)(Qa,{className:"w-5 h-5 text-green-500"});case"submitted":return(0,pt.jsx)(Ya,{className:"w-5 h-5 text-blue-500"});case"pending":return(0,pt.jsx)(lo,{className:"w-5 h-5 text-yellow-500"});default:return(0,pt.jsx)(ku,{className:"w-5 h-5 text-red-500"})}},g=m=>{switch(m){case"graded":return"Graded";case"submitted":return"Submitted";case"pending":return"Pending";default:return"Overdue"}},h=m=>new Date(m)<new Date,v=e.filter(m=>{let y=d(m);return(o==="all"||m.courseId===o)&&(s==="all"||y===s)});return r?(0,pt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,pt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,pt.jsxs)("div",{className:"animate-pulse",children:[(0,pt.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-6"}),(0,pt.jsx)("div",{className:"space-y-4",children:[...Array(5)].map((m,y)=>(0,pt.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6",children:[(0,pt.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),(0,pt.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]},y))})]})})}):(0,pt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,pt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,pt.jsx)("div",{className:"mb-8",children:(0,pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Assignments"}),(0,pt.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage and track your course assignments"})]}),(0,pt.jsxs)("button",{onClick:()=>c("/assignments/create"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,pt.jsx)(As,{className:"w-4 h-4 mr-2"}),"Create Assignment"]})]})}),(0,pt.jsx)("div",{className:"mb-6 bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",children:(0,pt.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,pt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Course"}),(0,pt.jsx)("select",{value:o,onChange:m=>n(m.target.value),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",children:(0,pt.jsx)("option",{value:"all",children:"All Courses"})})]}),(0,pt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),(0,pt.jsxs)("select",{value:s,onChange:m=>i(m.target.value),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",children:[(0,pt.jsx)("option",{value:"all",children:"All Status"}),(0,pt.jsx)("option",{value:"pending",children:"Pending"}),(0,pt.jsx)("option",{value:"submitted",children:"Submitted"}),(0,pt.jsx)("option",{value:"graded",children:"Graded"})]})]})]})}),(0,pt.jsx)("div",{className:"space-y-4",children:v.length===0?(0,pt.jsxs)("div",{className:"text-center py-12",children:[(0,pt.jsx)(yn,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,pt.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No assignments"}),(0,pt.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:s==="all"?"You have no assignments yet.":`No ${s} assignments found.`})]}):v.map(m=>{let y=d(m),p=h(m.dueDate),f=m.submissions?.[0];return(0,pt.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:(0,pt.jsx)("div",{className:"p-6",children:(0,pt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,pt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,pt.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:m.title}),u(y),(0,pt.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y==="graded"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":y==="submitted"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":p?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:g(y)})]}),(0,pt.jsx)("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:m.description}),(0,pt.jsxs)("div",{className:"mt-4 flex items-center space-x-6 text-sm text-gray-500 dark:text-gray-400",children:[(0,pt.jsxs)("div",{className:"flex items-center",children:[(0,pt.jsx)(Go,{className:"w-4 h-4 mr-1"}),"Due: ",new Date(m.dueDate).toLocaleDateString()]}),(0,pt.jsxs)("div",{className:"flex items-center",children:[(0,pt.jsx)(yn,{className:"w-4 h-4 mr-1"}),m.totalPoints," points"]}),f&&(0,pt.jsxs)("div",{className:"flex items-center",children:[(0,pt.jsx)(Ya,{className:"w-4 h-4 mr-1"}),"Submitted: ",new Date(f.submittedAt).toLocaleDateString()]}),f?.score!==void 0&&(0,pt.jsxs)("div",{className:"flex items-center",children:[(0,pt.jsx)(Qa,{className:"w-4 h-4 mr-1"}),"Score: ",f.score,"/",m.totalPoints]})]})]}),(0,pt.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,pt.jsxs)("button",{onClick:()=>c(`/assignments/${m.id}`),className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,pt.jsx)(es,{className:"w-4 h-4 mr-1"}),"View"]}),y==="pending"&&(0,pt.jsxs)("button",{onClick:()=>c(`/assignments/${m.id}/submit`),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,pt.jsx)(ts,{className:"w-4 h-4 mr-1"}),"Submit"]})]})]})})},m.id)})})]})})},R6=_Q;var Si=H(he());Rt();var nt=H(se()),BQ=()=>{let{assignmentId:e}=ya(),t=ht(),[r,a]=(0,Si.useState)(null),[o,n]=(0,Si.useState)(""),[s,i]=(0,Si.useState)([]),[c,l]=(0,Si.useState)(!0),[d,u]=(0,Si.useState)(!1),[g,h]=(0,Si.useState)("");(0,Si.useEffect)(()=>{e&&v()},[e]);let v=async()=>{try{l(!0);let x=await Pw(e);a(x)}catch(x){console.error("Failed to load assignment:",x),h("Failed to load assignment details")}finally{l(!1)}},m=x=>{let b=Array.from(x.target.files||[]);i(w=>[...w,...b])},y=x=>{i(b=>b.filter((w,N)=>N!==x))},p=async x=>{if(x.preventDefault(),!o.trim()){h("Please provide assignment content");return}try{u(!0),h("");let b=[];for(let w of s)try{let N=new FormData;N.append("file",w),N.append("category","assignment"),N.append("tags","assignment-submission");let I=await k0(N);b.push(I.url)}catch(N){console.error("Failed to upload file:",w.name,N),h(`Failed to upload ${w.name}`);return}await Tw(e,{content:o,attachments:b}),t(`/assignments/${e}`,{state:{message:"Assignment submitted successfully!"}})}catch(b){console.error("Failed to submit assignment:",b),h("Failed to submit assignment. Please try again.")}finally{u(!1)}},f=x=>{if(x===0)return"0 Bytes";let b=1024,w=["Bytes","KB","MB","GB"],N=Math.floor(Math.log(x)/Math.log(b));return parseFloat((x/Math.pow(b,N)).toFixed(2))+" "+w[N]};return c?(0,nt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,nt.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,nt.jsxs)("div",{className:"animate-pulse",children:[(0,nt.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-6"}),(0,nt.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6",children:[(0,nt.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-4"}),(0,nt.jsx)("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded mb-4"})]})]})})}):r?(0,nt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,nt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,nt.jsxs)("div",{className:"mb-8",children:[(0,nt.jsxs)("button",{onClick:()=>t(`/assignments/${e}`),className:"inline-flex items-center text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 mb-4",children:[(0,nt.jsx)(pi,{className:"w-4 h-4 mr-1"}),"Back to Assignment"]}),(0,nt.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Submit Assignment"}),(0,nt.jsxs)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:['Submit your work for "',r.title,'"']})]}),(0,nt.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 mb-6",children:(0,nt.jsxs)("div",{className:"p-6",children:[(0,nt.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:r.title}),(0,nt.jsx)("div",{className:"prose prose-sm max-w-none text-gray-600 dark:text-gray-400 mb-4",children:(0,nt.jsx)("p",{children:r.description})}),(0,nt.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-500 dark:text-gray-400",children:[(0,nt.jsxs)("div",{className:"flex items-center",children:[(0,nt.jsx)(yn,{className:"w-4 h-4 mr-1"}),r.totalPoints," points"]}),(0,nt.jsxs)("div",{className:"flex items-center",children:[(0,nt.jsx)(Qa,{className:"w-4 h-4 mr-1"}),"Due: ",new Date(r.dueDate).toLocaleDateString()]})]})]})}),(0,nt.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:(0,nt.jsx)("div",{className:"p-6",children:(0,nt.jsxs)("form",{onSubmit:p,children:[g&&(0,nt.jsx)("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:(0,nt.jsxs)("div",{className:"flex",children:[(0,nt.jsx)(lo,{className:"w-5 h-5 text-red-400 mr-2"}),(0,nt.jsx)("p",{className:"text-sm text-red-700 dark:text-red-400",children:g})]})}),(0,nt.jsxs)("div",{className:"mb-6",children:[(0,nt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assignment Content *"}),(0,nt.jsx)("textarea",{value:o,onChange:x=>n(x.target.value),rows:12,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Write your assignment content here...",required:!0}),(0,nt.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"You can use markdown formatting for better presentation."})]}),(0,nt.jsxs)("div",{className:"mb-6",children:[(0,nt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Attachments"}),(0,nt.jsx)("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6",children:(0,nt.jsxs)("div",{className:"text-center",children:[(0,nt.jsx)(R0,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,nt.jsx)("div",{className:"mt-2",children:(0,nt.jsxs)("label",{className:"cursor-pointer inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,nt.jsx)(R0,{className:"w-4 h-4 mr-2"}),"Choose Files",(0,nt.jsx)("input",{type:"file",multiple:!0,onChange:m,className:"hidden",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif"})]})}),(0,nt.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"PDF, DOC, DOCX, TXT, JPG, PNG, GIF up to 10MB each"})]})}),s.length>0&&(0,nt.jsxs)("div",{className:"mt-4",children:[(0,nt.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Attached Files (",s.length,")"]}),(0,nt.jsx)("div",{className:"space-y-2",children:s.map((x,b)=>(0,nt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[(0,nt.jsxs)("div",{className:"flex items-center",children:[(0,nt.jsx)(yn,{className:"w-5 h-5 text-gray-400 mr-2"}),(0,nt.jsxs)("div",{children:[(0,nt.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:x.name}),(0,nt.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f(x.size)})]})]}),(0,nt.jsx)("button",{type:"button",onClick:()=>y(b),className:"text-gray-400 hover:text-red-500",children:(0,nt.jsx)(gi,{className:"w-4 h-4"})})]},b))})]})]}),(0,nt.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,nt.jsx)("button",{type:"button",onClick:()=>t(`/assignments/${e}`),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),(0,nt.jsx)("button",{type:"submit",disabled:d||!o.trim(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Assignment"})]})]})})})]})}):(0,nt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,nt.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,nt.jsxs)("div",{className:"text-center",children:[(0,nt.jsx)(lo,{className:"mx-auto h-12 w-12 text-red-500"}),(0,nt.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Assignment not found"}),(0,nt.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"The assignment you're looking for doesn't exist or you don't have access to it."}),(0,nt.jsx)("div",{className:"mt-6",children:(0,nt.jsxs)("button",{onClick:()=>t("/assignments"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[(0,nt.jsx)(pi,{className:"w-4 h-4 mr-2"}),"Back to Assignments"]})})]})})})},oN=BQ;var ps=H(he());Rt();var me=H(se()),qQ=()=>{let[e,t]=(0,ps.useState)([]),[r,a]=(0,ps.useState)(!0),o=lr(),n=ht(),i=new URLSearchParams(o.search).get("courseId"),[c,l]=(0,ps.useState)(i||"all"),[d,u]=(0,ps.useState)("all"),[g,h]=(0,ps.useState)(null),[v,m]=(0,ps.useState)(!1),[y,p]=(0,ps.useState)(null);(0,ps.useEffect)(()=>{i&&l(i)},[i]),(0,ps.useEffect)(()=>{f()},[c,d]);let f=async()=>{try{a(!0);let S={};if(c!=="all"&&(S.courseId=c),d!=="all")switch(d){case"submitted":S.status="submitted";break;case"overdue":S.status="late";break;case"urgent":S.status="late";break}S.page=1,S.limit=50,S.sortBy="submittedAt",S.sortOrder="desc";let k=await Sm(S);t(k.data)}catch(S){console.error("Failed to load submission summaries:",S),t([])}finally{a(!1)}},x=S=>S.overdueCount>0?"urgent":S.submittedCount>0?"submitted":"pending",b=e.filter(S=>{let k=c==="all"||S.courseId===c,E=x(S);return k&&(d==="all"||E===d)&&S.submittedCount>0}),w=S=>{p(S),m(!0)},N=()=>{m(!1),p(null)},I=S=>Math.round(S.submittedCount/S.totalStudents*100),C=S=>{let k=new Date(S),E=new Date,L=Math.floor((k.getTime()-E.getTime())/(1e3*60*60*24));return L<0?`${Math.abs(L)} day${Math.abs(L)===1?"":"s"} ago`:L===0?"today":L===1?"tomorrow":`in ${L} days`};return r?(0,me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,me.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,me.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):(0,me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,me.jsxs)("div",{className:"mb-8",children:[(0,me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Grade Assignments"}),(0,me.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Review and grade student assignment submissions"})]}),(0,me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,me.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",children:(0,me.jsxs)("div",{className:"flex items-center",children:[(0,me.jsx)("div",{className:"flex-shrink-0",children:(0,me.jsx)(yn,{className:"h-8 w-8 text-blue-500"})}),(0,me.jsxs)("div",{className:"ml-4",children:[(0,me.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Assignments to Grade"}),(0,me.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:e.filter(S=>S.submittedCount>0).length})]})]})}),(0,me.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",children:(0,me.jsxs)("div",{className:"flex items-center",children:[(0,me.jsx)("div",{className:"flex-shrink-0",children:(0,me.jsx)(Ya,{className:"h-8 w-8 text-yellow-500"})}),(0,me.jsxs)("div",{className:"ml-4",children:[(0,me.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Pending Reviews"}),(0,me.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:e.reduce((S,k)=>S+k.submittedCount,0)})]})]})}),(0,me.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",children:(0,me.jsxs)("div",{className:"flex items-center",children:[(0,me.jsx)("div",{className:"flex-shrink-0",children:(0,me.jsx)(lo,{className:"h-8 w-8 text-yellow-500"})}),(0,me.jsxs)("div",{className:"ml-4",children:[(0,me.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Overdue"}),(0,me.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:e.reduce((S,k)=>S+k.overdueCount,0)})]})]})}),(0,me.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",children:(0,me.jsxs)("div",{className:"flex items-center",children:[(0,me.jsx)("div",{className:"flex-shrink-0",children:(0,me.jsx)(Qa,{className:"h-8 w-8 text-green-500"})}),(0,me.jsxs)("div",{className:"ml-4",children:[(0,me.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Completed"}),(0,me.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:e.reduce((S,k)=>S+k.gradedCount,0)})]})]})})]}),(0,me.jsx)("div",{className:"mb-6 bg-white dark:bg-gray-800 rounded-lg p-4 sm:p-6 shadow-sm",children:(0,me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,me.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Course"}),(0,me.jsxs)("select",{value:c,onChange:S=>l(S.target.value),className:"block w-full px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white touch-manipulation",children:[(0,me.jsx)("option",{value:"all",children:"All Courses"}),(0,me.jsx)("option",{value:"course-1",children:"Web Development"}),(0,me.jsx)("option",{value:"course-2",children:"Programming Basics"}),(0,me.jsx)("option",{value:"course-3",children:"Frontend Design"}),(0,me.jsx)("option",{value:"course-4",children:"Database Systems"})]})]}),(0,me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,me.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),(0,me.jsxs)("select",{value:d,onChange:S=>u(S.target.value),className:"block w-full px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white touch-manipulation",children:[(0,me.jsx)("option",{value:"all",children:"All Priorities"}),(0,me.jsx)("option",{value:"urgent",children:"Urgent (Overdue)"}),(0,me.jsx)("option",{value:"submitted",children:"Submitted"})]})]})]})}),(0,me.jsx)("div",{className:"space-y-4",children:b.length===0?(0,me.jsxs)("div",{className:"text-center py-12",children:[(0,me.jsx)(Qa,{className:"mx-auto h-12 w-12 text-green-400"}),(0,me.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"All caught up!"}),(0,me.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"No assignments need grading at the moment."})]}):b.map(S=>{let k=x(S),E=I(S),L=S.submissions.filter(P=>P.status==="submitted");return(0,me.jsx)("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border transition-shadow ${k==="urgent"?"border-red-200 dark:border-red-700":k==="submitted"?"border-blue-200 dark:border-blue-700":"border-gray-200 dark:border-gray-700"} hover:shadow-md`,children:(0,me.jsx)("div",{className:"p-4 sm:p-6",children:(0,me.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:(0,me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,me.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[(0,me.jsx)("h3",{className:"text-base sm:text-lg font-medium text-gray-900 dark:text-white break-words",children:S.assignmentTitle}),k==="urgent"&&(0,me.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:[(0,me.jsx)(lo,{className:"w-3 h-3 mr-1"}),"Urgent"]}),(0,me.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k==="urgent"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:[L.length," to grade"]})]}),(0,me.jsxs)("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:["Course: ",S.courseTitle]}),(0,me.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-500 dark:text-gray-400",children:[(0,me.jsxs)("div",{className:"flex items-center",children:[(0,me.jsx)(Go,{className:"w-4 h-4 mr-1"}),"Due: ",C(S.dueDate)]}),(0,me.jsxs)("div",{className:"flex items-center",children:[(0,me.jsx)(gl,{className:"w-4 h-4 mr-1"}),S.totalStudents," students"]}),(0,me.jsxs)("div",{className:"flex items-center",children:[(0,me.jsx)(Ya,{className:"w-4 h-4 mr-1"}),S.submittedCount," submitted"]}),(0,me.jsxs)("div",{className:"flex items-center",children:[(0,me.jsx)(c1,{className:"w-4 h-4 mr-1"}),E,"% complete"]})]}),(0,me.jsxs)("div",{className:"mt-4",children:[(0,me.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-1",children:[(0,me.jsx)("span",{children:"Submission Progress"}),(0,me.jsxs)("span",{children:[S.submittedCount,"/",S.totalStudents]})]}),(0,me.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,me.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${E}%`}})})]}),L.length>0&&(0,me.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-2",children:[(0,me.jsxs)("button",{onClick:()=>h(S),className:"inline-flex items-center justify-center px-4 py-3 min-h-[44px] border border-gray-300 dark:border-gray-600 shadow-sm text-base font-medium rounded-lg text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 touch-manipulation active:scale-95 transition-transform",children:[(0,me.jsx)(es,{className:"w-5 h-5 mr-2"}),(0,me.jsx)("span",{className:"hidden sm:inline",children:"View Submissions"}),(0,me.jsxs)("span",{className:"sm:hidden",children:["View (",L.length,")"]})]}),(0,me.jsxs)("button",{onClick:()=>n(`/assignments/${S.assignmentId}/grade`),className:"inline-flex items-center justify-center px-4 py-3 min-h-[44px] border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 touch-manipulation active:scale-95 transition-transform",children:[(0,me.jsx)(ts,{className:"w-5 h-5 mr-2"}),"Grade All"]})]})]})})})},S.assignmentId)})}),g&&(0,me.jsx)("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 bg-black bg-opacity-50",children:(0,me.jsxs)("div",{className:"w-full sm:w-11/12 md:w-3/4 lg:w-1/2 max-h-[90vh] overflow-y-auto bg-white dark:bg-gray-800 rounded-t-2xl sm:rounded-lg shadow-lg",children:[(0,me.jsxs)("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 sm:p-5 py-4 flex items-center justify-between z-10",children:[(0,me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:g.assignmentTitle}),(0,me.jsx)("button",{onClick:()=>h(null),className:"p-2 -mr-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center",children:(0,me.jsx)(ku,{className:"w-6 h-6"})})]}),(0,me.jsxs)("div",{className:"p-4 sm:p-5",children:[(0,me.jsxs)("div",{className:"mb-4",children:[(0,me.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Course: ",g.courseTitle]}),(0,me.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Due: ",C(g.dueDate)]})]}),(0,me.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:g.submissions.filter(S=>S.status==="submitted").map(S=>(0,me.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,me.jsx)("img",{src:S.studentAvatar||"https://via.placeholder.com/40",alt:S.studentName,className:"w-10 h-10 rounded-full"}),(0,me.jsxs)("div",{children:[(0,me.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:S.studentName}),(0,me.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:S.studentEmail}),S.isLate&&(0,me.jsx)("p",{className:"text-xs text-red-600 dark:text-red-400",children:"\u26A0\uFE0F Submitted late"})]})]}),(0,me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,me.jsx)("button",{onClick:()=>w(S),className:"p-2 min-w-[44px] min-h-[44px] flex items-center justify-center text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 touch-manipulation",children:(0,me.jsx)(es,{className:"w-5 h-5"})}),(0,me.jsx)("button",{onClick:()=>{h(null),n(`/assignments/${g.assignmentId}/grade/${S.submissionId}`)},className:"inline-flex items-center justify-center px-4 py-3 min-h-[44px] border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 touch-manipulation active:scale-95 transition-transform",children:"Grade"})]})]},S.studentId))}),(0,me.jsxs)("div",{className:"mt-4 flex flex-col-reverse sm:flex-row justify-end gap-2 sm:gap-2",children:[(0,me.jsx)("button",{onClick:()=>h(null),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-3 min-h-[44px] border border-gray-300 dark:border-gray-600 shadow-sm text-base font-medium rounded-lg text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 touch-manipulation active:scale-95 transition-transform",children:"Close"}),(0,me.jsx)("button",{onClick:()=>{h(null),n(`/assignments/${g.assignmentId}/grade`)},className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-3 min-h-[44px] border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 touch-manipulation active:scale-95 transition-transform",children:"Grade All"})]})]})]})}),v&&y&&(0,me.jsx)("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 bg-black bg-opacity-50",children:(0,me.jsxs)("div",{className:"w-full sm:w-11/12 md:w-3/4 lg:w-1/2 max-h-[90vh] overflow-y-auto bg-white dark:bg-gray-800 rounded-t-2xl sm:rounded-lg shadow-lg",children:[(0,me.jsxs)("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 sm:p-5 py-4 flex items-center justify-between z-10",children:[(0,me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Student Submission"}),(0,me.jsx)("button",{onClick:N,className:"p-2 -mr-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center",children:(0,me.jsx)(ku,{className:"w-6 h-6"})})]}),(0,me.jsxs)("div",{className:"p-4 sm:p-5",children:[(0,me.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:items-start space-y-4 sm:space-x-4 mb-6",children:[(0,me.jsx)("img",{src:y.studentAvatar||"https://via.placeholder.com/80",alt:y.studentName,className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full flex-shrink-0"}),(0,me.jsxs)("div",{className:"text-center sm:text-left flex-1",children:[(0,me.jsx)("h4",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:y.studentName}),(0,me.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm sm:text-base",children:y.studentEmail}),(0,me.jsxs)("div",{className:"flex items-center justify-center sm:justify-start mt-1",children:[(0,me.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 bg-blue-500"}),(0,me.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Submitted for grading"})]})]})]}),(0,me.jsxs)("div",{className:"space-y-4",children:[(0,me.jsxs)("div",{children:[(0,me.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Submission Details"}),(0,me.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:(0,me.jsxs)("div",{className:"space-y-2",children:[(0,me.jsxs)("p",{className:"text-sm",children:[(0,me.jsx)("span",{className:"font-medium",children:"Submitted:"})," ",new Date(y.submittedAt).toLocaleString()]}),y.isLate&&(0,me.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:"\u26A0\uFE0F Submitted late"}),y.attachments.length>0&&(0,me.jsxs)("div",{children:[(0,me.jsx)("p",{className:"text-sm font-medium",children:"Attachments:"}),(0,me.jsx)("ul",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.attachments.map((S,k)=>(0,me.jsxs)("li",{children:["\u2022 ",S]},k))})]})]})})]}),(0,me.jsxs)("div",{children:[(0,me.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Last Activity"}),(0,me.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(y.lastActivity).toLocaleString()})]})]}),(0,me.jsxs)("div",{className:"mt-6 flex flex-col-reverse sm:flex-row justify-end gap-2 sm:gap-2",children:[(0,me.jsx)("button",{onClick:N,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-3 min-h-[44px] border border-gray-300 dark:border-gray-600 shadow-sm text-base font-medium rounded-lg text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 touch-manipulation active:scale-95 transition-transform",children:"Close"}),(0,me.jsx)("button",{onClick:()=>{N(),n(`/assignments/${g?.assignmentId}/grade/${y.submissionId}`)},className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-3 min-h-[44px] border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 touch-manipulation active:scale-95 transition-transform",children:"Grade This Submission"})]})]})]})})]})})},A6=qQ;var An=H(he());Rt();function P6(e,t){let r=t.join(","),a=e.map(o=>t.map(n=>{let s=o[n];if(s==null)return"";let i=String(s);return i.includes(",")||i.includes('"')||i.includes(`
`)?`"${i.replace(/"/g,'""')}"`:i}).join(","));return[r,...a].join(`
`)}function jQ(e,t){let r=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),o=URL.createObjectURL(r);a.setAttribute("href",o),a.setAttribute("download",t),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o)}function UQ(e,t){return"\uFEFF"+P6(e,t)}function T6(e,t,r,a=!1){let o=a?UQ(e,t):P6(e,t);jQ(o,r)}function $c(e){if(!e)return"";let t=typeof e=="string"?new Date(e):e;return isNaN(t.getTime())?"":t.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})}var bt=H(se()),D6=({entries:e,onGradeClick:t})=>{let r=(n,s)=>{if(s)return(0,bt.jsx)(pr,{className:"w-4 h-4 text-red-500"});switch(n){case"graded":return(0,bt.jsx)(Xt,{className:"w-4 h-4 text-green-500"});case"submitted":return(0,bt.jsx)(xt,{className:"w-4 h-4 text-blue-500"});case"overdue":return(0,bt.jsx)(vp,{className:"w-4 h-4 text-red-500"});default:return(0,bt.jsx)(xt,{className:"w-4 h-4 text-gray-400"})}},a=(n,s)=>{if(s)return(0,bt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Late"});switch(n){case"graded":return(0,bt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Graded"});case"submitted":return(0,bt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Submitted"});case"overdue":return(0,bt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Overdue"});default:return(0,bt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",children:"Pending"})}},o=n=>n===null?"text-gray-500":n>=90?"text-green-600 dark:text-green-400":n>=70?"text-blue-600 dark:text-blue-400":n>=50?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";return e.length===0?(0,bt.jsxs)("div",{className:"text-center py-12",children:[(0,bt.jsx)(jt,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,bt.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No entries found"}),(0,bt.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Try adjusting your filters to see more results."})]}):(0,bt.jsx)("div",{className:"overflow-x-auto",children:(0,bt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,bt.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-900",children:(0,bt.jsxs)("tr",{children:[(0,bt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Student"}),(0,bt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Course"}),(0,bt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Assignment"}),(0,bt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Score"}),(0,bt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(0,bt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Due Date"}),(0,bt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Submitted"}),(0,bt.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,bt.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.map((n,s)=>(0,bt.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,bt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,bt.jsxs)("div",{className:"flex items-center",children:[(0,bt.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,bt.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-medium text-sm",children:io(n.studentName)})}),(0,bt.jsxs)("div",{className:"ml-4",children:[(0,bt.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.studentName}),(0,bt.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.studentEmail})]})]})}),(0,bt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,bt.jsxs)("div",{className:"flex items-center text-sm text-gray-900 dark:text-white",children:[(0,bt.jsx)(ot,{className:"w-4 h-4 mr-2 text-blue-500"}),n.courseTitle]})}),(0,bt.jsx)("td",{className:"px-6 py-4",children:(0,bt.jsxs)("div",{className:"flex items-center text-sm text-gray-900 dark:text-white",children:[(0,bt.jsx)(jt,{className:"w-4 h-4 mr-2 text-purple-500"}),(0,bt.jsx)("span",{className:"max-w-xs truncate",children:n.assignmentTitle})]})}),(0,bt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:n.score!==null?(0,bt.jsxs)("div",{className:"text-sm",children:[(0,bt.jsxs)("span",{className:`font-semibold ${o(n.percentage)}`,children:[n.score," / ",n.maxScore]}),n.percentage!==null&&(0,bt.jsxs)("div",{className:`text-xs ${o(n.percentage)}`,children:["(",n.percentage.toFixed(1),"%)"]})]}):(0,bt.jsx)("span",{className:"text-sm text-gray-400 dark:text-gray-500",children:"\u2014"})}),(0,bt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,bt.jsxs)("div",{className:"flex items-center space-x-2",children:[r(n.status,n.isLate),a(n.status,n.isLate)]})}),(0,bt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:$c(n.dueDate)}),(0,bt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:n.submittedAt?$c(n.submittedAt):"\u2014"}),(0,bt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.status==="submitted"||n.status==="overdue"?(0,bt.jsxs)("button",{onClick:()=>t(n),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 flex items-center justify-end ml-auto",children:[(0,bt.jsx)(Nr,{className:"w-4 h-4 mr-1"}),"Grade"]}):n.status==="graded"?(0,bt.jsxs)("button",{onClick:()=>t(n),className:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 flex items-center justify-end ml-auto",children:[(0,bt.jsx)(Nr,{className:"w-4 h-4 mr-1"}),"View"]}):(0,bt.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"\u2014"})})]},`${n.studentId}-${n.assignmentId}-${s}`))})]})})};var Ei=H(se()),F6=({entries:e})=>{let t=e.length,r=e.filter(y=>y.status==="graded"),a=e.filter(y=>y.status==="submitted"),o=e.filter(y=>y.status==="pending"),n=e.filter(y=>y.status==="overdue"||y.isLate),s=r.filter(y=>y.score!==null).map(y=>y.score),i=s.length>0?s.reduce((y,p)=>y+p,0)/s.length:0,c=s.length>0?[...s].sort((y,p)=>y-p)[Math.floor(s.length/2)]:0,l=s.length>0?Math.max(...s):0,d=s.length>0?Math.min(...s):0,u=new Set(e.map(y=>y.studentId)).size,g=new Set(e.map(y=>y.courseId)).size,h=new Set(e.map(y=>y.assignmentId)).size,v=t>0?r.length/t*100:0,m=[{label:"Total Entries",value:t,icon:_r,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-900/20"},{label:"Graded",value:r.length,icon:Xt,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-50 dark:bg-green-900/20"},{label:"Submitted",value:a.length,icon:xt,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-900/20"},{label:"Pending",value:o.length,icon:xt,color:"text-yellow-600 dark:text-yellow-400",bgColor:"bg-yellow-50 dark:bg-yellow-900/20"},{label:"Overdue",value:n.length,icon:pr,color:"text-red-600 dark:text-red-400",bgColor:"bg-red-50 dark:bg-red-900/20"},{label:"Average Score",value:i.toFixed(1),icon:Cr,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-50 dark:bg-purple-900/20"},{label:"Completion Rate",value:`${v.toFixed(1)}%`,icon:Cr,color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-50 dark:bg-indigo-900/20"},{label:"Unique Students",value:u,icon:it,color:"text-teal-600 dark:text-teal-400",bgColor:"bg-teal-50 dark:bg-teal-900/20"}];return(0,Ei.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4 mb-6",children:m.map((y,p)=>{let f=y.icon;return(0,Ei.jsx)("div",{className:`${y.bgColor} rounded-lg p-4 hover-lift transition-all duration-200`,children:(0,Ei.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:y.label}),(0,Ei.jsx)("p",{className:`mt-2 text-2xl font-bold ${y.color}`,children:y.value})]}),(0,Ei.jsx)(f,{className:`w-8 h-8 ${y.color} opacity-50`})]})},p)})})};var zt=H(se()),O6=()=>{let{user:e}=Ge(),{showSuccess:t,showError:r}=Ja(),a=ht(),[o,n]=(0,An.useState)([]),[s,i]=(0,An.useState)([]),[c,l]=(0,An.useState)([]),[d,u]=(0,An.useState)(!0),[g,h]=(0,An.useState)("all"),[v,m]=(0,An.useState)("all"),[y,p]=(0,An.useState)("all"),[f,x]=(0,An.useState)("");(0,An.useEffect)(()=>{b()},[]),(0,An.useEffect)(()=>{w()},[s,g,v,y,f]);let b=async()=>{try{u(!0);let C=await ca();n(C);let S=[];for(let k of C)try{let E=await Sm({courseId:k.id,limit:1e3});for(let L of E.data)for(let P of L.submissions)S.push({studentId:P.studentId,studentName:P.studentName,studentEmail:P.studentEmail,courseId:L.courseId,courseTitle:L.courseTitle,assignmentId:L.assignmentId,assignmentTitle:L.assignmentTitle,score:P.score??null,maxScore:100,percentage:P.score!==null&&P.score!==void 0?P.score/100*100:null,status:P.status,submittedAt:P.submittedAt||null,gradedAt:P.status==="graded"&&P.submittedAt||null,feedback:P.feedback||null,dueDate:L.dueDate,isLate:P.isLate})}catch(E){console.error(`Error loading submissions for course ${k.id}:`,E)}i(S)}catch(C){console.error("Error loading gradebook data:",C),r("Failed to Load Gradebook","Unable to load gradebook data. Please try again.")}finally{u(!1)}},w=()=>{let C=[...s];if(g!=="all"&&(C=C.filter(S=>S.courseId===g)),v!=="all"&&(C=C.filter(S=>S.studentId===v)),y!=="all"&&(C=C.filter(S=>S.status===y)),f.trim()){let S=f.toLowerCase();C=C.filter(k=>k.studentName.toLowerCase().includes(S)||k.studentEmail.toLowerCase().includes(S)||k.assignmentTitle.toLowerCase().includes(S)||k.courseTitle.toLowerCase().includes(S))}l(C)},N=()=>{try{let C=["Student Name","Student Email","Course","Assignment","Score","Max Score","Percentage","Status","Submitted At","Graded At","Due Date","Is Late","Feedback"],S=c.map(E=>({"Student Name":E.studentName,"Student Email":E.studentEmail,Course:E.courseTitle,Assignment:E.assignmentTitle,Score:E.score??"","Max Score":E.maxScore,Percentage:E.percentage?`${E.percentage.toFixed(2)}%`:"",Status:E.status,"Submitted At":E.submittedAt?$c(E.submittedAt):"","Graded At":E.gradedAt?$c(E.gradedAt):"","Due Date":$c(E.dueDate),"Is Late":E.isLate?"Yes":"No",Feedback:E.feedback||""})),k=`gradebook_${new Date().toISOString().split("T")[0]}.csv`;T6(S,C,k,!0),t("Export Successful","Gradebook data has been exported to CSV.")}catch(C){console.error("Error exporting gradebook:",C),r("Export Failed","Unable to export gradebook data. Please try again.")}},I=Array.from(new Set(s.map(C=>C.studentId))).map(C=>{let S=s.find(k=>k.studentId===C);return{id:C,name:S?.studentName||"Unknown"}});return d?(0,zt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,zt.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,zt.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):(0,zt.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,zt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,zt.jsx)("div",{className:"mb-8",children:(0,zt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,zt.jsx)(_r,{className:"w-8 h-8 mr-3 text-blue-600 dark:text-blue-400"}),"Gradebook"]}),(0,zt.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"View and manage all student grades across your courses"})]}),(0,zt.jsxs)("button",{onClick:N,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,zt.jsx)(Wr,{className:"w-5 h-5 mr-2"}),"Export CSV"]})]})}),(0,zt.jsx)(F6,{entries:s}),(0,zt.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,zt.jsxs)("div",{className:"md:col-span-2",children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),(0,zt.jsxs)("div",{className:"relative",children:[(0,zt.jsx)(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,zt.jsx)("input",{type:"text",value:f,onChange:C=>x(C.target.value),placeholder:"Search by student, assignment, or course...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Course"}),(0,zt.jsxs)("select",{value:g,onChange:C=>h(C.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,zt.jsx)("option",{value:"all",children:"All Courses"}),o.map(C=>(0,zt.jsx)("option",{value:C.id,children:C.title},C.id))]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),(0,zt.jsxs)("select",{value:y,onChange:C=>p(C.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,zt.jsx)("option",{value:"all",children:"All Status"}),(0,zt.jsx)("option",{value:"pending",children:"Pending"}),(0,zt.jsx)("option",{value:"submitted",children:"Submitted"}),(0,zt.jsx)("option",{value:"graded",children:"Graded"}),(0,zt.jsx)("option",{value:"overdue",children:"Overdue"})]})]})]}),I.length>0&&(0,zt.jsxs)("div",{className:"mt-4",children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Student"}),(0,zt.jsxs)("select",{value:v,onChange:C=>m(C.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,zt.jsx)("option",{value:"all",children:"All Students"}),I.map(C=>(0,zt.jsx)("option",{value:C.id,children:C.name},C.id))]})]})]}),(0,zt.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:(0,zt.jsx)(D6,{entries:c,onGradeClick:C=>{a(`/assignments/${C.assignmentId}/grade?studentId=${C.studentId}`)}})})]})})};var ea=H(he());var Yu=H(he(),1);function zQ({title:e,titleId:t,...r},a){return Yu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?Yu.createElement("title",{id:t},e):null,Yu.createElement("path",{d:"M19.5 21a3 3 0 0 0 3-3v-4.5a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3V18a3 3 0 0 0 3 3h15ZM1.5 10.146V6a3 3 0 0 1 3-3h5.379a2.25 2.25 0 0 1 1.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 0 1 3 3v1.146A4.483 4.483 0 0 0 19.5 9h-15a4.483 4.483 0 0 0-3 1.146Z"}))}var $Q=Yu.forwardRef(zQ),_v=$Q;var Xu=H(he(),1);function HQ({title:e,titleId:t,...r},a){return Xu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?Xu.createElement("title",{id:t},e):null,Xu.createElement("path",{fillRule:"evenodd",d:"M1.5 6a2.25 2.25 0 0 1 2.25-2.25h16.5A2.25 2.25 0 0 1 22.5 6v12a2.25 2.25 0 0 1-2.25 2.25H3.75A2.25 2.25 0 0 1 1.5 18V6ZM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0 0 21 18v-1.94l-2.69-2.689a1.5 1.5 0 0 0-2.12 0l-.88.879.97.97a.75.75 0 1 1-1.06 1.06l-5.16-5.159a1.5 1.5 0 0 0-2.12 0L3 16.061Zm10.125-7.81a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Z",clipRule:"evenodd"}))}var VQ=Xu.forwardRef(HQ),Bv=VQ;Rt();var oe=H(se()),WQ=()=>{let{user:e}=Ge(),{theme:t,toggleTheme:r}=Td(),[a,o]=(0,ea.useState)(!1),[n,s]=(0,ea.useState)(!1),[i,c]=(0,ea.useState)("profile"),[l,d]=(0,ea.useState)(!1),[u,g]=(0,ea.useState)(null),[h,v]=(0,ea.useState)(null),[m,y]=(0,ea.useState)(null),[p,f]=(0,ea.useState)(null),x=(0,ea.useRef)(null),b=(0,ea.useRef)(null),w=(0,ea.useRef)(null),N=lr();(0,ea.useEffect)(()=>{let ue=new URLSearchParams(N.search).get("tab");ue&&["profile","settings","notifications","security"].includes(ue)&&c(ue)},[N.search]),(0,ea.useEffect)(()=>{L(K=>({...K,theme:t}))},[t]),(0,ea.useEffect)(()=>{async function K(){try{let ue=await uw();C(ve=>({...ve,timezone:ue.timeZone||ve.timezone}))}catch{}}K()},[]);let[I,C]=(0,ea.useState)({name:e?.name||"",email:e?.email||"",bio:"Experienced educator passionate about creating engaging learning experiences. Specializing in modern web development and interactive teaching methodologies.",location:"Nairobi, Kenya",website:"https://stephanie-makwabarara.com",phone:"+254 700 123 456",phonePublic:!1,timezone:"Africa/Nairobi",language:"English",notifications:{email:!0,push:!0,sms:!1,courseUpdates:!0,assignmentReminders:!0,forumNotifications:!0}}),[S,k]=(0,ea.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[E,L]=(0,ea.useState)({language:"en",theme:"auto"}),P=(K,ue)=>{if(K.includes(".")){let[ve,tt]=K.split(".");C(qe=>{let pe=qe[ve];return typeof pe=="object"&&pe!==null?{...qe,[ve]:{...pe,[tt]:ue}}:(console.warn(`Expected object at '${ve}', but got:`,pe),qe)})}else C(ve=>({...ve,[K]:ue}))},j=async()=>{try{await fw({accessibilityPreferences:{},timeZone:I.timezone}),o(!1)}catch{}},M=()=>{if(S.newPassword!==S.confirmPassword){alert("New passwords do not match");return}console.log("Changing password:",S),k({currentPassword:"",newPassword:"",confirmPassword:""})},q=()=>{console.log("Saving settings:",E)},R=K=>{L(ue=>({...ue,language:K})),console.log("Language changed to:",K)},D=K=>{L(ue=>({...ue,theme:K})),(K==="dark"&&t!=="dark"||K==="light"&&t!=="light")&&r()},A=async K=>{try{if(K==="camera"){y("requesting"),f(null);let ue=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}});w.current=ue,y("granted"),x.current&&(x.current.srcObject=ue,x.current.onloadedmetadata=()=>{x.current&&x.current.play()})}else if(K==="gallery"||K==="files"){let ue=document.createElement("input");ue.type="file",ue.accept="image/*",ue.multiple=!1,ue.onchange=ve=>{let tt=ve.target.files?.[0];if(tt){g(tt);let qe=new FileReader;qe.onload=pe=>{v(pe.target?.result)},qe.readAsDataURL(tt)}},ue.click()}}catch(ue){console.error("Error accessing camera/gallery:",ue),y("denied"),f("Camera permission was denied. Please enable camera access in your browser settings.")}},B=()=>{if(!x.current||!b.current)return;let K=x.current,ue=b.current,ve=ue.getContext("2d");ve&&(ue.width=K.videoWidth,ue.height=K.videoHeight,ve.drawImage(K,0,0,ue.width,ue.height),ue.toBlob(tt=>{if(tt){let qe=`profile-photo-${Date.now()}.jpg`,pe=Object.assign(tt,{name:qe,lastModified:Date.now()});g(pe),v(URL.createObjectURL(tt)),w.current&&(w.current.getTracks().forEach(re=>re.stop()),w.current=null),y(null)}},"image/jpeg",.8))},F=()=>{w.current&&(w.current.getTracks().forEach(K=>K.stop()),w.current=null),y(null),f(null)};ea.default.useEffect(()=>()=>{w.current&&w.current.getTracks().forEach(K=>K.stop())},[]);let T=()=>{u&&(console.log("Saving photo:",u),g(null),v(null))},U=[{id:"profile",name:"Profile",icon:y1},{id:"settings",name:"Settings",icon:kp},{id:"notifications",name:"Notifications",icon:i1},{id:"security",name:"Security",icon:es}],O=()=>(0,oe.jsxs)("div",{className:"space-y-4 lg:space-y-6",children:[(0,oe.jsx)("div",{className:"rounded-2xl border-2 p-4 lg:p-6",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:(0,oe.jsxs)("div",{className:"flex flex-col lg:flex-row items-center lg:items-start space-y-4 lg:space-y-0 lg:space-x-6",children:[(0,oe.jsxs)("div",{className:"relative",children:[(0,oe.jsx)("div",{className:"w-20 h-20 lg:w-24 lg:h-24 rounded-2xl overflow-hidden flex items-center justify-center text-white font-bold text-2xl",style:{background:"linear-gradient(135deg, #00B5AD 0%, #6F73D2 100%)",boxShadow:"0 10px 30px rgba(0, 181, 173, 0.3)"},children:e?.avatar?(0,oe.jsx)("img",{src:e.avatar,alt:"Profile",className:"w-full h-full object-cover"}):(0,oe.jsx)("span",{children:io(e?.name||"U")})}),(0,oe.jsx)("button",{onClick:()=>d(!0),className:"absolute -bottom-1 -right-1 p-2 rounded-xl text-white transition-all duration-200 active:scale-95",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 12px rgba(0, 181, 173, 0.4)"},children:(0,oe.jsx)(wp,{className:"w-4 h-4"})})]}),(0,oe.jsxs)("div",{className:"flex-1 text-center lg:text-left w-full lg:w-auto",children:[(0,oe.jsx)("h2",{className:"text-xl lg:text-2xl font-bold mb-2",style:{color:"#0B1E3F"},children:e?.name}),(0,oe.jsxs)("div",{className:"space-y-2",children:[(0,oe.jsxs)("p",{className:"flex items-center justify-center lg:justify-start text-sm",style:{color:"#6F73D2"},children:[(0,oe.jsx)(bp,{className:"w-4 h-4 mr-2"}),e?.role==="TEACHER"?"Instructor":e?.role]}),(0,oe.jsxs)("p",{className:"flex items-center justify-center lg:justify-start text-sm",style:{color:"#6F73D2"},children:[(0,oe.jsx)(u1,{className:"w-4 h-4 mr-2"}),e?.email]}),(0,oe.jsxs)("p",{className:"flex items-center justify-center lg:justify-start text-sm",style:{color:"#6F73D2"},children:[(0,oe.jsx)(Go,{className:"w-4 h-4 mr-2"}),"Member since ",new Date(e?.createdAt||"").toLocaleDateString()]})]})]})]})}),(0,oe.jsxs)("div",{className:"rounded-2xl border-2 p-4 lg:p-6",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:[(0,oe.jsxs)("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[(0,oe.jsx)("h3",{className:"text-lg lg:text-xl font-bold",style:{color:"#0B1E3F"},children:"Personal Information"}),(0,oe.jsxs)("button",{onClick:()=>o(!a),className:"flex items-center px-4 py-2 rounded-xl font-semibold text-sm transition-all duration-200 active:scale-95",style:{backgroundColor:a?"#6F73D2":"#00B5AD",color:"white",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:[(0,oe.jsx)(ts,{className:"w-4 h-4 mr-1.5"}),a?"Cancel":"Edit"]})]}),(0,oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Full Name"}),(0,oe.jsx)("input",{type:"text",value:I.name,onChange:K=>P("name",K.target.value),disabled:!a,className:"w-full px-4 py-3 border-2 rounded-xl focus:outline-none transition-all duration-200",style:{borderColor:"#E5E7EB",backgroundColor:a?"white":"#F4F7FA",color:"#0B1E3F",fontSize:"16px"},onFocus:K=>{a&&(K.currentTarget.style.borderColor="#00B5AD",K.currentTarget.style.boxShadow="0 0 0 4px rgba(0, 181, 173, 0.1)")},onBlur:K=>{K.currentTarget.style.borderColor="#E5E7EB",K.currentTarget.style.boxShadow="none"}})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),(0,oe.jsx)("input",{type:"email",value:I.email,onChange:K=>P("email",K.target.value),disabled:!a,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-600"})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),(0,oe.jsx)("input",{type:"text",value:I.location,onChange:K=>P("location",K.target.value),disabled:!a,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-600"})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone"}),(0,oe.jsxs)("div",{className:"space-y-2",children:[(0,oe.jsx)("input",{type:"tel",value:I.phone,onChange:K=>P("phone",K.target.value),disabled:!a,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-600"}),e?.role==="TEACHER"&&(0,oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,oe.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Make phone number public"}),(0,oe.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:"(Visible to students and other tutors)"})]}),(0,oe.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,oe.jsx)("input",{type:"checkbox",checked:I.phonePublic,onChange:K=>P("phonePublic",K.target.checked),disabled:!a,className:"sr-only peer"}),(0,oe.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed"})]})]})]})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website"}),(0,oe.jsx)("input",{type:"url",value:I.website,onChange:K=>P("website",K.target.value),disabled:!a,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-600"})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Timezone"}),(0,oe.jsxs)("select",{value:I.timezone,onChange:K=>P("timezone",K.target.value),disabled:!a,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-600",children:[(0,oe.jsx)("option",{value:"Africa/Nairobi",children:"Africa/Nairobi"}),(0,oe.jsx)("option",{value:"UTC",children:"UTC"}),(0,oe.jsx)("option",{value:"America/New_York",children:"America/New_York"}),(0,oe.jsx)("option",{value:"Europe/London",children:"Europe/London"})]})]})]}),(0,oe.jsxs)("div",{className:"mt-6",children:[(0,oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),(0,oe.jsx)("textarea",{value:I.bio,onChange:K=>P("bio",K.target.value),disabled:!a,rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-600"})]}),a&&(0,oe.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row gap-3",children:[(0,oe.jsxs)("button",{onClick:j,className:"flex-1 flex items-center justify-center px-6 py-3 rounded-xl font-semibold text-white transition-all duration-300 active:scale-95",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:[(0,oe.jsx)(L0,{className:"w-5 h-5 mr-2"}),"Save Changes"]}),(0,oe.jsxs)("button",{onClick:()=>o(!1),className:"flex-1 flex items-center justify-center px-6 py-3 rounded-xl font-semibold border-2 transition-all duration-200 active:scale-95",style:{borderColor:"#E5E7EB",color:"#0B1E3F",backgroundColor:"white"},children:[(0,oe.jsx)(gi,{className:"w-5 h-5 mr-2"}),"Cancel"]})]})]})]}),z=()=>(0,oe.jsxs)("div",{className:"space-y-6",children:[(0,oe.jsxs)("div",{className:"rounded-2xl border-2 p-4 lg:p-6",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:[(0,oe.jsx)("h3",{className:"text-lg lg:text-xl font-bold mb-4 lg:mb-6",style:{color:"#0B1E3F"},children:"Account Settings"}),(0,oe.jsxs)("div",{className:"space-y-4 lg:space-y-6",children:[(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Language"}),(0,oe.jsxs)("select",{value:E.language,onChange:K=>R(K.target.value),className:"w-full px-4 py-3 border-2 rounded-xl focus:outline-none transition-all duration-200",style:{borderColor:"#E5E7EB",backgroundColor:"white",color:"#0B1E3F",fontSize:"16px"},onFocus:K=>{K.currentTarget.style.borderColor="#00B5AD",K.currentTarget.style.boxShadow="0 0 0 4px rgba(0, 181, 173, 0.1)"},onBlur:K=>{K.currentTarget.style.borderColor="#E5E7EB",K.currentTarget.style.boxShadow="none"},children:[(0,oe.jsx)("option",{value:"en",children:"English"}),(0,oe.jsx)("option",{value:"es",children:"Spanish"}),(0,oe.jsx)("option",{value:"fr",children:"French"}),(0,oe.jsx)("option",{value:"de",children:"German"})]})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Theme"}),(0,oe.jsxs)("select",{value:E.theme,onChange:K=>D(K.target.value),className:"w-full px-4 py-3 border-2 rounded-xl focus:outline-none transition-all duration-200",style:{borderColor:"#E5E7EB",backgroundColor:"white",color:"#0B1E3F",fontSize:"16px"},onFocus:K=>{K.currentTarget.style.borderColor="#00B5AD",K.currentTarget.style.boxShadow="0 0 0 4px rgba(0, 181, 173, 0.1)"},onBlur:K=>{K.currentTarget.style.borderColor="#E5E7EB",K.currentTarget.style.boxShadow="none"},children:[(0,oe.jsx)("option",{value:"light",children:"Light"}),(0,oe.jsx)("option",{value:"dark",children:"Dark"}),(0,oe.jsx)("option",{value:"auto",children:"Auto"})]})]})]}),(0,oe.jsx)("div",{className:"mt-6 flex space-x-3",children:(0,oe.jsxs)("button",{onClick:q,className:"flex items-center px-6 py-3 rounded-xl font-semibold text-white transition-all duration-300 active:scale-95",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:[(0,oe.jsx)(L0,{className:"w-5 h-5 mr-2"}),"Save Settings"]})})]}),e?.role==="TEACHER"&&(0,oe.jsxs)("div",{className:"rounded-2xl border-2 p-4 lg:p-6",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:[(0,oe.jsx)("h3",{className:"text-lg lg:text-xl font-bold mb-4 lg:mb-6",style:{color:"#0B1E3F"},children:"Instructor Settings"}),(0,oe.jsxs)("div",{className:"space-y-4 lg:space-y-6",children:[(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Default Lesson Duration (minutes)"}),(0,oe.jsx)("input",{type:"number",min:"15",max:"240",defaultValue:"60",className:"w-full px-4 py-3 border-2 rounded-xl focus:outline-none transition-all duration-200",style:{borderColor:"#E5E7EB",backgroundColor:"white",color:"#0B1E3F",fontSize:"16px"},onFocus:K=>{K.currentTarget.style.borderColor="#00B5AD",K.currentTarget.style.boxShadow="0 0 0 4px rgba(0, 181, 173, 0.1)"},onBlur:K=>{K.currentTarget.style.borderColor="#E5E7EB",K.currentTarget.style.boxShadow="none"}})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Auto-accept Bookings"}),(0,oe.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,oe.jsx)("input",{type:"checkbox",defaultChecked:!1,className:"sr-only peer"}),(0,oe.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}),(0,oe.jsx)("span",{className:"ml-3 text-sm",style:{color:"#6F73D2"},children:"Automatically accept student lesson bookings"})]})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Email Notifications for New Enrollments"}),(0,oe.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,oe.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),(0,oe.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}),(0,oe.jsx)("span",{className:"ml-3 text-sm",style:{color:"#6F73D2"},children:"Receive email when students enroll in your courses"})]})]})]})]})]}),X=()=>(0,oe.jsx)("div",{className:"space-y-6",children:(0,oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Notification Preferences"}),(0,oe.jsx)("div",{className:"space-y-4",children:Object.entries(I.notifications).map(([K,ue])=>(0,oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,oe.jsxs)("div",{children:[(0,oe.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize",children:K.replace(/([A-Z])/g," $1").replace(/^./,ve=>ve.toUpperCase())}),(0,oe.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Receive notifications for ",K.replace(/([A-Z])/g," $1").toLowerCase()]})]}),(0,oe.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,oe.jsx)("input",{type:"checkbox",checked:ue,onChange:ve=>P(`notifications.${K}`,ve.target.checked),className:"sr-only peer"}),(0,oe.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},K))})]})}),J=()=>(0,oe.jsx)("div",{className:"space-y-6",children:(0,oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Change Password"}),(0,oe.jsxs)("div",{className:"space-y-4",children:[(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),(0,oe.jsxs)("div",{className:"relative",children:[(0,oe.jsx)("input",{type:n?"text":"password",value:S.currentPassword,onChange:K=>k(ue=>({...ue,currentPassword:K.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),(0,oe.jsx)("button",{onClick:()=>s(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:n?(0,oe.jsx)(f1,{className:"w-4 h-4"}):(0,oe.jsx)(es,{className:"w-4 h-4"})})]})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),(0,oe.jsx)("input",{type:n?"text":"password",value:S.newPassword,onChange:K=>k(ue=>({...ue,newPassword:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),(0,oe.jsx)("input",{type:n?"text":"password",value:S.confirmPassword,onChange:K=>k(ue=>({...ue,confirmPassword:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,oe.jsx)("button",{onClick:M,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Change Password"})]})]})});return(0,oe.jsx)("div",{className:"profile-page",children:(0,oe.jsxs)("div",{className:"profile-container",children:[(0,oe.jsx)("div",{className:"profile-header",children:(0,oe.jsx)("div",{className:"profile-header-content",children:(0,oe.jsxs)("div",{className:"profile-header-left",children:[(0,oe.jsx)(fa,{showHome:!0}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("h1",{className:"profile-title",children:"Profile"}),(0,oe.jsx)("p",{className:"profile-subtitle",children:"Manage your account settings and preferences"})]})]})})}),(0,oe.jsx)("div",{className:"profile-tabs-mobile",children:(0,oe.jsx)(Au,{tabs:U.map(K=>({id:K.id,label:K.name,content:(0,oe.jsxs)("div",{className:"py-4",children:[K.id==="profile"&&O(),K.id==="settings"&&z(),K.id==="notifications"&&X(),K.id==="security"&&J()]})})),defaultTab:i,onTabChange:c})}),(0,oe.jsx)("div",{className:"profile-tabs-desktop",children:(0,oe.jsx)("nav",{className:"profile-tabs-nav",children:U.map(K=>(0,oe.jsxs)("button",{onClick:()=>c(K.id),className:`profile-tab-button ${i===K.id?"profile-tab-button--active":"profile-tab-button--inactive"}`,children:[(0,oe.jsx)(K.icon,{className:"profile-tab-icon"}),K.name]},K.id))})}),(0,oe.jsxs)("div",{className:"profile-tab-content profile-tab-content--hidden lg:profile-tab-content--active",children:[i==="profile"&&O(),i==="settings"&&z(),i==="notifications"&&X(),i==="security"&&J()]}),(0,oe.jsx)(kn,{isOpen:l,onClose:()=>{d(!1),F()},title:"Update Profile Photo",maxHeight:"70vh",children:(0,oe.jsx)("div",{className:"p-6",children:m==="granted"&&x.current?(0,oe.jsxs)("div",{className:"space-y-4",children:[(0,oe.jsx)("video",{ref:x.current,autoPlay:!0,playsInline:!0,className:"w-full rounded-xl",style:{maxHeight:"300px",objectFit:"cover"}}),(0,oe.jsx)("canvas",{ref:b,className:"hidden"}),(0,oe.jsxs)("div",{className:"flex space-x-3",children:[(0,oe.jsx)("button",{onClick:B,className:"flex-1 px-6 py-3 rounded-xl font-semibold text-white transition-all duration-300 active:scale-95",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:"Capture Photo"}),(0,oe.jsx)("button",{onClick:F,className:"px-6 py-3 rounded-xl font-semibold border-2 transition-all duration-200 active:scale-95",style:{borderColor:"#E5E7EB",color:"#0B1E3F",backgroundColor:"white"},children:"Cancel"})]})]}):(0,oe.jsxs)("div",{className:"space-y-3",children:[(0,oe.jsxs)("button",{onClick:()=>A("camera"),className:"w-full flex items-center justify-center px-6 py-4 rounded-xl font-semibold text-white transition-all duration-300 active:scale-95",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:[(0,oe.jsx)(wp,{className:"w-5 h-5 mr-3"}),"Take a Picture"]}),(0,oe.jsxs)("button",{onClick:()=>A("gallery"),className:"w-full flex items-center justify-center px-6 py-4 rounded-xl font-semibold text-white transition-all duration-300 active:scale-95",style:{backgroundColor:"#6F73D2",boxShadow:"0 4px 14px rgba(111, 115, 210, 0.3)"},children:[(0,oe.jsx)(Bv,{className:"w-5 h-5 mr-3"}),"Choose from Gallery"]}),(0,oe.jsxs)("button",{onClick:()=>A("files"),className:"w-full flex items-center justify-center px-6 py-4 rounded-xl font-semibold border-2 transition-all duration-200 active:scale-95",style:{borderColor:"#E5E7EB",color:"#0B1E3F",backgroundColor:"white"},children:[(0,oe.jsx)(_v,{className:"w-5 h-5 mr-3"}),"Choose from Files"]})]})})}),l&&(0,oe.jsx)("div",{className:"hidden lg:flex fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50 p-4",children:(0,oe.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,oe.jsxs)("div",{className:"p-6",children:[(0,oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,oe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Update Profile Photo"}),(0,oe.jsx)("button",{onClick:()=>{d(!1),F()},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,oe.jsx)(gi,{className:"w-6 h-6"})})]}),m==="granted"&&x.current?(0,oe.jsxs)("div",{className:"space-y-4",children:[(0,oe.jsx)("video",{ref:x.current,autoPlay:!0,playsInline:!0,className:"w-full rounded-lg"}),(0,oe.jsx)("canvas",{ref:b,className:"hidden"}),(0,oe.jsxs)("div",{className:"flex space-x-3",children:[(0,oe.jsx)("button",{onClick:B,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Capture Photo"}),(0,oe.jsx)("button",{onClick:F,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Cancel"})]})]}):(0,oe.jsxs)("div",{className:"space-y-3",children:[(0,oe.jsxs)("button",{onClick:()=>A("camera"),className:"w-full flex items-center px-4 py-3 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[(0,oe.jsx)(wp,{className:"w-5 h-5 mr-3"}),"Take a Picture"]}),(0,oe.jsxs)("button",{onClick:()=>A("gallery"),className:"w-full flex items-center px-4 py-3 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[(0,oe.jsx)(Bv,{className:"w-5 h-5 mr-3"}),"Choose from Gallery"]}),(0,oe.jsxs)("button",{onClick:()=>A("files"),className:"w-full flex items-center px-4 py-3 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors",children:[(0,oe.jsx)(_v,{className:"w-5 h-5 mr-3"}),"Choose from Files"]})]})]})})})]})})},M6=WQ;var Ju=H(he());var kt=H(se()),GQ=()=>{let{contactId:e}=ya(),t=lr(),r=ht(),[a,o]=(0,Ju.useState)({isConnected:!1,isMuted:!1,isSpeakerOn:!0,duration:0,isIncoming:!1,isRinging:!0}),[n,s]=(0,Ju.useState)(null),i=t.state?.callType||"audio",c=t.state?.contactName||"Unknown Contact";(0,Ju.useEffect)(()=>{s({id:e||"unknown",name:c,avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=256&q=80",isOnline:!0});let m=setTimeout(()=>{o(y=>({...y,isConnected:!0,isRinging:!1}))},2e3);return()=>clearTimeout(m)},[e,c]),(0,Ju.useEffect)(()=>{let m;return a.isConnected&&(m=setInterval(()=>{o(y=>({...y,duration:y.duration+1}))},1e3)),()=>{m&&clearInterval(m)}},[a.isConnected]);let l=m=>{let y=Math.floor(m/60),p=m%60;return`${y.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`},d=()=>{o(m=>({...m,isMuted:!m.isMuted}))},u=()=>{o(m=>({...m,isSpeakerOn:!m.isSpeakerOn}))},g=()=>{o(m=>({...m,isConnected:!1,isRinging:!1})),setTimeout(()=>{r(-1)},500)},h=()=>{o(m=>({...m,isConnected:!0,isRinging:!1,isIncoming:!1}))},v=()=>{o(m=>({...m,isConnected:!1,isRinging:!1,isIncoming:!1})),setTimeout(()=>{r(-1)},500)};return n?(0,kt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:[(0,kt.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,kt.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,kt.jsx)(fa,{}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i==="video"?"Video Call":"Audio Call"}),(0,kt.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n.name})]})]}),a.isConnected&&(0,kt.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,kt.jsx)(xt,{className:"h-4 w-4"}),(0,kt.jsx)("span",{children:l(a.duration)})]})]})})}),(0,kt.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,kt.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-8",children:[(0,kt.jsxs)("div",{className:"text-center mb-8",children:[(0,kt.jsxs)("div",{className:"relative inline-block",children:[(0,kt.jsx)("div",{className:"w-24 h-24 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center overflow-hidden mx-auto mb-4",children:n.avatar?(0,kt.jsx)("img",{src:n.avatar,alt:n.name,className:"w-full h-full object-cover"}):(0,kt.jsx)(Kr,{className:"w-12 h-12 text-gray-500"})}),n.isOnline&&(0,kt.jsx)("div",{className:"absolute bottom-4 right-4 w-4 h-4 bg-green-500 rounded-full border-2 border-white"})]}),(0,kt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:n.name}),a.isRinging&&!a.isConnected&&(0,kt.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-blue-600 dark:text-blue-400",children:[(0,kt.jsx)("div",{className:"animate-pulse",children:(0,kt.jsx)(Xn,{className:"h-4 w-4"})}),(0,kt.jsx)("span",{className:"text-sm font-medium",children:"Calling..."})]}),a.isConnected&&(0,kt.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-green-600 dark:text-green-400",children:[(0,kt.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,kt.jsx)("span",{className:"text-sm font-medium",children:"Connected"})]})]}),(0,kt.jsxs)("div",{className:"flex items-center justify-center space-x-6 mb-8",children:[(0,kt.jsx)("button",{onClick:d,className:`p-4 rounded-full transition-colors ${a.isMuted?"bg-red-100 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:a.isMuted?"Unmute":"Mute",children:a.isMuted?(0,kt.jsx)(Ym,{className:"h-6 w-6"}):(0,kt.jsx)(Xm,{className:"h-6 w-6"})}),(0,kt.jsx)("button",{onClick:u,className:`p-4 rounded-full transition-colors ${a.isSpeakerOn?"bg-blue-100 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:a.isSpeakerOn?"Speaker Off":"Speaker On",children:a.isSpeakerOn?(0,kt.jsx)(sc,{className:"h-6 w-6"}):(0,kt.jsx)(ic,{className:"h-6 w-6"})}),(0,kt.jsx)("button",{className:"p-4 rounded-full bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Call Settings",children:(0,kt.jsx)(Zn,{className:"h-6 w-6"})})]}),(0,kt.jsx)("div",{className:"flex items-center justify-center space-x-6",children:a.isRinging&&!a.isConnected?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("button",{onClick:h,className:"p-6 rounded-full bg-green-600 text-white hover:bg-green-700 transition-colors",title:"Answer Call",children:i==="video"?(0,kt.jsx)(Bt,{className:"h-8 w-8"}):(0,kt.jsx)(Xn,{className:"h-8 w-8"})}),(0,kt.jsx)("button",{onClick:v,className:"p-6 rounded-full bg-red-600 text-white hover:bg-red-700 transition-colors",title:"Reject Call",children:(0,kt.jsx)(_d,{className:"h-8 w-8"})})]}):(0,kt.jsx)("button",{onClick:g,className:"p-6 rounded-full bg-red-600 text-white hover:bg-red-700 transition-colors",title:"End Call",children:(0,kt.jsx)(_d,{className:"h-8 w-8"})})}),(0,kt.jsx)("div",{className:"text-center mt-6",children:(0,kt.jsxs)("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-full",children:[i==="video"?(0,kt.jsx)(Bt,{className:"h-4 w-4 text-blue-600"}):(0,kt.jsx)(Xn,{className:"h-4 w-4 text-blue-600"}),(0,kt.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:i==="video"?"Video Call":"Audio Call"})]})})]})})]}):(0,kt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center",children:(0,kt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})},_6=GQ;var yg=H(he());Rt();var Se=H(se()),nN=({guideType:e="marketing"})=>{let t=lr(),a=new URLSearchParams(t.search).get("courseId"),[o,n]=(0,yg.useState)(null),[s,i]=(0,yg.useState)(""),c=[{id:"1",title:"Engaging Question & Problem/Solution Focus",description:"Perfect for LinkedIn, Facebook, and Instagram. Focuses on problem-solving and career growth.",platform:"LinkedIn, Facebook, Instagram",template:`Are you ready to unlock [Specific Skill]? \u{1F914} Many struggle with [Common Pain Point], but I've distilled years of experience into my new SkillStream course!

Learn [Key Benefit 1] and [Key Benefit 2]. It's high-level education, designed for you to succeed.

Enroll now and transform your skills!

\u27A1\uFE0F Link to my course: [YOUR SKILLSTREAM COURSE LINK]

#SkillStream #OnlineLearning #Upskill #[YourSkillTopic] #CareerGrowth #Education #[YourName]`,tags:["problem-solving","career growth","engagement"]},{id:"2",title:"Direct & Benefit-Driven Announcement",description:"Great for X/Twitter, LinkedIn, and Facebook. Perfect for quick announcements.",platform:"X/Twitter, LinkedIn, Facebook",template:`Exciting news! My new course, [Your Course Title], is now live on SkillStream!

Get ready for high-level education at a low cost, focusing on [Specific Outcome 1] and [Specific Outcome 2].

Start learning today!

\u{1F517} Enroll here: [YOUR SKILLSTREAM COURSE LINK]

#[YourCourseTopic] #SkillStream #OnlineCourse #LearnFromHome #ProfessionalDevelopment #NewSkills`,tags:["announcement","benefits","direct"]},{id:"3",title:"Personal Invitation & Community Focus",description:"Ideal for Instagram, Facebook, and LinkedIn. Creates connection and community feeling.",platform:"Instagram, Facebook, LinkedIn",template:`I'm thrilled to invite you to my course, [Your Course Title], now available on SkillStream!

I've poured my best knowledge into creating content that helps you [Specific Goal] step-by-step. SkillStream makes quality education accessible to everyone.

Join a community of learners and transform your capabilities. Let's learn together!

Click to enroll: [YOUR SKILLSTREAM COURSE LINK]

#SkillStreamCommunity #OnlineEducation #[YourSkillTopic] #LifelongLearning #Empowerment`,tags:["community","personal","invitation"]},{id:"4",title:"Platform Promotion (for Influencers)",description:"For tutors who are also influencers. Promotes the broader SkillStream platform.",platform:"LinkedIn, Facebook, YouTube Community",template:`As an instructor on SkillStream, I'm constantly amazed by the high-quality learning journeys unfolding on the platform! It's truly building an accessible and scalable platform for everyone.

From [Course Category 1] to [Course Category 2], you'll find top-tier content. If you're looking to upskill, this is your go-to.

Check out all the incredible courses available: [SKILLSTREAM PLATFORM GENERAL LINK]

#SkillStream #QualityEducation #CommunityLearning #OnlineLMS #Upskilling #EducationForAll`,tags:["platform","influencer","quality"]}];(0,yg.useEffect)(()=>{a&&vt.getCourseMarketingDetails(Number(a)).then(h=>n(h)).catch(h=>{console.error("Error loading marketing course details:",h),n(null)})},[a]);let l=h=>{if(!o)return;let v=h.template;v=v.replace(/\{courseTitle\}/g,o.title||""),v=v.replace(/\{courseDescription\}/g,o.description||""),v=v.replace(/\{courseCategory\}/g,o.category||""),v=v.replace(/\{coursePrice\}/g,o.price?.toString()||"0"),v=v.replace(/\{enrolledStudents\}/g,o.enrolledStudents?.toString()||"0"),v=v.replace(/\{completionRate\}/g,o.completionRate?.toString()||"0"),v=v.replace(/\{revenue\}/g,o.revenue?.toString()||"0"),i(v)},d=(h,v)=>{navigator.clipboard.writeText(h),i(v),setTimeout(()=>i(""),2e3)},u=h=>{let v=encodeURIComponent(s),m="";switch(h){case"twitter":m=`https://twitter.com/intent/tweet?text=${v}`;break;case"linkedin":m=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent("https://skillstream.com")}&title=${encodeURIComponent(o?.title||"")}&summary=${encodeURIComponent(s)}`;break;case"facebook":m=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent("https://skillstream.com")}&quote=${v}`;break;default:return}window.open(m,"_blank")},g=e==="revenue";return o?(0,Se.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,Se.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Se.jsxs)("div",{className:"mb-8",children:[(0,Se.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,Se.jsx)(fa,{}),(0,Se.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Se.jsx)("div",{className:"p-2 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg",children:(0,Se.jsx)(Wo,{className:"h-6 w-6 text-white"})}),(0,Se.jsxs)("div",{children:[(0,Se.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:g?"How to Grow Your Revenue!":"How to Grow Your Creative Reach!"}),(0,Se.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:g?"Revenue-focused strategies and templates to help you boost your earnings on SkillStream.":"Marketing templates and strategies to promote your course"})]})]})]}),(0,Se.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-8",children:(0,Se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Se.jsxs)("div",{className:"flex-1",children:[(0,Se.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:o.title}),(0,Se.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:o.description}),(0,Se.jsxs)("div",{className:"flex items-center space-x-6 text-sm",children:[(0,Se.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:[(0,Se.jsx)(it,{className:"h-4 w-4 inline mr-1"}),o.enrolledStudents," students"]}),(0,Se.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:[(0,Se.jsx)(Rs,{className:"h-4 w-4 inline mr-1"}),o.completionRate,"% completion"]}),(0,Se.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:[(0,Se.jsx)(Cr,{className:"h-4 w-4 inline mr-1"}),"$",(o.revenue??0).toLocaleString()," revenue"]})]})]}),(0,Se.jsxs)("div",{className:"text-right",children:[(0,Se.jsxs)("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:["$",o.price]}),(0,Se.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Course price"})]})]})})]}),(0,Se.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-6 mb-8",children:[(0,Se.jsx)("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-4",children:"\u{1F4DD} General Instructions for Tutors"}),(0,Se.jsxs)("div",{className:"space-y-3 text-blue-800 dark:text-blue-200",children:[(0,Se.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Se.jsx)(Xt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),(0,Se.jsxs)("span",{children:[(0,Se.jsx)("strong",{children:"Choose Your Course:"})," The course details above are pre-filled for your convenience."]})]}),(0,Se.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Se.jsx)(Xt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),(0,Se.jsxs)("span",{children:[(0,Se.jsx)("strong",{children:"Copy & Customize:"})," Select a template below, copy the text, and customize the bracketed information [ ] to make it unique to your course and personal brand."]})]}),(0,Se.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Se.jsx)(Xt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),(0,Se.jsxs)("span",{children:[(0,Se.jsx)("strong",{children:"Add Your Link:"})," The course link is automatically included in the templates."]})]}),(0,Se.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Se.jsx)(Xt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),(0,Se.jsxs)("span",{children:[(0,Se.jsx)("strong",{children:"Add an Image/Video:"})," Posts with visuals get more engagement! Use an eye-catching image from your course, a short video teaser, or even a personal photo."]})]})]})]}),(0,Se.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Se.jsxs)("div",{children:[(0,Se.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Marketing Templates"}),(0,Se.jsx)("div",{className:"space-y-4",children:c.map(h=>(0,Se.jsxs)("div",{className:`bg-white dark:bg-gray-800 rounded-lg border-2 p-4 cursor-pointer transition-all ${s===h.id?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,onClick:()=>l(h),children:[(0,Se.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Se.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:h.title}),(0,Se.jsx)("span",{className:"text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded",children:h.platform})]}),(0,Se.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:h.description}),(0,Se.jsx)("div",{className:"flex flex-wrap gap-1",children:h.tags.map(v=>(0,Se.jsx)("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded",children:v},v))})]},h.id))})]}),(0,Se.jsxs)("div",{children:[(0,Se.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Customized Text Preview"}),s?(0,Se.jsxs)("div",{className:"space-y-4",children:[(0,Se.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[(0,Se.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Se.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Preview"}),(0,Se.jsx)("button",{onClick:()=>d(s,"text"),className:"flex items-center text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:s==="text"?(0,Se.jsxs)(Se.Fragment,{children:[(0,Se.jsx)(Xt,{className:"h-4 w-4 mr-1"}),"Copied!"]}):(0,Se.jsxs)(Se.Fragment,{children:[(0,Se.jsx)(yr,{className:"h-4 w-4 mr-1"}),"Copy Text"]})})]}),(0,Se.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded p-3 text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap",children:s})]}),(0,Se.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[(0,Se.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Share Directly"}),(0,Se.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Se.jsxs)("button",{onClick:()=>u("twitter"),className:"flex items-center justify-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[(0,Se.jsx)(yr,{className:"h-4 w-4 mr-2"}),"Share on X"]}),(0,Se.jsxs)("button",{onClick:()=>u("linkedin"),className:"flex items-center justify-center px-4 py-2 bg-blue-700 text-white rounded-lg hover:bg-blue-800 transition-colors",children:[(0,Se.jsx)(yr,{className:"h-4 w-4 mr-2"}),"Share on LinkedIn"]}),(0,Se.jsxs)("button",{onClick:()=>u("facebook"),className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Se.jsx)(yr,{className:"h-4 w-4 mr-2"}),"Share on Facebook"]}),(0,Se.jsx)("button",{onClick:()=>d(s,"instagram"),className:"flex items-center justify-center px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-colors",children:s==="instagram"?(0,Se.jsxs)(Se.Fragment,{children:[(0,Se.jsx)(Xt,{className:"h-4 w-4 mr-2"}),"Copied!"]}):(0,Se.jsxs)(Se.Fragment,{children:[(0,Se.jsx)(yr,{className:"h-4 w-4 mr-2"}),"Copy for Instagram"]})})]})]}),(0,Se.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[(0,Se.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Course Link"}),(0,Se.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Se.jsx)("input",{type:"text",value:`https://skillstream.com/courses/${o.id}`,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white text-sm"}),(0,Se.jsx)("button",{onClick:()=>d(`https://skillstream.com/courses/${o.id}`,"link"),className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:s==="link"?(0,Se.jsx)(Xt,{className:"h-4 w-4"}):(0,Se.jsx)(yr,{className:"h-4 w-4"})})]})]})]}):(0,Se.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8 text-center",children:[(0,Se.jsx)(ot,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Se.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Select a template from the left to see your customized marketing text here."})]})]})]}),(0,Se.jsxs)("div",{className:"mt-12 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Se.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"\u{1F4A1} Additional Marketing Tips"}),(0,Se.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Se.jsxs)("div",{children:[(0,Se.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Best Times to Post"}),(0,Se.jsxs)("ul",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-300",children:[(0,Se.jsx)("li",{children:"\u2022 LinkedIn: Tuesday-Thursday, 8-10 AM or 5-6 PM"}),(0,Se.jsx)("li",{children:"\u2022 Facebook: Thursday-Sunday, 1-4 PM"}),(0,Se.jsx)("li",{children:"\u2022 Instagram: Wednesday, 11 AM-1 PM or 7-9 PM"}),(0,Se.jsx)("li",{children:"\u2022 Twitter: Monday-Thursday, 8-10 AM or 6-9 PM"})]})]}),(0,Se.jsxs)("div",{children:[(0,Se.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Engagement Boosters"}),(0,Se.jsxs)("ul",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-300",children:[(0,Se.jsx)("li",{children:"\u2022 Ask questions to encourage comments"}),(0,Se.jsx)("li",{children:"\u2022 Use relevant hashtags (3-5 per post)"}),(0,Se.jsx)("li",{children:"\u2022 Include call-to-action phrases"}),(0,Se.jsx)("li",{children:"\u2022 Share student success stories"}),(0,Se.jsx)("li",{children:"\u2022 Post behind-the-scenes content"})]})]})]})]})]})}):(0,Se.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,Se.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Se.jsxs)("div",{className:"text-center",children:[(0,Se.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Se.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading marketing guide..."})]})})})};var Zu=H(he());Rt();var Me=H(se()),B6=()=>{let{user:e}=Ge(),[t,r]=(0,Zu.useState)({currentMonth:0,previousMonth:0,yearToDate:0,lifetime:0,tutorShare:0,courses:[],transactions:[],monthlyTrends:[],pendingPayoutRequests:[],nextPayoutDate:"",payoutCutoffDate:""}),[a,o]=(0,Zu.useState)("current-month"),[n,s]=(0,Zu.useState)(!0);(0,Zu.useEffect)(()=>{i()},[a]);let i=async()=>{try{if(!e?.id)return;let h=await Nm(e.id);r(h)}catch(h){console.error("Error loading earnings data:",h),r({currentMonth:0,previousMonth:0,yearToDate:0,lifetime:0,tutorShare:0,courses:[],transactions:[],monthlyTrends:[],pendingPayoutRequests:[],nextPayoutDate:"",payoutCutoffDate:""})}finally{s(!1)}},c=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h),l=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),d=h=>{switch(h){case"enrollment":return(0,Me.jsx)(it,{className:"h-4 w-4"});case"payout":return(0,Me.jsx)(Ra,{className:"h-4 w-4"});case"payout-request":return(0,Me.jsx)(xt,{className:"h-4 w-4"});case"adjustment":return(0,Me.jsx)(jt,{className:"h-4 w-4"});default:return(0,Me.jsx)(Ra,{className:"h-4 w-4"})}},u=h=>{switch(h){case"enrollment":return"text-green-600 dark:text-green-400";case"payout":return"text-red-600 dark:text-red-400";case"payout-request":return"text-blue-600 dark:text-blue-400";case"adjustment":return"text-blue-600 dark:text-blue-400";default:return"text-gray-600 dark:text-gray-400"}},g=h=>{switch(h){case"completed":return(0,Me.jsx)(Xt,{className:"h-3 w-3 text-green-600"});case"pending":return(0,Me.jsx)(xt,{className:"h-3 w-3 text-yellow-600"});case"scheduled":return(0,Me.jsx)(xt,{className:"h-3 w-3 text-blue-600"});case"failed":return(0,Me.jsx)(pr,{className:"h-3 w-3 text-red-600"});default:return(0,Me.jsx)(xt,{className:"h-3 w-3 text-gray-600"})}};return n?(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,Me.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:[(0,Me.jsx)("div",{className:"courses-header",children:(0,Me.jsxs)("div",{className:"courses-header-content",children:[(0,Me.jsxs)("div",{className:"courses-header-text",children:[(0,Me.jsx)("h1",{className:"courses-header-title",children:"Detailed Earnings Report"}),(0,Me.jsx)("p",{className:"courses-header-subtitle",children:"Comprehensive breakdown of your earnings and revenue streams"})]}),(0,Me.jsxs)("button",{className:"courses-create-button",onClick:()=>{console.log("Export report")},children:[(0,Me.jsx)(Wr,{className:"courses-create-button-icon"}),"Export Report"]})]})}),(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Me.jsx)("div",{className:"mb-6",children:(0,Me.jsxs)("select",{value:a,onChange:h=>o(h.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,Me.jsx)("option",{value:"current-month",children:"Current Month"}),(0,Me.jsx)("option",{value:"previous-month",children:"Previous Month"}),(0,Me.jsx)("option",{value:"year-to-date",children:"Year to Date"}),(0,Me.jsx)("option",{value:"lifetime",children:"Lifetime"})]})}),(0,Me.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-6 mb-8",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(xt,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:"Monthly Payout Status"}),(0,Me.jsxs)("p",{className:"text-blue-700 dark:text-blue-300",children:["Next payout: ",t.nextPayoutDate," \u2022 Cut-off: ",t.payoutCutoffDate]})]})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Pending Requests"}),(0,Me.jsx)("p",{className:"text-lg font-bold text-blue-900 dark:text-blue-100",children:t.pendingPayoutRequests.length})]})]})}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,Me.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Earnings"}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c(t.tutorShare)})]}),(0,Me.jsx)(Cr,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})]})}),(0,Me.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Courses"}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.courses.length})]}),(0,Me.jsx)(Kt,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"})]})})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Me.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Earnings by Course"}),(0,Me.jsx)("div",{className:"space-y-4",children:t.courses.map(h=>(0,Me.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:h.courseTitle}),(0,Me.jsx)("span",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:c(h.totalEarnings)})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Me.jsx)("div",{children:(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(it,{className:"h-4 w-4 text-blue-600"}),(0,Me.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Individual:"}),(0,Me.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:c(h.individualEarnings)})]})}),(0,Me.jsx)("div",{children:(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Dm,{className:"h-4 w-4 text-purple-600"}),(0,Me.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Corporate:"}),(0,Me.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:c(h.corporateEarnings)})]})})]}),(0,Me.jsxs)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:[h.enrollments," enrollments \u2022 ",h.completionRate,"% completion rate"]})]},h.courseId))})]}),(0,Me.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Transactions"}),(0,Me.jsx)("div",{className:"space-y-3",children:t.transactions.map(h=>(0,Me.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:`p-2 rounded-lg bg-gray-100 dark:bg-gray-600 ${u(h.type)}`,children:d(h.type)}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:h.description}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[l(h.date),h.payoutMonth&&` \u2022 ${h.payoutMonth}`]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsxs)("span",{className:`font-medium ${h.amount<0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[h.amount<0?"-":"+",c(Math.abs(h.amount))]}),g(h.status)]})]},h.id))})]})]}),t.pendingPayoutRequests.length>0&&(0,Me.jsxs)("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Pending Payout Requests"}),(0,Me.jsx)("div",{className:"space-y-4",children:t.pendingPayoutRequests.map(h=>(0,Me.jsx)("div",{className:"border border-blue-200 dark:border-blue-700 rounded-lg p-4 bg-blue-50 dark:bg-blue-900/20",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:[c(h.amount)," - ",h.paymentMethod]}),(0,Me.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Requested: ",l(h.requestedDate)," \u2022 Scheduled: ",h.scheduledDate?l(h.scheduledDate):"Pending"]}),(0,Me.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:[h.payoutMonth," Payout Cycle"]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-800",children:"Scheduled for Month-End"}),(0,Me.jsx)(xt,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})]})]})},h.id))})]}),(0,Me.jsxs)("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Monthly Earnings Trend"}),(0,Me.jsx)("div",{className:"h-64 flex items-end justify-between space-x-2",children:t.monthlyTrends.map((h,v)=>{let m=Math.max(...t.monthlyTrends.map(p=>p.earnings)),y=h.earnings/m*100;return(0,Me.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,Me.jsx)("div",{className:"w-full bg-gradient-to-t from-green-500 to-green-400 rounded-t",style:{height:`${y}%`}}),(0,Me.jsx)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 text-center",children:h.month}),(0,Me.jsx)("div",{className:"text-xs font-medium text-gray-900 dark:text-white",children:c(h.earnings)})]},v)})})]})]})]})};var ef=H(he());var ke=H(se()),KQ=[{id:"physics-basics",name:"Physics Problem Solving",subject:"Physics",duration:60,description:"Interactive problem-solving session",icon:(0,ke.jsx)(Wo,{className:"h-6 w-6"})},{id:"math-tutoring",name:"One-on-One Math Help",subject:"Mathematics",duration:45,description:"Personalized math tutoring",icon:(0,ke.jsx)(ot,{className:"h-6 w-6"})},{id:"group-study",name:"Group Study Session",subject:"General",duration:90,description:"Collaborative learning with multiple students",icon:(0,ke.jsx)(it,{className:"h-6 w-6"})},{id:"exam-prep",name:"Exam Preparation",subject:"General",duration:120,description:"Focused exam review and practice",icon:(0,ke.jsx)(jt,{className:"h-6 w-6"})}],q6=()=>{let{user:e}=Ge(),{showSuccess:t,showError:r}=Ja(),a=ht(),[o,n]=(0,ef.useState)(null),[s,i]=(0,ef.useState)({title:"",description:"",subject:"",scheduledDate:"",scheduledTime:"",duration:60,maxStudents:10,isPaid:!1,price:0,lessonType:"live",materials:[],isRecurring:!1,recurrenceFrequency:"weekly",recurrenceEndType:"date",recurrenceEndDate:"",recurrenceCount:5}),[c,l]=(0,ef.useState)(!1),[d,u]=(0,ef.useState)(null),[g,h]=(0,ef.useState)(!1),v=b=>{n(b.id),i(w=>({...w,title:b.name,description:b.description,subject:b.subject,duration:b.duration}))},m=async b=>{b.preventDefault(),l(!0),s.isRecurring?await p():await y()},y=async()=>{try{let b=new Date(`${s.scheduledDate}T${s.scheduledTime}`).toISOString(),w={id:Date.now().toString(),joinLink:`https://lesson.skillstream.com/${Date.now()}`};u(w),t("Lesson Created","Your lesson has been created successfully.")}catch(b){console.error("Error creating lesson:",b),r("Failed to Create Lesson","Unable to create lesson. Please try again.")}finally{l(!1)}},p=async()=>{try{let b=new Date(`${s.scheduledDate}T${s.scheduledTime}`),w=[],N=new Date(b),I=0,C=s.recurrenceEndType==="count"?s.recurrenceCount:100,S=s.recurrenceEndType==="date"&&s.recurrenceEndDate?new Date(s.recurrenceEndDate):null;for(;I<C&&(!S||N<=S);){switch(w.push({date:new Date(N),scheduledAt:N.toISOString()}),s.recurrenceFrequency){case"daily":N.setDate(N.getDate()+1);break;case"weekly":N.setDate(N.getDate()+7);break;case"bi-weekly":N.setDate(N.getDate()+14);break;case"monthly":N.setMonth(N.getMonth()+1);break}I++}t("Recurring Lessons Created",`${w.length} lesson(s) have been scheduled successfully.`);let k={title:s.title,description:s.description,subject:s.subject,duration:s.duration,maxStudents:s.maxStudents,frequency:s.recurrenceFrequency,lessons:w.map(E=>E.scheduledAt),createdAt:new Date().toISOString()};try{let E=localStorage.getItem(`recurring-lessons-${e?.id}`),L=E?JSON.parse(E):[];localStorage.setItem(`recurring-lessons-${e?.id}`,JSON.stringify([...L,k]))}catch(E){console.error("Error saving recurring series:",E)}u({id:Date.now().toString(),joinLink:`https://lesson.skillstream.com/series/${Date.now()}`})}catch(b){console.error("Error creating recurring lessons:",b),r("Failed to Create Lessons","Unable to create recurring lessons. Please try again.")}finally{l(!1)}},f=()=>{d&&(navigator.clipboard.writeText(d.joinLink),h(!0),setTimeout(()=>h(!1),2e3))},x=()=>{d&&a(`/lessons/${d.id}/live`)};return d?(0,ke.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,ke.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ke.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-8",children:[(0,ke.jsxs)("div",{className:"text-center mb-8",children:[(0,ke.jsx)("div",{className:"w-16 h-16 bg-green-600 flex items-center justify-center mx-auto mb-4",children:(0,ke.jsx)(fr,{className:"h-8 w-8 text-white"})}),(0,ke.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"Lesson Created Successfully"}),(0,ke.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Your lesson is ready. Share the link with your students or start now."})]}),(0,ke.jsxs)("div",{className:"space-y-6",children:[(0,ke.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600 p-6",children:[(0,ke.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Share this link with students:"}),(0,ke.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ke.jsx)("input",{type:"text",value:d.joinLink,readOnly:!0,className:"flex-1 px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white"}),(0,ke.jsx)("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 transition-colors font-medium flex items-center space-x-2",children:g?(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(fr,{className:"h-4 w-4"}),(0,ke.jsx)("span",{children:"Copied!"})]}):(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(ii,{className:"h-4 w-4"}),(0,ke.jsx)("span",{children:"Copy"})]})})]})]}),(0,ke.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ke.jsxs)("button",{onClick:x,className:"flex items-center justify-center px-6 py-3 bg-green-600 text-white hover:bg-green-700 transition-colors font-medium",children:[(0,ke.jsx)(oa,{className:"h-5 w-5 mr-2"}),"Start Lesson Now"]}),(0,ke.jsx)("button",{onClick:()=>{u(null),i({title:"",description:"",subject:"",scheduledDate:"",scheduledTime:"",duration:60,maxStudents:10,isPaid:!1,price:0,lessonType:"live",materials:[],isRecurring:!1,recurrenceFrequency:"weekly",recurrenceEndType:"date",recurrenceEndDate:"",recurrenceCount:5}),n(null)},className:"flex items-center justify-center px-6 py-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors font-medium",children:"Create Another Lesson"})]})]})]})})}):(0,ke.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,ke.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:(0,ke.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ke.jsxs)("div",{className:"text-center max-w-3xl mx-auto",children:[(0,ke.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-full mb-6",children:(0,ke.jsx)(Bt,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),(0,ke.jsx)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Create Your Lesson in Minutes"}),(0,ke.jsx)("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8",children:"Set up an extra lesson, invite students, and start teaching. Perfect for one-on-one tutoring, group sessions, or exam prep."})]})})}),(0,ke.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,ke.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ke.jsx)("div",{className:"lg:col-span-1",children:(0,ke.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-6 sticky top-8",children:[(0,ke.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,ke.jsx)(vn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),(0,ke.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Quick Start Templates"})]}),(0,ke.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choose a template to get started quickly"}),(0,ke.jsx)("div",{className:"space-y-3",children:KQ.map(b=>(0,ke.jsx)("button",{onClick:()=>v(b),className:`w-full p-4 border text-left transition-all ${o===b.id?"border-blue-600 bg-blue-50 dark:bg-blue-900/10 shadow-sm":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:(0,ke.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ke.jsx)("div",{className:`p-2 ${o===b.id?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:b.icon}),(0,ke.jsxs)("div",{className:"flex-1",children:[(0,ke.jsx)("div",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:b.name}),(0,ke.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:[b.duration," min"]})]})]})},b.id))})]})}),(0,ke.jsx)("div",{className:"lg:col-span-2",children:(0,ke.jsx)("form",{onSubmit:m,className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-8",children:(0,ke.jsxs)("div",{className:"space-y-6",children:[(0,ke.jsxs)("div",{children:[(0,ke.jsx)("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Lesson Title *"}),(0,ke.jsx)("input",{type:"text",required:!0,value:s.title,onChange:b=>i(w=>({...w,title:b.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., Physics Problem Solving Session"})]}),(0,ke.jsxs)("div",{children:[(0,ke.jsx)("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"What will students learn?"}),(0,ke.jsx)("textarea",{value:s.description,onChange:b=>i(w=>({...w,description:b.target.value})),rows:4,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Describe what you'll cover in this lesson..."})]}),(0,ke.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ke.jsxs)("div",{children:[(0,ke.jsxs)("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:[(0,ke.jsx)(Kt,{className:"h-4 w-4 inline mr-1"}),"Date *"]}),(0,ke.jsx)("input",{type:"date",required:!0,value:s.scheduledDate,onChange:b=>i(w=>({...w,scheduledDate:b.target.value})),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,ke.jsxs)("div",{children:[(0,ke.jsxs)("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:[(0,ke.jsx)(xt,{className:"h-4 w-4 inline mr-1"}),"Time *"]}),(0,ke.jsx)("input",{type:"time",required:!0,value:s.scheduledTime,onChange:b=>i(w=>({...w,scheduledTime:b.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,ke.jsxs)("div",{children:[(0,ke.jsx)("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Duration (min) *"}),(0,ke.jsx)("input",{type:"number",required:!0,min:15,max:240,step:15,value:s.duration,onChange:b=>i(w=>({...w,duration:parseInt(b.target.value)})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),(0,ke.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 p-6 rounded-lg",children:[(0,ke.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ke.jsxs)("label",{className:"flex items-center text-sm font-semibold text-gray-900 dark:text-white",children:[(0,ke.jsx)(Kt,{className:"h-4 w-4 mr-1"}),"Recurring Lesson Series"]}),(0,ke.jsx)("button",{type:"button",onClick:()=>i(b=>({...b,isRecurring:!b.isRecurring})),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${s.isRecurring?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"}`,children:(0,ke.jsx)("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${s.isRecurring?"translate-x-5":"translate-x-0"}`})})]}),s.isRecurring&&(0,ke.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,ke.jsxs)("div",{children:[(0,ke.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Frequency *"}),(0,ke.jsxs)("select",{value:s.recurrenceFrequency,onChange:b=>i(w=>({...w,recurrenceFrequency:b.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,ke.jsx)("option",{value:"daily",children:"Daily"}),(0,ke.jsx)("option",{value:"weekly",children:"Weekly"}),(0,ke.jsx)("option",{value:"bi-weekly",children:"Bi-weekly"}),(0,ke.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,ke.jsxs)("div",{children:[(0,ke.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Condition *"}),(0,ke.jsxs)("div",{className:"space-y-2",children:[(0,ke.jsxs)("label",{className:"flex items-center",children:[(0,ke.jsx)("input",{type:"radio",name:"recurrenceEndType",value:"count",checked:s.recurrenceEndType==="count",onChange:b=>i(w=>({...w,recurrenceEndType:b.target.value})),className:"mr-2"}),(0,ke.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"After a number of occurrences"})]}),s.recurrenceEndType==="count"&&(0,ke.jsx)("input",{type:"number",min:2,max:100,value:s.recurrenceCount,onChange:b=>i(w=>({...w,recurrenceCount:parseInt(b.target.value)})),className:"ml-6 w-32 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),(0,ke.jsxs)("label",{className:"flex items-center",children:[(0,ke.jsx)("input",{type:"radio",name:"recurrenceEndType",value:"date",checked:s.recurrenceEndType==="date",onChange:b=>i(w=>({...w,recurrenceEndType:b.target.value})),className:"mr-2"}),(0,ke.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"On a specific date"})]}),s.recurrenceEndType==="date"&&(0,ke.jsx)("input",{type:"date",value:s.recurrenceEndDate,onChange:b=>i(w=>({...w,recurrenceEndDate:b.target.value})),min:s.scheduledDate,className:"ml-6 w-48 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]})]})]}),(0,ke.jsxs)("div",{children:[(0,ke.jsxs)("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2",children:[(0,ke.jsx)(it,{className:"h-4 w-4 inline mr-1"}),"Maximum Students"]}),(0,ke.jsx)("input",{type:"number",min:1,max:50,value:s.maxStudents,onChange:b=>i(w=>({...w,maxStudents:parseInt(b.target.value)})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"}),(0,ke.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Set to 1 for one-on-one tutoring"})]}),(0,ke.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600 p-6",children:[(0,ke.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ke.jsxs)("label",{className:"flex items-center text-sm font-semibold text-gray-900 dark:text-white",children:[(0,ke.jsx)(Ra,{className:"h-4 w-4 mr-1"}),"Paid Lesson"]}),(0,ke.jsx)("button",{type:"button",onClick:()=>i(b=>({...b,isPaid:!b.isPaid})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s.isPaid?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}`,children:(0,ke.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s.isPaid?"translate-x-6":"translate-x-1"}`})})]}),s.isPaid&&(0,ke.jsxs)("div",{children:[(0,ke.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price ($)"}),(0,ke.jsx)("input",{type:"number",min:0,step:.01,value:s.price,onChange:b=>i(w=>({...w,price:parseFloat(b.target.value)})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),(0,ke.jsx)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,ke.jsx)("button",{type:"submit",disabled:c,className:"w-full px-6 py-4 bg-blue-600 text-white hover:bg-blue-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:c?(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,ke.jsx)("span",{children:"Creating Lesson..."})]}):(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(Bt,{className:"h-5 w-5"}),(0,ke.jsx)("span",{children:"Create & Share Lesson"}),(0,ke.jsx)(cr,{className:"h-5 w-5"})]})})})]})})})]})})]})};var tf=H(he());Rt();var st=H(se()),j6=()=>{let{user:e}=Ge(),[t,r]=(0,tf.useState)({userIds:"",userEmails:"",title:"",message:"",type:"INFO",sendEmail:!0,link:""}),[a,o]=(0,tf.useState)({userIds:"",userEmails:"",subject:"",content:"",ctaText:"",ctaLink:""}),[n,s]=(0,tf.useState)(null),[i,c]=(0,tf.useState)(null),[l,d]=(0,tf.useState)(!1);if(!e||e.role!=="ADMIN")return(0,st.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,st.jsxs)("div",{className:"bg-white shadow rounded-xl p-8 max-w-md text-center",children:[(0,st.jsx)(pr,{className:"h-10 w-10 text-red-500 mx-auto mb-4"}),(0,st.jsx)("h1",{className:"text-xl font-semibold mb-2 text-gray-900",children:"Access denied"}),(0,st.jsx)("p",{className:"text-gray-600 text-sm",children:"You must be an administrator to view this page."})]})});let u=v=>v.split(",").map(m=>m.trim()).filter(Boolean),g=async(v,m)=>{v.preventDefault(),s(null),c(null),d(!0);try{let y={title:t.title,message:t.message,type:t.type||void 0,sendEmail:t.sendEmail,link:t.link||void 0};if(m)await sw(y);else{let p=u(t.userIds),f=u(t.userEmails);p.length&&(y.userIds=p),f.length&&(y.userEmails=f),await nw(y)}s("Notification sent successfully.")}catch(y){console.error("Error sending notification:",y),c("Failed to send notification. Please try again.")}finally{d(!1)}},h=async(v,m)=>{v.preventDefault(),s(null),c(null),d(!0);try{let y={subject:a.subject,content:a.content,ctaText:a.ctaText||void 0,ctaLink:a.ctaLink||void 0};if(m)await lw(y);else{let p=u(a.userIds),f=u(a.userEmails);p.length&&(y.userIds=p),f.length&&(y.userEmails=f),await iw(y)}s("Promotional email sent successfully.")}catch(y){console.error("Error sending promotional email:",y),c("Failed to send promotional email. Please try again.")}finally{d(!1)}};return(0,st.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,st.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[(0,st.jsxs)("div",{className:"mb-8",children:[(0,st.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[(0,st.jsx)(Km,{className:"h-6 w-6 text-[#00B5AD]"}),"Admin Communications"]}),(0,st.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Send in-app notifications and promotional emails to users across the platform."})]}),(n||i)&&(0,st.jsx)("div",{className:`mb-6 p-3 rounded-md text-sm ${n?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:n||i}),(0,st.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[(0,st.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,st.jsx)(it,{className:"h-5 w-5 text-[#00B5AD]"}),(0,st.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"System Notifications"})]}),(0,st.jsxs)("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",onSubmit:v=>g(v,!1),children:[(0,st.jsxs)("div",{className:"space-y-4",children:[(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User IDs (comma-separated, optional)"}),(0,st.jsx)("input",{type:"text",value:t.userIds,onChange:v=>r(m=>({...m,userIds:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-[#00B5AD] focus:border-[#00B5AD]",placeholder:"e.g. user1,user2"})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User emails (comma-separated, optional)"}),(0,st.jsx)("input",{type:"text",value:t.userEmails,onChange:v=>r(m=>({...m,userEmails:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-[#00B5AD] focus:border-[#00B5AD]",placeholder:"e.g. a@example.com,b@example.com"})]})]}),(0,st.jsxs)("div",{className:"space-y-4",children:[(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,st.jsx)("input",{type:"text",value:t.title,onChange:v=>r(m=>({...m,title:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-[#00B5AD] focus:border-[#00B5AD]",placeholder:"Notification title",required:!0})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),(0,st.jsx)("textarea",{value:t.message,onChange:v=>r(m=>({...m,message:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-[#00B5AD] focus:border-[#00B5AD] min-h-[80px]",placeholder:"Short message to display in-app",required:!0})]}),(0,st.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,st.jsxs)("div",{className:"flex items-center gap-2",children:[(0,st.jsx)("input",{id:"sendEmail",type:"checkbox",checked:t.sendEmail,onChange:v=>r(m=>({...m,sendEmail:v.target.checked})),className:"h-4 w-4 text-[#00B5AD] border-gray-300 rounded"}),(0,st.jsx)("label",{htmlFor:"sendEmail",className:"text-sm text-gray-700",children:"Also send as email"})]}),(0,st.jsx)("button",{type:"button",onClick:v=>g(v,!0),disabled:l,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-md text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-60",children:"Send to all users"})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Optional deep link"}),(0,st.jsx)("input",{type:"text",value:t.link,onChange:v=>r(m=>({...m,link:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-[#00B5AD] focus:border-[#00B5AD]",placeholder:"/courses/123 or https://..."})]}),(0,st.jsx)("div",{className:"flex justify-end",children:(0,st.jsx)("button",{type:"submit",disabled:l,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-[#00B5AD] hover:bg-[#009b94] disabled:opacity-60",children:"Send notification"})})]})]})]}),(0,st.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,st.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,st.jsx)($o,{className:"h-5 w-5 text-[#00B5AD]"}),(0,st.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Promotional Emails"})]}),(0,st.jsxs)("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",onSubmit:v=>h(v,!1),children:[(0,st.jsxs)("div",{className:"space-y-4",children:[(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User IDs (comma-separated, optional)"}),(0,st.jsx)("input",{type:"text",value:a.userIds,onChange:v=>o(m=>({...m,userIds:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-[#00B5AD] focus:border-[#00B5AD]",placeholder:"Targeted user IDs"})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User emails (comma-separated, optional)"}),(0,st.jsx)("input",{type:"text",value:a.userEmails,onChange:v=>o(m=>({...m,userEmails:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-[#00B5AD] focus:border-[#00B5AD]",placeholder:"Targeted email addresses"})]})]}),(0,st.jsxs)("div",{className:"space-y-4",children:[(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),(0,st.jsx)("input",{type:"text",value:a.subject,onChange:v=>o(m=>({...m,subject:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-[#00B5AD] focus:border-[#00B5AD]",placeholder:"Email subject line",required:!0})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),(0,st.jsx)("textarea",{value:a.content,onChange:v=>o(m=>({...m,content:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-[#00B5AD] focus:border-[#00B5AD] min-h-[80px]",placeholder:"Promotional email body",required:!0})]}),(0,st.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CTA Text (optional)"}),(0,st.jsx)("input",{type:"text",value:a.ctaText,onChange:v=>o(m=>({...m,ctaText:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-[#00B5AD] focus:border-[#00B5AD]",placeholder:"e.g. View course"})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CTA Link (optional)"}),(0,st.jsx)("input",{type:"text",value:a.ctaLink,onChange:v=>o(m=>({...m,ctaLink:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-[#00B5AD] focus:border-[#00B5AD]",placeholder:"https://..."})]})]}),(0,st.jsxs)("div",{className:"flex justify-between items-center",children:[(0,st.jsx)("button",{type:"button",onClick:v=>h(v,!0),disabled:l,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-md text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-60",children:"Send to all users"}),(0,st.jsx)("button",{type:"submit",disabled:l,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-[#00B5AD] hover:bg-[#009b94] disabled:opacity-60",children:"Send promotional email"})]})]})]})]})]})})};var El=H(he());Rt();var dt=H(se()),U6=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],z6=()=>{let{user:e}=Ge(),[t,r]=(0,El.useState)([]),[a,o]=(0,El.useState)([]),[n,s]=(0,El.useState)(!1),[i,c]=(0,El.useState)(null),[l,d]=(0,El.useState)({date:"",startTime:"",endTime:"",isRecurring:!1,recurringDays:[]});(0,El.useEffect)(()=>{u()},[]);let u=async()=>{try{if(!e?.id)return;let p=await zw(e.id);r(p.blocks||[]),o(p.recurringSlots||[])}catch(p){console.error("Error loading availability:",p)}},g=async p=>{try{if(!e?.id)return;await $w(e.id,p),r(i?f=>f.map(x=>x.id===p.id?p:x):f=>[...f,p]),s(!1),c(null),d({date:"",startTime:"",endTime:"",isRecurring:!1,recurringDays:[]})}catch(f){console.error("Error saving availability:",f),alert("Failed to save availability")}},h=async p=>{if(confirm("Are you sure you want to delete this availability block?"))try{if(!e?.id)return;await Hw(e.id,p),r(f=>f.filter(x=>x.id!==p))}catch(f){console.error("Error deleting availability:",f),alert("Failed to delete availability")}},v=p=>{d(f=>{let x=f.recurringDays||[],b=x.includes(p)?x.filter(w=>w!==p):[...x,p];return{...f,recurringDays:b}})},m=p=>{c(p),d(p),s(!0)},y=p=>{if(p.preventDefault(),!l.startTime||!l.endTime){alert("Please fill in start and end times");return}if(l.isRecurring&&(!l.recurringDays||l.recurringDays.length===0)){alert("Please select at least one day for recurring availability");return}if(!l.isRecurring&&!l.date){alert("Please select a date");return}let f={id:i?.id||`block-${Date.now()}`,date:l.date||"",startTime:l.startTime,endTime:l.endTime,isRecurring:l.isRecurring||!1,recurringDays:l.isRecurring?l.recurringDays:void 0};g(f)};return(0,dt.jsxs)("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[(0,dt.jsx)("div",{className:"courses-header",children:(0,dt.jsxs)("div",{className:"courses-header-content",children:[(0,dt.jsxs)("div",{className:"courses-header-text",children:[(0,dt.jsx)("h1",{className:"courses-header-title",children:"My Availability"}),(0,dt.jsx)("p",{className:"courses-header-subtitle",children:"Set when you're available for students to book lessons"})]}),(0,dt.jsxs)("button",{onClick:()=>{c(null),d({date:"",startTime:"",endTime:"",isRecurring:!1,recurringDays:[]}),s(!0)},className:"courses-create-button",children:[(0,dt.jsx)(Ut,{className:"courses-create-button-icon"}),"Add Availability"]})]})}),(0,dt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,dt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(p=>(0,dt.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-6",children:(0,dt.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,dt.jsxs)("div",{className:"flex-1",children:[p.isRecurring?(0,dt.jsxs)("div",{children:[(0,dt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,dt.jsx)(Kt,{className:"h-4 w-4 text-blue-600"}),(0,dt.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Recurring"})]}),(0,dt.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:p.recurringDays?.map(f=>(0,dt.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded text-xs font-medium",children:U6[f].slice(0,3)},f))})]}):(0,dt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,dt.jsx)(Kt,{className:"h-4 w-4 text-blue-600"}),(0,dt.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:new Date(p.date).toLocaleDateString()})]}),(0,dt.jsxs)("div",{className:"flex items-center space-x-2 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,dt.jsx)(xt,{className:"h-4 w-4"}),(0,dt.jsxs)("span",{children:[p.startTime," - ",p.endTime]})]})]}),(0,dt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,dt.jsx)("button",{onClick:()=>m(p),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:(0,dt.jsx)(hn,{className:"h-4 w-4"})}),(0,dt.jsx)("button",{onClick:()=>h(p.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:(0,dt.jsx)(gr,{className:"h-4 w-4"})})]})]})},p.id)),t.length===0&&(0,dt.jsxs)("div",{className:"col-span-full text-center py-12 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[(0,dt.jsx)(Kt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,dt.jsx)("h3",{className:"text-base font-medium text-gray-900 dark:text-white mb-2",children:"No availability set"}),(0,dt.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4 text-sm",children:"Add your availability so students can book lessons with you"}),(0,dt.jsx)("button",{onClick:()=>s(!0),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:"Add Availability"})]})]}),n&&(0,dt.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,dt.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,dt.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 px-6 py-4",children:(0,dt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,dt.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i?"Edit Availability":"Add Availability"}),(0,dt.jsx)("button",{onClick:()=>{s(!1),c(null),d({date:"",startTime:"",endTime:"",isRecurring:!1,recurringDays:[]})},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:(0,dt.jsx)(et,{className:"h-5 w-5"})})]})}),(0,dt.jsxs)("form",{onSubmit:y,className:"p-6 space-y-6",children:[(0,dt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600",children:[(0,dt.jsxs)("label",{className:"flex items-center text-sm font-semibold text-gray-700 dark:text-gray-300",children:[(0,dt.jsx)(Kt,{className:"h-4 w-4 mr-2"}),"Recurring Availability"]}),(0,dt.jsx)("button",{type:"button",onClick:()=>d(p=>({...p,isRecurring:!p.isRecurring})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.isRecurring?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}`,children:(0,dt.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.isRecurring?"translate-x-6":"translate-x-1"}`})})]}),l.isRecurring?(0,dt.jsxs)("div",{children:[(0,dt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Select Days"}),(0,dt.jsx)("div",{className:"grid grid-cols-7 gap-2",children:U6.map((p,f)=>(0,dt.jsx)("button",{type:"button",onClick:()=>v(f),className:`p-3 border transition-colors font-medium text-sm ${l.recurringDays?.includes(f)?"border-blue-600 bg-blue-50 dark:bg-blue-900/10 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-300 dark:hover:border-gray-500"}`,children:p.slice(0,3)},f))})]}):(0,dt.jsxs)("div",{children:[(0,dt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Date *"}),(0,dt.jsx)("input",{type:"date",required:!l.isRecurring,value:l.date,onChange:p=>d(f=>({...f,date:p.target.value})),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,dt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,dt.jsxs)("div",{children:[(0,dt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Start Time *"}),(0,dt.jsx)("input",{type:"time",required:!0,value:l.startTime,onChange:p=>d(f=>({...f,startTime:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,dt.jsxs)("div",{children:[(0,dt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"End Time *"}),(0,dt.jsx)("input",{type:"time",required:!0,value:l.endTime,onChange:p=>d(f=>({...f,endTime:p.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),(0,dt.jsxs)("div",{className:"flex space-x-3",children:[(0,dt.jsxs)("button",{type:"submit",className:"flex-1 px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 transition-colors font-medium",children:[(0,dt.jsx)(Jn,{className:"h-4 w-4 inline mr-2"}),i?"Update":"Save"," Availability"]}),(0,dt.jsx)("button",{type:"button",onClick:()=>{s(!1),c(null),d({date:"",startTime:"",endTime:"",isRecurring:!1,recurringDays:[]})},className:"px-6 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})]})})]})]})};var Pn=H(he());Rt();var ge=H(se()),$6=()=>{let{user:e}=Ge(),[t,r]=(0,Pn.useState)([]),[a,o]=(0,Pn.useState)([]),[n,s]=(0,Pn.useState)(new Date().toISOString().split("T")[0]),[i,c]=(0,Pn.useState)("all"),[l,d]=(0,Pn.useState)("all"),[u,g]=(0,Pn.useState)(!0),[h,v]=(0,Pn.useState)(!1),[m,y]=(0,Pn.useState)(null),[p,f]=(0,Pn.useState)("grid");(0,Pn.useEffect)(()=>{x(),b()},[n,i,l]);let x=async()=>{try{g(!0);let k=await Bw({date:n,subject:i,teacherId:l});r(k)}catch(k){console.error("Error loading slots:",k)}finally{g(!1)}},b=async()=>{try{if(!e?.id){o([]);return}let k=await qw(e.id);o(k)}catch(k){console.error("Error loading bookings:",k)}},w=k=>{y(k),v(!0)},N=async()=>{if(!(!m||!e?.id))try{let k=await jw(m.id,e.id);o(E=>[...E,k]),v(!1),y(null),x()}catch(k){console.error("Error booking slot:",k),alert("Failed to book lesson. Please try again.")}},I=async k=>{if(confirm("Are you sure you want to cancel this booking?"))try{await Uw(k),o(E=>E.filter(L=>L.id!==k))}catch(E){console.error("Error cancelling booking:",E),alert("Failed to cancel booking.")}},C=k=>{try{if(!k)return"";let[E,L]=k.split(":"),P=new Date;return P.setHours(parseInt(E)||0,parseInt(L)||0),P.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}catch{return""}},S=k=>{try{if(!k)return"";let E=new Date(k);if(isNaN(E.getTime()))return"";let L=new Date,P=new Date(L);return P.setDate(P.getDate()+1),E.toDateString()===L.toDateString()?"Today":E.toDateString()===P.toDateString()?"Tomorrow":E.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}catch{return""}};return(0,ge.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,ge.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:(0,ge.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ge.jsxs)("div",{className:"text-center max-w-3xl mx-auto mb-8",children:[(0,ge.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-3",children:"Book a Lesson with Expert Teachers"}),(0,ge.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Find available lessons, book your slot, and start learning"})]}),(0,ge.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ge.jsxs)("div",{children:[(0,ge.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[(0,ge.jsx)(Kt,{className:"h-4 w-4 inline mr-1"}),"Date"]}),(0,ge.jsx)("input",{type:"date",value:n,onChange:k=>s(k.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,ge.jsxs)("div",{children:[(0,ge.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[(0,ge.jsx)(ot,{className:"h-4 w-4 inline mr-1"}),"Subject"]}),(0,ge.jsxs)("select",{value:i,onChange:k=>c(k.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[(0,ge.jsx)("option",{value:"all",children:"All Subjects"}),(0,ge.jsx)("option",{value:"Physics",children:"Physics"}),(0,ge.jsx)("option",{value:"Math",children:"Mathematics"}),(0,ge.jsx)("option",{value:"Chemistry",children:"Chemistry"}),(0,ge.jsx)("option",{value:"Biology",children:"Biology"})]})]}),(0,ge.jsxs)("div",{children:[(0,ge.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[(0,ge.jsx)(Kr,{className:"h-4 w-4 inline mr-1"}),"Teacher"]}),(0,ge.jsx)("select",{value:l,onChange:k=>d(k.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:(0,ge.jsx)("option",{value:"all",children:"All Teachers"})})]})]})]})}),(0,ge.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ge.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ge.jsxs)("div",{className:"lg:col-span-2",children:[(0,ge.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ge.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Available Lessons"}),(0,ge.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ge.jsx)("button",{onClick:()=>f("grid"),className:`p-2 ${p==="grid"?"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-400"}`,children:(0,ge.jsxs)("div",{className:"w-4 h-4 grid grid-cols-2 gap-0.5",children:[(0,ge.jsx)("div",{className:"bg-current"}),(0,ge.jsx)("div",{className:"bg-current"}),(0,ge.jsx)("div",{className:"bg-current"}),(0,ge.jsx)("div",{className:"bg-current"})]})}),(0,ge.jsx)("button",{onClick:()=>f("list"),className:`p-2 ${p==="list"?"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-400"}`,children:(0,ge.jsxs)("div",{className:"w-4 h-4 flex flex-col gap-0.5",children:[(0,ge.jsx)("div",{className:"h-0.5 bg-current"}),(0,ge.jsx)("div",{className:"h-0.5 bg-current"}),(0,ge.jsx)("div",{className:"h-0.5 bg-current"})]})})]})]}),u?(0,ge.jsx)("div",{className:"text-center py-12",children:(0,ge.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):t.length===0?(0,ge.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-12 text-center",children:[(0,ge.jsx)(Kt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,ge.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No lessons available"}),(0,ge.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Try selecting a different date or subject"})]}):p==="grid"?(0,ge.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(k=>(0,ge.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 transition-colors overflow-hidden",children:[(0,ge.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/10 px-6 py-4 border-b border-blue-100 dark:border-blue-800",children:(0,ge.jsxs)("div",{className:"flex items-center space-x-3",children:[k.teacherAvatar?(0,ge.jsx)("img",{src:k.teacherAvatar,alt:k.teacherName,className:"w-12 h-12 rounded-full"}):(0,ge.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center",children:(0,ge.jsx)(Kr,{className:"h-6 w-6 text-white"})}),(0,ge.jsxs)("div",{className:"flex-1",children:[(0,ge.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:k.teacherName}),k.teacherRating&&(0,ge.jsxs)("div",{className:"flex items-center space-x-1 text-sm",children:[(0,ge.jsx)(Jt,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}),(0,ge.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[k.teacherRating.toFixed(1)," (",k.teacherReviewCount," reviews)"]})]})]})]})}),(0,ge.jsxs)("div",{className:"p-6",children:[(0,ge.jsxs)("div",{className:"mb-4",children:[(0,ge.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ge.jsx)("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-xs font-medium",children:k.subject}),k.lessonType==="live"&&(0,ge.jsx)("span",{className:"px-2 py-1 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 text-xs font-medium",children:"Live"})]}),(0,ge.jsxs)("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,ge.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ge.jsx)(Kt,{className:"h-4 w-4"}),(0,ge.jsx)("span",{children:S(k.date)})]}),(0,ge.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ge.jsx)(xt,{className:"h-4 w-4"}),(0,ge.jsxs)("span",{children:[C(k.startTime)," - ",C(k.endTime)," (",k.duration," min)"]})]}),(0,ge.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ge.jsx)(it,{className:"h-4 w-4"}),(0,ge.jsxs)("span",{children:[k.availableSpots," of ",k.totalSpots," spots available"]})]})]})]}),(0,ge.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,ge.jsx)("div",{children:k.isPaid&&k.price?(0,ge.jsxs)("span",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["$",k.price]}):(0,ge.jsx)("span",{className:"text-xl font-semibold text-green-600 dark:text-green-400",children:"Free"})}),(0,ge.jsx)("button",{onClick:()=>w(k),disabled:k.availableSpots===0,className:"px-5 py-2 bg-blue-600 text-white hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Book Now"})]})]})]},k.id))}):(0,ge.jsx)("div",{className:"space-y-3",children:t.map(k=>(0,ge.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-6 hover:border-blue-300 dark:hover:border-blue-600 transition-colors",children:(0,ge.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ge.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[k.teacherAvatar?(0,ge.jsx)("img",{src:k.teacherAvatar,alt:k.teacherName,className:"w-16 h-16 rounded-full"}):(0,ge.jsx)("div",{className:"w-16 h-16 rounded-full bg-blue-600 flex items-center justify-center",children:(0,ge.jsx)(Kr,{className:"h-8 w-8 text-white"})}),(0,ge.jsxs)("div",{className:"flex-1",children:[(0,ge.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ge.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:k.teacherName}),k.teacherRating&&(0,ge.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ge.jsx)(Jt,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}),(0,ge.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:k.teacherRating.toFixed(1)})]}),(0,ge.jsx)("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-xs font-medium",children:k.subject})]}),(0,ge.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,ge.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,ge.jsx)(Kt,{className:"h-4 w-4"}),(0,ge.jsx)("span",{children:S(k.date)})]}),(0,ge.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,ge.jsx)(xt,{className:"h-4 w-4"}),(0,ge.jsxs)("span",{children:[C(k.startTime)," - ",C(k.endTime)]})]}),(0,ge.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,ge.jsx)(it,{className:"h-4 w-4"}),(0,ge.jsxs)("span",{children:[k.availableSpots," spots left"]})]})]})]})]}),(0,ge.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ge.jsx)("div",{className:"text-right",children:k.isPaid&&k.price?(0,ge.jsxs)("span",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["$",k.price]}):(0,ge.jsx)("span",{className:"text-xl font-semibold text-green-600 dark:text-green-400",children:"Free"})}),(0,ge.jsx)("button",{onClick:()=>w(k),disabled:k.availableSpots===0,className:"px-5 py-2 bg-blue-600 text-white hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Book"})]})]})},k.id))})]}),(0,ge.jsx)("div",{children:(0,ge.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-6 sticky top-8",children:[(0,ge.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"My Bookings"}),a.length===0?(0,ge.jsxs)("div",{className:"text-center py-8",children:[(0,ge.jsx)(ot,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,ge.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No bookings yet"})]}):(0,ge.jsx)("div",{className:"space-y-3",children:a.map(k=>(0,ge.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600",children:[(0,ge.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ge.jsx)("span",{className:`px-2 py-1 text-xs font-medium ${k.status==="confirmed"?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300":k.status==="pending"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-300"}`,children:k.status}),k.status!=="cancelled"&&(0,ge.jsx)("button",{onClick:()=>I(k.id),className:"text-red-600 hover:text-red-700",children:(0,ge.jsx)(et,{className:"h-4 w-4"})})]}),(0,ge.jsx)("div",{className:"font-medium text-gray-900 dark:text-white mb-1",children:k.teacherName}),(0,ge.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:S(k.scheduledAt)})]},k.id))})]})})]}),h&&m&&(0,ge.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,ge.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 max-w-md w-full p-6",children:[(0,ge.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Confirm Booking"}),(0,ge.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,ge.jsxs)("div",{children:[(0,ge.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Teacher"}),(0,ge.jsx)("div",{className:"font-semibold text-gray-900 dark:text-white",children:m.teacherName})]}),(0,ge.jsxs)("div",{children:[(0,ge.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Date & Time"}),(0,ge.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white",children:[S(m.date)," \u2022 ",C(m.startTime)," - ",C(m.endTime)]})]}),(0,ge.jsxs)("div",{children:[(0,ge.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Duration"}),(0,ge.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white",children:[m.duration," minutes"]})]}),m.isPaid&&m.price&&(0,ge.jsxs)("div",{children:[(0,ge.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Price"}),(0,ge.jsxs)("div",{className:"font-semibold text-green-600 dark:text-green-400",children:["$",m.price]})]})]}),(0,ge.jsxs)("div",{className:"flex space-x-3",children:[(0,ge.jsxs)("button",{onClick:N,className:"flex-1 px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 transition-colors font-medium flex items-center justify-center space-x-2",children:[(0,ge.jsx)(fr,{className:"h-4 w-4"}),(0,ge.jsx)("span",{children:"Confirm Booking"})]}),(0,ge.jsx)("button",{onClick:()=>{v(!1),y(null)},className:"px-6 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})]})]})};var Li=H(he());var yt=H(se()),H6=()=>{let{user:e}=Ge(),t=ht(),r=e?.role==="TEACHER",[a,o]=(0,Li.useState)([]),[n,s]=(0,Li.useState)([]),[i,c]=(0,Li.useState)(""),[l,d]=(0,Li.useState)({subject:"",level:"",price:"",type:""}),[u,g]=(0,Li.useState)(!0);(0,Li.useEffect)(()=>{h()},[]),(0,Li.useEffect)(()=>{v()},[a,i,l]);let h=async()=>{try{g(!0),o([])}catch(p){console.error("Error loading lessons:",p),o([])}finally{g(!1)}},v=()=>{let p=a;i&&(p=p.filter(f=>f.title.toLowerCase().includes(i.toLowerCase())||f.description.toLowerCase().includes(i.toLowerCase())||f.teacherName.toLowerCase().includes(i.toLowerCase())||f.subject.toLowerCase().includes(i.toLowerCase()))),l.subject&&(p=p.filter(f=>f.subject===l.subject)),l.level&&(p=p.filter(f=>f.level===l.level)),l.price&&(l.price==="free"?p=p.filter(f=>!f.isPaid):l.price==="paid"&&(p=p.filter(f=>f.isPaid))),l.type&&(p=p.filter(f=>f.type===l.type)),s(p)},m=p=>{try{if(!p)return"";let f=new Date(p);if(isNaN(f.getTime()))return"";let x=new Date,b=new Date(x);return b.setDate(b.getDate()+1),f.toDateString()===x.toDateString()?"Today":f.toDateString()===b.toDateString()?"Tomorrow":f.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return""}},y=p=>{try{if(!p)return"";let f=new Date(p);return isNaN(f.getTime())?"":f.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}catch{return""}};return u?(0,yt.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,yt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,yt.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,yt.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:(0,yt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,yt.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6",children:[(0,yt.jsxs)("div",{children:[(0,yt.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:r?"My Lessons":"Available Lessons"}),(0,yt.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:r?"Manage your lessons and track bookings":"Find and book lessons with expert teachers"})]}),r&&(0,yt.jsxs)("button",{onClick:()=>t("/lessons/create"),className:"mt-4 md:mt-0 flex items-center px-5 py-2.5 bg-blue-600 text-white hover:bg-blue-700 transition-colors font-medium",children:[(0,yt.jsx)(Ut,{className:"h-5 w-5 mr-2"}),"Create Lesson"]})]}),(0,yt.jsxs)("div",{className:"space-y-4",children:[(0,yt.jsxs)("div",{className:"relative",children:[(0,yt.jsx)(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,yt.jsx)("input",{type:"text",placeholder:r?"Search your lessons...":"Search by subject, teacher, or topic...",value:i,onChange:p=>c(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,yt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,yt.jsx)("button",{onClick:()=>d(p=>({...p,subject:p.subject==="Physics"?"":"Physics"})),className:`px-4 py-2 text-sm font-medium border transition-colors ${l.subject==="Physics"?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:"Physics"}),(0,yt.jsx)("button",{onClick:()=>d(p=>({...p,subject:p.subject==="Math"?"":"Math"})),className:`px-4 py-2 text-sm font-medium border transition-colors ${l.subject==="Math"?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:"Math"}),(0,yt.jsx)("button",{onClick:()=>d(p=>({...p,type:p.type==="live"?"":"live"})),className:`px-4 py-2 text-sm font-medium border transition-colors ${l.type==="live"?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:"Live"}),(0,yt.jsx)("button",{onClick:()=>d(p=>({...p,price:p.price==="free"?"":"free"})),className:`px-4 py-2 text-sm font-medium border transition-colors ${l.price==="free"?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:"Free"})]})]})]})}),(0,yt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.length===0?(0,yt.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-12 text-center",children:[(0,yt.jsx)(ot,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,yt.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:i||Object.values(l).some(p=>p)?"No lessons match your search":r?"No lessons yet":"No lessons available"}),(0,yt.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:r?"Create your first lesson to start teaching":"Check back later for new lessons"}),r&&(0,yt.jsx)("button",{onClick:()=>t("/lessons/create"),className:"px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 transition-colors font-medium",children:"Create Lesson"})]}):(0,yt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(p=>(0,yt.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 transition-colors overflow-hidden",children:[(0,yt.jsx)("div",{className:"h-40 bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:(0,yt.jsx)(Bt,{className:"h-12 w-12 text-gray-400"})}),(0,yt.jsxs)("div",{className:"p-4",children:[(0,yt.jsx)("div",{className:"mb-2",children:(0,yt.jsx)("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:p.subject})}),(0,yt.jsx)("h3",{className:"text-base font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2 min-h-[2.5rem]",children:p.title}),(0,yt.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[p.teacherAvatar?(0,yt.jsx)("img",{src:p.teacherAvatar,alt:p.teacherName,className:"w-6 h-6 rounded-full"}):(0,yt.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center",children:(0,yt.jsx)(Kr,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),(0,yt.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex-1",children:p.teacherName}),p.rating&&(0,yt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,yt.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:p.rating.toFixed(1)}),(0,yt.jsx)(Jt,{className:"h-3.5 w-3.5 text-yellow-500 fill-yellow-500"})]})]}),(0,yt.jsxs)("div",{className:"space-y-1.5 mb-3 text-xs text-gray-600 dark:text-gray-400",children:[(0,yt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,yt.jsx)(Kt,{className:"h-3.5 w-3.5"}),(0,yt.jsxs)("span",{children:[m(p.scheduledAt)," at ",y(p.scheduledAt)]})]}),(0,yt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,yt.jsx)(xt,{className:"h-3.5 w-3.5"}),(0,yt.jsxs)("span",{children:[p.duration," min"]})]}),(0,yt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,yt.jsx)(it,{className:"h-3.5 w-3.5"}),(0,yt.jsxs)("span",{children:[p.currentStudents,"/",p.maxStudents," spots"]})]})]}),(0,yt.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200 dark:border-gray-700",children:[(0,yt.jsx)("div",{children:p.isPaid&&p.price?(0,yt.jsxs)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["$",p.price]}):(0,yt.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Free"})}),r?(0,yt.jsx)(we,{to:`/lessons/${p.id}`,className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 transition-colors font-medium text-sm",children:"Manage"}):(0,yt.jsx)("button",{onClick:()=>t(`/lessons/book?lessonId=${p.id}`),className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 transition-colors font-medium text-sm",children:"Book Now"})]})]})]},p.id))})})]})};var rf=H(he());Rt();var gt=H(se()),V6=()=>{let{user:e}=Ge(),[t,r]=(0,rf.useState)([]),[a,o]=(0,rf.useState)(!0),[n,s]=(0,rf.useState)("");(0,rf.useEffect)(()=>{i()},[]);let i=async()=>{try{o(!0),s("");let u=await Lm();r(u)}catch(u){console.error("Error loading certificates:",u),s("Failed to load certificates. Please try again."),r([])}finally{o(!1)}},c=u=>{if(!e)return;let g=Im(u.courseId,u.userId);window.open(g,"_blank")},l=async u=>{if(navigator.share)try{await navigator.share({title:`${u.courseName} Certificate`,text:`I completed ${u.courseName} with ${u.completionPercentage}%!`,url:u.certificateUrl})}catch(g){console.log("Share cancelled or failed:",g)}else try{await navigator.clipboard.writeText(u.certificateUrl),alert("Certificate URL copied to clipboard!")}catch(g){console.error("Failed to copy to clipboard:",g),alert("Failed to copy certificate URL. Please try downloading instead.")}},d=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return a?(0,gt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,gt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,gt.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,gt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})})}):(0,gt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,gt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,gt.jsx)("div",{className:"mb-8",children:(0,gt.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,gt.jsx)(fa,{showHome:!0}),(0,gt.jsxs)("div",{children:[(0,gt.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,gt.jsx)(_a,{className:"w-8 h-8 mr-3 text-indigo-600"}),"Your Certificates"]}),(0,gt.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"View and download your course completion certificates"})]})]})}),n&&(0,gt.jsx)("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,gt.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:n})}),t.length===0?(0,gt.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-12 text-center",children:[(0,gt.jsx)(or,{className:"w-16 h-16 mx-auto text-gray-400 dark:text-gray-500 mb-4"}),(0,gt.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Certificates Yet"}),(0,gt.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Complete courses to earn certificates. Your certificates will appear here once you finish a course."})]}):(0,gt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(u=>(0,gt.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-md transition-shadow duration-200",children:[(0,gt.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-6 text-white",children:[(0,gt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,gt.jsx)(_a,{className:"w-10 h-10"}),(0,gt.jsx)("span",{className:"text-xs font-semibold bg-white/20 px-3 py-1 rounded-full",children:u.grade})]}),(0,gt.jsx)("h3",{className:"text-lg font-bold mb-2 line-clamp-2",children:u.courseName}),(0,gt.jsxs)("div",{className:"flex items-center text-sm text-white/90",children:[(0,gt.jsx)(Kt,{className:"w-4 h-4 mr-2"}),d(u.issuedDate)]})]}),(0,gt.jsxs)("div",{className:"p-6",children:[(0,gt.jsxs)("div",{className:"mb-4",children:[(0,gt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,gt.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Completion"}),(0,gt.jsxs)("span",{className:"text-sm font-semibold text-indigo-600 dark:text-indigo-400",children:[u.completionPercentage,"%"]})]}),(0,gt.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,gt.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${u.completionPercentage}%`}})})]}),(0,gt.jsxs)("div",{className:"flex space-x-2 mt-6",children:[(0,gt.jsxs)("button",{onClick:()=>c(u),className:"flex-1 flex items-center justify-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200 text-sm font-medium",children:[(0,gt.jsx)(Wr,{className:"w-4 h-4 mr-2"}),"Download"]}),(0,gt.jsxs)("button",{onClick:()=>l(u),className:"flex-1 flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200 text-sm font-medium",children:[(0,gt.jsx)(So,{className:"w-4 h-4 mr-2"}),"Share"]})]})]})]},u.id))}),t.length>0&&(0,gt.jsxs)("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,gt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Summary"}),(0,gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,gt.jsx)("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/20 rounded-lg",children:(0,gt.jsx)(_a,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Certificates"}),(0,gt.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]}),(0,gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,gt.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 rounded-lg",children:(0,gt.jsx)(jt,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Average Grade"}),(0,gt.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length>0?(t.reduce((u,g)=>{let h=parseFloat(g.grade.replace(/[^0-9.]/g,""));return u+(isNaN(h)?0:h)},0)/t.length).toFixed(1):"N/A"})]})]}),(0,gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,gt.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:(0,gt.jsx)(or,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,gt.jsxs)("div",{children:[(0,gt.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Average Completion"}),(0,gt.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.length>0?Math.round(t.reduce((u,g)=>u+g.completionPercentage,0)/t.length):0,"%"]})]})]})]})]})]})})};var Tn=H(he());var Jr=H(se()),W6=({type:e="text",lines:t=3,width:r,height:a,className:o=""})=>{let n="animate-pulse rounded",s="bg-gray-200";return e==="card"?(0,Jr.jsx)("div",{className:`${n} ${s} ${o}`,style:{width:r||"100%",height:a||"200px"},children:(0,Jr.jsxs)("div",{className:"p-4 space-y-3",children:[(0,Jr.jsx)("div",{className:`h-4 ${s} rounded w-3/4`}),(0,Jr.jsx)("div",{className:`h-4 ${s} rounded w-1/2`}),(0,Jr.jsx)("div",{className:`h-20 ${s} rounded w-full`})]})}):e==="avatar"?(0,Jr.jsx)("div",{className:`${n} ${s} ${o}`,style:{width:r||"40px",height:a||"40px",borderRadius:"50%"}}):e==="image"?(0,Jr.jsx)("div",{className:`${n} ${s} ${o}`,style:{width:r||"100%",height:a||"200px"}}):e==="list"?(0,Jr.jsx)("div",{className:`space-y-3 ${o}`,children:Array.from({length:t}).map((i,c)=>(0,Jr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Jr.jsx)("div",{className:`${n} ${s} w-10 h-10 rounded-full`}),(0,Jr.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,Jr.jsx)("div",{className:`h-4 ${s} rounded w-3/4`}),(0,Jr.jsx)("div",{className:`h-3 ${s} rounded w-1/2`})]})]},c))}):e==="table"?(0,Jr.jsx)("div",{className:`space-y-3 ${o}`,children:Array.from({length:t}).map((i,c)=>(0,Jr.jsxs)("div",{className:"flex space-x-4",children:[(0,Jr.jsx)("div",{className:`h-4 ${s} rounded flex-1`}),(0,Jr.jsx)("div",{className:`h-4 ${s} rounded flex-1`}),(0,Jr.jsx)("div",{className:`h-4 ${s} rounded flex-1`}),(0,Jr.jsx)("div",{className:`h-4 ${s} rounded w-20`})]},c))}):(0,Jr.jsx)("div",{className:`space-y-2 ${o}`,children:Array.from({length:t}).map((i,c)=>(0,Jr.jsx)("div",{className:`${n} ${s} h-4 rounded`,style:{width:c===t-1?"60%":r||"100%"}},c))})};var Sa=H(se()),QQ={courses:{icon:(0,Sa.jsx)(ot,{className:"h-16 w-16"}),title:"No courses found",message:"Get started by exploring available courses or creating your own."},search:{icon:(0,Sa.jsx)(Pt,{className:"h-16 w-16"}),title:"No results found",message:"Try adjusting your search terms or filters to find what you're looking for."},messages:{icon:(0,Sa.jsx)(yr,{className:"h-16 w-16"}),title:"No messages yet",message:"Start a conversation with your instructors or classmates."},students:{icon:(0,Sa.jsx)(it,{className:"h-16 w-16"}),title:"No students enrolled",message:"Students will appear here once they enroll in your courses."},calendar:{icon:(0,Sa.jsx)(Kt,{className:"h-16 w-16"}),title:"No events scheduled",message:"Add events to your calendar to stay organized."},videos:{icon:(0,Sa.jsx)(Bt,{className:"h-16 w-16"}),title:"No videos available",message:"Upload videos to enhance your course content."},files:{icon:(0,Sa.jsx)(_m,{className:"h-16 w-16"}),title:"No files uploaded",message:"Upload files to share resources with your students."},inbox:{icon:(0,Sa.jsx)(zm,{className:"h-16 w-16"}),title:"Your inbox is empty",message:"All caught up! No new notifications."},certificates:{icon:(0,Sa.jsx)(_a,{className:"h-16 w-16"}),title:"No certificates yet",message:"Complete courses to earn certificates."},analytics:{icon:(0,Sa.jsx)(Cr,{className:"h-16 w-16"}),title:"No data available",message:"Analytics will appear here as students engage with your content."},favorites:{icon:(0,Sa.jsx)(Um,{className:"h-16 w-16"}),title:"No favorites yet",message:"Save courses you're interested in to access them later."},error:{icon:(0,Sa.jsx)(pr,{className:"h-16 w-16"}),title:"Something went wrong",message:"We encountered an error. Please try again later."}},sN=({type:e="courses",title:t,message:r,actionLabel:a,onAction:o,icon:n})=>{let s=QQ[e],i=n||s.icon,c=t||s.title,l=r||s.message;return(0,Sa.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[(0,Sa.jsx)("div",{className:"mb-6",style:{color:"#9CA3AF"},children:i}),(0,Sa.jsx)("h3",{className:"text-xl font-bold mb-2",style:{color:"#0B1E3F"},children:c}),(0,Sa.jsx)("p",{className:"text-sm max-w-md mb-6",style:{color:"#6F73D2"},children:l}),o&&a&&(0,Sa.jsx)("button",{onClick:o,className:"px-6 py-3 rounded-lg font-semibold text-white transition-all",style:{backgroundColor:"#00B5AD",boxShadow:"0 4px 14px rgba(0, 181, 173, 0.3)"},children:a})]})};Rt();var an=H(he());var St=H(se()),G6=({studentId:e,studentName:t})=>{let{user:r}=Ge(),{showSuccess:a,showError:o}=Ja(),[n,s]=(0,an.useState)([]),[i,c]=(0,an.useState)([]),[l,d]=(0,an.useState)(""),[u,g]=(0,an.useState)("all"),[h,v]=(0,an.useState)(!1),[m,y]=(0,an.useState)(null),[p,f]=(0,an.useState)(""),[x,b]=(0,an.useState)([]),[w,N]=(0,an.useState)("");(0,an.useEffect)(()=>{I()},[e]),(0,an.useEffect)(()=>{S()},[n,l,u]);let I=()=>{try{let A=localStorage.getItem(`student-notes-${e}-${r?.id}`);if(A){let B=JSON.parse(A);s(B)}else s([])}catch(A){console.error("Error loading notes:",A),s([])}},C=A=>{try{localStorage.setItem(`student-notes-${e}-${r?.id}`,JSON.stringify(A)),s(A)}catch(B){console.error("Error saving notes:",B),o("Failed to Save Note","Unable to save note. Please try again.")}},S=()=>{let A=[...n];if(l.trim()){let B=l.toLowerCase();A=A.filter(F=>F.content.toLowerCase().includes(B)||F.tags.some(T=>T.toLowerCase().includes(B)))}u!=="all"&&(A=A.filter(B=>B.tags.includes(u))),c(A)},k=()=>{let A=new Set;return n.forEach(B=>{B.tags.forEach(F=>A.add(F))}),Array.from(A).sort()},E=()=>{if(!p.trim()){o("Empty Note","Please enter some content for the note.");return}let A={id:Date.now().toString(),studentId:e,content:p.trim(),tags:x,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};C([...n,A]),f(""),b([]),v(!1),a("Note Added","Your note has been saved successfully.")},L=()=>{if(!m||!p.trim()){o("Empty Note","Please enter some content for the note.");return}let A=n.map(B=>B.id===m.id?{...B,content:p.trim(),tags:x,updatedAt:new Date().toISOString()}:B);C(A),y(null),f(""),b([]),v(!1),a("Note Updated","Your note has been updated successfully.")},P=A=>{if(window.confirm("Are you sure you want to delete this note? This action cannot be undone.")){let B=n.filter(F=>F.id!==A);C(B),a("Note Deleted","The note has been deleted successfully.")}},j=()=>{w.trim()&&!x.includes(w.trim())&&(b([...x,w.trim()]),N(""))},M=A=>{b(x.filter(B=>B!==A))},q=A=>{y(A),f(A.content),b([...A.tags]),v(!0)},R=()=>{v(!1),y(null),f(""),b([]),N("")},D=k();return(0,St.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[(0,St.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,St.jsxs)("div",{children:[(0,St.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Notes for ",t]}),(0,St.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Private notes visible only to you"})]}),(0,St.jsxs)("button",{onClick:()=>v(!0),className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,St.jsx)(Ut,{className:"w-4 h-4 mr-2"}),"Add Note"]})]}),(0,St.jsxs)("div",{className:"mb-4 space-y-3",children:[(0,St.jsxs)("div",{className:"relative",children:[(0,St.jsx)(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,St.jsx)("input",{type:"text",value:l,onChange:A=>d(A.target.value),placeholder:"Search notes...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),D.length>0&&(0,St.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,St.jsx)("button",{onClick:()=>g("all"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${u==="all"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"All"}),D.map(A=>(0,St.jsx)("button",{onClick:()=>g(A),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${u===A?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:A},A))]})]}),(0,St.jsx)("div",{className:"space-y-3",children:i.length===0?(0,St.jsx)("div",{className:"text-center py-8",children:(0,St.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:n.length===0?'No notes yet. Click "Add Note" to create your first note.':"No notes match your search criteria."})}):i.map(A=>(0,St.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,St.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,St.jsxs)("div",{className:"flex-1",children:[(0,St.jsx)("p",{className:"text-gray-900 dark:text-white whitespace-pre-wrap",children:A.content}),A.tags.length>0&&(0,St.jsx)("div",{className:"flex flex-wrap gap-2 mt-3",children:A.tags.map(B=>(0,St.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[(0,St.jsx)(ul,{className:"w-3 h-3 mr-1"}),B]},B))}),(0,St.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:new Date(A.updatedAt).toLocaleString()})]}),(0,St.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,St.jsx)("button",{onClick:()=>q(A),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:(0,St.jsx)(hn,{className:"w-4 h-4"})}),(0,St.jsx)("button",{onClick:()=>P(A.id),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",children:(0,St.jsx)(gr,{className:"w-4 h-4"})})]})]})},A.id))}),h&&(0,St.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,St.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,St.jsxs)("div",{className:"p-6",children:[(0,St.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,St.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:m?"Edit Note":"Add Note"}),(0,St.jsx)("button",{onClick:R,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,St.jsx)(et,{className:"w-6 h-6"})})]}),(0,St.jsxs)("div",{className:"space-y-4",children:[(0,St.jsxs)("div",{children:[(0,St.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Note Content"}),(0,St.jsx)("textarea",{value:p,onChange:A=>f(A.target.value),rows:6,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter your note here..."})]}),(0,St.jsxs)("div",{children:[(0,St.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags"}),(0,St.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:x.map(A=>(0,St.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[A,(0,St.jsx)("button",{onClick:()=>M(A),className:"ml-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:(0,St.jsx)(et,{className:"w-3 h-3"})})]},A))}),(0,St.jsxs)("div",{className:"flex space-x-2",children:[(0,St.jsx)("input",{type:"text",value:w,onChange:A=>N(A.target.value),onKeyPress:A=>{A.key==="Enter"&&(A.preventDefault(),j())},placeholder:"Add a tag...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),(0,St.jsx)("button",{onClick:j,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Add"})]})]}),(0,St.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,St.jsx)("button",{onClick:R,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,St.jsxs)("button",{onClick:m?L:E,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[m?"Update":"Save"," Note"]})]})]})]})})})]})};var Ye=H(se()),iN=()=>{let e=ht(),{courseId:t}=ya(),r=lr(),{user:a}=Ge(),o=a?.role==="TEACHER"||a?.role==="ADMIN",i=new URLSearchParams(r.search).get("courseId")||t||null,[c,l]=(0,Tn.useState)([]),[d,u]=(0,Tn.useState)([]),[g,h]=(0,Tn.useState)(i),[v,m]=(0,Tn.useState)(null),[y,p]=(0,Tn.useState)(""),[f,x]=(0,Tn.useState)("name"),[b,w]=(0,Tn.useState)(new Set),[N,I]=(0,Tn.useState)(!0),[C,S]=(0,Tn.useState)(new Map);(0,Tn.useEffect)(()=>{o&&k()},[g,o]);let k=async()=>{try{I(!0);let[M,q]=await Promise.all([Qn(g||void 0),ca()]);l(M),u(q);let R=new Map;for(let D of M){let A=[],B=0,F=0,T=0,U="";for(let O of q)try{}catch(z){console.error(`Error loading progress for student ${D.id} in course ${O.id}:`,z)}R.set(D.id,{studentId:D.id,studentName:D.name||D.username||D.email,studentEmail:D.email,avatar:D.avatar,courses:A,totalCourses:A.length,completedCourses:A.filter(O=>(O.totalLessons>0?O.completedLessons/O.totalLessons*100:0)>=100).length,totalTimeSpent:B,averageScore:T>0?F/T:0,lastActivity:U||new Date().toISOString()})}S(R)}catch(M){console.error("Error loading student progress data:",M)}finally{I(!1)}},E=M=>{let q=new Set(b);q.has(M)?q.delete(M):q.add(M),w(q)},L=c.filter(M=>(M.name||M.username||M.email||"").toLowerCase().includes(y.toLowerCase())).sort((M,q)=>{let R=C.get(M.id),D=C.get(q.id);switch(f){case"progress":let A=R?.courses.reduce((U,O)=>{let z=O.totalLessons>0?O.completedLessons/O.totalLessons*100:0;return U+z},0)/(R?.courses.length||1)||0;return(D?.courses.reduce((U,O)=>{let z=O.totalLessons>0?O.completedLessons/O.totalLessons*100:0;return U+z},0)/(D?.courses.length||1)||0)-A;case"lastActivity":return(D?.lastActivity||"").localeCompare(R?.lastActivity||"");default:let F=(M.name||M.username||M.email||"").toLowerCase(),T=(q.name||q.username||q.email||"").toLowerCase();return F.localeCompare(T)}}),P=M=>{if(M<60)return`${M}m`;let q=Math.floor(M/60),R=M%60;return R>0?`${q}h ${R}m`:`${q}h`},j=M=>M>=90?"#10B981":M>=70?"#3B82F6":M>=50?"#F59E0B":"#EF4444";return o?(0,Ye.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:"#F9FAFB"},children:[(0,Ye.jsx)("div",{className:"courses-header",children:(0,Ye.jsxs)("div",{className:"courses-header-content",children:[(0,Ye.jsx)(fa,{}),(0,Ye.jsxs)("div",{className:"courses-header-text",children:[(0,Ye.jsx)("h1",{className:"courses-header-title",children:"Student Progress"}),(0,Ye.jsx)("p",{className:"courses-header-subtitle",children:"Track individual student performance and engagement across your courses"})]})]})}),(0,Ye.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Ye.jsx)("div",{className:"bg-white rounded-2xl border-2 p-6 mb-6 card-hover",style:{borderColor:"#E5E7EB"},children:(0,Ye.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,Ye.jsxs)("div",{className:"flex-1",children:[(0,Ye.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Filter by Course"}),(0,Ye.jsxs)("select",{value:g||"",onChange:M=>h(M.target.value||null),className:"w-full px-4 py-3 border-2 rounded-xl focus:outline-none focus-ring transition-smooth",style:{borderColor:"#E5E7EB"},children:[(0,Ye.jsx)("option",{value:"",children:"All Courses"}),d.map(M=>(0,Ye.jsx)("option",{value:M.id,children:M.title},M.id))]})]}),(0,Ye.jsxs)("div",{className:"flex-1",children:[(0,Ye.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Search Students"}),(0,Ye.jsxs)("div",{className:"relative",children:[(0,Ye.jsx)(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5",style:{color:"#6F73D2"}}),(0,Ye.jsx)("input",{type:"text",placeholder:"Search by name or email...",value:y,onChange:M=>p(M.target.value),className:"w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:outline-none focus-ring transition-smooth",style:{borderColor:"#E5E7EB"}})]})]}),(0,Ye.jsxs)("div",{className:"flex-1",children:[(0,Ye.jsx)("label",{className:"block text-sm font-semibold mb-2",style:{color:"#0B1E3F"},children:"Sort By"}),(0,Ye.jsxs)("select",{value:f,onChange:M=>x(M.target.value),className:"w-full px-4 py-3 border-2 rounded-xl focus:outline-none focus-ring transition-smooth",style:{borderColor:"#E5E7EB"},children:[(0,Ye.jsx)("option",{value:"name",children:"Name"}),(0,Ye.jsx)("option",{value:"progress",children:"Progress"}),(0,Ye.jsx)("option",{value:"lastActivity",children:"Last Activity"})]})]})]})}),N?(0,Ye.jsx)("div",{className:"space-y-4",children:[1,2,3].map(M=>(0,Ye.jsx)(W6,{type:"card",height:"200px"},M))}):L.length===0?(0,Ye.jsx)(sN,{type:"students",title:"No students found",message:y?"Try adjusting your search terms.":"No students are enrolled in your courses yet."}):(0,Ye.jsx)("div",{className:"space-y-4",children:L.map((M,q)=>{let R=C.get(M.id),D=b.has(M.id),A=R?.courses.reduce((B,F)=>{let T=F.totalLessons>0?F.completedLessons/F.totalLessons*100:0;return B+T},0)/(R?.courses.length||1)||0;return(0,Ye.jsxs)("div",{className:"bg-white rounded-2xl border-2 overflow-hidden card-hover stagger-item",style:{borderColor:"#E5E7EB"},children:[(0,Ye.jsxs)("div",{className:"p-6 cursor-pointer transition-smooth",onClick:()=>E(M.id),children:[(0,Ye.jsx)("div",{className:"flex items-center justify-between",children:(0,Ye.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,Ye.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xl",children:M.avatar?(0,Ye.jsx)("img",{src:M.avatar,alt:M.name,className:"w-full h-full rounded-full object-cover"}):(0,Ye.jsx)("span",{children:(M.name||M.username||M.email||"U")[0].toUpperCase()})}),(0,Ye.jsxs)("div",{className:"flex-1",children:[(0,Ye.jsx)("h3",{className:"text-lg font-bold mb-1",style:{color:"#0B1E3F"},children:M.name||M.username||M.email}),(0,Ye.jsx)("p",{className:"text-sm",style:{color:"#6F73D2"},children:M.email})]}),(0,Ye.jsxs)("div",{className:"hidden md:flex items-center space-x-6",children:[(0,Ye.jsxs)("div",{className:"text-center",children:[(0,Ye.jsx)("div",{className:"text-2xl font-bold",style:{color:"#0B1E3F"},children:R?.totalCourses||0}),(0,Ye.jsx)("div",{className:"text-xs",style:{color:"#6F73D2"},children:"Courses"})]}),(0,Ye.jsxs)("div",{className:"text-center",children:[(0,Ye.jsx)("div",{className:"text-2xl font-bold",style:{color:"#0B1E3F"},children:R?.completedCourses||0}),(0,Ye.jsx)("div",{className:"text-xs",style:{color:"#6F73D2"},children:"Completed"})]}),(0,Ye.jsxs)("div",{className:"text-center",children:[(0,Ye.jsxs)("div",{className:"text-2xl font-bold",style:{color:"#0B1E3F"},children:[Math.round(A),"%"]}),(0,Ye.jsx)("div",{className:"text-xs",style:{color:"#6F73D2"},children:"Avg Progress"})]})]}),(0,Ye.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-smooth",children:D?(0,Ye.jsx)(si,{className:"h-5 w-5",style:{color:"#6F73D2"}}):(0,Ye.jsx)(qa,{className:"h-5 w-5",style:{color:"#6F73D2"}})})]})}),(0,Ye.jsxs)("div",{className:"mt-4",children:[(0,Ye.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,Ye.jsx)("span",{style:{color:"#6F73D2"},children:"Overall Progress"}),(0,Ye.jsxs)("span",{className:"font-semibold",style:{color:"#0B1E3F"},children:[Math.round(A),"%"]})]}),(0,Ye.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:(0,Ye.jsx)("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${A}%`,backgroundColor:j(A)}})})]})]}),D&&R&&(0,Ye.jsxs)("div",{className:"border-t-2 px-6 py-4 animate-fade-in",style:{borderColor:"#E5E7EB",backgroundColor:"#F9FAFB"},children:[R.courses.length===0?(0,Ye.jsx)(sN,{type:"courses",title:"No course progress",message:"This student hasn't started any courses yet."}):(0,Ye.jsx)("div",{className:"space-y-4",children:R.courses.map(B=>{let F=B.totalLessons>0?B.completedLessons/B.totalLessons*100:0;return(0,Ye.jsxs)("div",{className:"bg-white rounded-xl border-2 p-4 card-hover",style:{borderColor:"#E5E7EB"},children:[(0,Ye.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Ye.jsxs)("div",{className:"flex-1",children:[(0,Ye.jsx)("h4",{className:"font-bold mb-1",style:{color:"#0B1E3F"},children:B.courseTitle}),(0,Ye.jsxs)("div",{className:"flex items-center space-x-4 text-sm",style:{color:"#6F73D2"},children:[(0,Ye.jsxs)("span",{className:"flex items-center",children:[(0,Ye.jsx)(Xt,{className:"h-4 w-4 mr-1"}),B.completedLessons,"/",B.totalLessons," lessons"]}),(0,Ye.jsxs)("span",{className:"flex items-center",children:[(0,Ye.jsx)(xt,{className:"h-4 w-4 mr-1"}),P(B.timeSpent)]}),B.averageScore&&(0,Ye.jsxs)("span",{className:"flex items-center",children:[(0,Ye.jsx)(_a,{className:"h-4 w-4 mr-1"}),B.averageScore.toFixed(1),"% avg"]})]})]}),(0,Ye.jsx)("button",{onClick:()=>e(`/courses/${B.courseId}`),className:"px-4 py-2 rounded-lg font-semibold text-white transition-smooth hover-scale",style:{backgroundColor:"#00B5AD"},children:"View Details"})]}),(0,Ye.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:(0,Ye.jsx)("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${F}%`,backgroundColor:j(F)}})})]},B.courseId)})}),(0,Ye.jsx)("div",{className:"mt-6",children:(0,Ye.jsx)(G6,{studentId:M.id,studentName:M.name||M.username||M.email||"Student"})})]})]},M.id)})})]})]}):(0,Ye.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Ye.jsxs)("div",{className:"text-center",children:[(0,Ye.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"#0B1E3F"},children:"Access Denied"}),(0,Ye.jsx)("p",{className:"text-gray-600",children:"This page is only available for teachers."})]})})};var on=H(he());var Ue=H(se()),K6=()=>{let{user:e}=Ge(),{showSuccess:t,showError:r}=Ja(),a=ht(),[o,n]=(0,on.useState)([]),[s,i]=(0,on.useState)([]),[c,l]=(0,on.useState)(!0),[d,u]=(0,on.useState)(""),[g,h]=(0,on.useState)("all"),[v,m]=(0,on.useState)("all"),[y,p]=(0,on.useState)("grid"),[f,x]=(0,on.useState)(!1),[b,w]=(0,on.useState)({type:"lesson",title:"",description:"",content:"",tags:[]});(0,on.useEffect)(()=>{N()},[]),(0,on.useEffect)(()=>{C()},[o,d,g,v]);let N=()=>{try{let M=localStorage.getItem(`content-templates-${e?.id}`);if(M){let q=JSON.parse(M);n(q)}else n([])}catch(M){console.error("Error loading templates:",M),n([])}finally{l(!1)}},I=M=>{try{localStorage.setItem(`content-templates-${e?.id}`,JSON.stringify(M)),n(M)}catch(q){console.error("Error saving templates:",q),r("Failed to Save Template","Unable to save template. Please try again.")}},C=()=>{let M=[...o];if(d.trim()){let q=d.toLowerCase();M=M.filter(R=>R.title.toLowerCase().includes(q)||R.description.toLowerCase().includes(q)||R.tags.some(D=>D.toLowerCase().includes(q)))}g!=="all"&&(M=M.filter(q=>q.type===g)),v!=="all"&&(M=M.filter(q=>q.tags.includes(v))),i(M)},S=()=>{let M=new Set;return o.forEach(q=>{q.tags.forEach(R=>M.add(R))}),Array.from(M).sort()},k=()=>{if(!b.title.trim()){r("Missing Title","Please enter a template title.");return}let M={id:Date.now().toString(),type:b.type,title:b.title,description:b.description,content:b.content,tags:b.tags,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),usageCount:0};I([...o,M]),w({type:"lesson",title:"",description:"",content:"",tags:[]}),x(!1),t("Template Created","Your template has been saved to the library.")},E=M=>{M.type==="lesson"?a(`/lessons/create?template=${M.id}`):M.type==="quiz"?a(`/quizzes/create?template=${M.id}`):M.type==="assignment"&&a(`/assignments/create?template=${M.id}`);let q=o.map(R=>R.id===M.id?{...R,usageCount:R.usageCount+1,updatedAt:new Date().toISOString()}:R);I(q)},L=M=>{if(window.confirm("Are you sure you want to delete this template? This action cannot be undone.")){let q=o.filter(R=>R.id!==M);I(q),t("Template Deleted","The template has been deleted successfully.")}},P=M=>{switch(M){case"lesson":return(0,Ue.jsx)(ot,{className:"w-5 h-5"});case"quiz":return(0,Ue.jsx)(No,{className:"w-5 h-5"});case"assignment":return(0,Ue.jsx)(jt,{className:"w-5 h-5"});case"module":return(0,Ue.jsx)(ot,{className:"w-5 h-5"});default:return(0,Ue.jsx)(jt,{className:"w-5 h-5"})}},j=M=>{switch(M){case"lesson":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"quiz":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"assignment":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"module":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}};return c?(0,Ue.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,Ue.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):(0,Ue.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,Ue.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Ue.jsx)("div",{className:"mb-8",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,Ue.jsx)(ot,{className:"w-8 h-8 mr-3 text-blue-600 dark:text-blue-400"}),"Content Library"]}),(0,Ue.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Save and reuse your content templates"})]}),(0,Ue.jsxs)("button",{onClick:()=>x(!0),className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,Ue.jsx)(Ut,{className:"w-5 h-5 mr-2"}),"Save Template"]})]})}),(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[(0,Ue.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ue.jsx)("div",{className:"md:col-span-2",children:(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Ue.jsx)("input",{type:"text",value:d,onChange:M=>u(M.target.value),placeholder:"Search templates...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})}),(0,Ue.jsx)("div",{children:(0,Ue.jsxs)("select",{value:g,onChange:M=>h(M.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,Ue.jsx)("option",{value:"all",children:"All Types"}),(0,Ue.jsx)("option",{value:"lesson",children:"Lessons"}),(0,Ue.jsx)("option",{value:"quiz",children:"Quizzes"}),(0,Ue.jsx)("option",{value:"assignment",children:"Assignments"}),(0,Ue.jsx)("option",{value:"module",children:"Modules"})]})}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ue.jsx)("button",{onClick:()=>p("grid"),className:`p-2 rounded-lg ${y==="grid"?"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:(0,Ue.jsx)(so,{className:"w-5 h-5"})}),(0,Ue.jsx)("button",{onClick:()=>p("list"),className:`p-2 rounded-lg ${y==="list"?"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:(0,Ue.jsx)(Co,{className:"w-5 h-5"})})]})]}),S().length>0&&(0,Ue.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,Ue.jsx)("button",{onClick:()=>m("all"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${v==="all"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"All Tags"}),S().map(M=>(0,Ue.jsxs)("button",{onClick:()=>m(M),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${v===M?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[(0,Ue.jsx)(ul,{className:"w-3 h-3 inline mr-1"}),M]},M))]})]}),s.length===0?(0,Ue.jsxs)("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-lg",children:[(0,Ue.jsx)(ot,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),(0,Ue.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No templates found"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:o.length===0?"Start building your content library by saving templates.":"Try adjusting your search or filters."}),(0,Ue.jsxs)("button",{onClick:()=>x(!0),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,Ue.jsx)(Ut,{className:"w-5 h-5 inline mr-2"}),"Create First Template"]})]}):(0,Ue.jsx)("div",{className:y==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:s.map(M=>(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow hover-lift",children:[(0,Ue.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ue.jsx)("div",{className:`p-2 rounded-lg ${j(M.type)}`,children:P(M.type)}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:M.title}),(0,Ue.jsx)("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium mt-1 ${j(M.type)}`,children:M.type})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Ue.jsx)("button",{onClick:()=>E(M),className:"p-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",title:"Use template",children:(0,Ue.jsx)(ii,{className:"w-4 h-4"})}),(0,Ue.jsx)("button",{onClick:()=>L(M.id),className:"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 transition-colors",title:"Delete template",children:(0,Ue.jsx)(gr,{className:"w-4 h-4"})})]})]}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:M.description||"No description"}),M.tags.length>0&&(0,Ue.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:M.tags.map(q=>(0,Ue.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:[(0,Ue.jsx)(ul,{className:"w-3 h-3 mr-1"}),q]},q))}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,Ue.jsxs)("span",{children:["Used ",M.usageCount," time",M.usageCount!==1?"s":""]}),(0,Ue.jsx)("span",{children:new Date(M.updatedAt).toLocaleDateString()})]})]},M.id))}),f&&(0,Ue.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ue.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,Ue.jsxs)("div",{className:"p-6",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Save Template"}),(0,Ue.jsx)("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Ue.jsx)(gr,{className:"w-6 h-6"})})]}),(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),(0,Ue.jsxs)("select",{value:b.type,onChange:M=>w(q=>({...q,type:M.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,Ue.jsx)("option",{value:"lesson",children:"Lesson"}),(0,Ue.jsx)("option",{value:"quiz",children:"Quiz"}),(0,Ue.jsx)("option",{value:"assignment",children:"Assignment"}),(0,Ue.jsx)("option",{value:"module",children:"Module"})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title *"}),(0,Ue.jsx)("input",{type:"text",value:b.title,onChange:M=>w(q=>({...q,title:M.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Template title..."})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,Ue.jsx)("textarea",{value:b.description,onChange:M=>w(q=>({...q,description:M.target.value})),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Template description..."})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content (JSON or text)"}),(0,Ue.jsx)("textarea",{value:b.content,onChange:M=>w(q=>({...q,content:M.target.value})),rows:6,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white font-mono text-sm",placeholder:"Template content (can be JSON, HTML, or plain text)..."})]}),(0,Ue.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Ue.jsx)("button",{onClick:()=>{x(!1),w({type:"lesson",title:"",description:"",content:"",tags:[]})},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,Ue.jsx)("button",{onClick:k,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Save Template"})]})]})]})})})]})})};var Do=H(he());Rt();var He=H(se()),Q6=()=>{let{user:e}=Ge(),{showSuccess:t,showError:r}=Ja(),a=ht(),[o,n]=(0,Do.useState)([]),[s,i]=(0,Do.useState)([]),[c,l]=(0,Do.useState)([]),[d,u]=(0,Do.useState)(!0),[g,h]=(0,Do.useState)(""),[v,m]=(0,Do.useState)("all"),[y,p]=(0,Do.useState)(!1),[f,x]=(0,Do.useState)(null),[b,w]=(0,Do.useState)({name:"",description:"",courseId:null,studentIds:[]});(0,Do.useEffect)(()=>{N()},[]),(0,Do.useEffect)(()=>{E()},[o,g,v]);let N=async()=>{try{u(!0);let[A,B]=await Promise.all([Qn(),ca()]);i(A),l(B),I()}catch(A){console.error("Error loading data:",A),r("Failed to Load Data","Unable to load students and courses. Please try again.")}finally{u(!1)}},I=()=>{try{let A=localStorage.getItem(`student-groups-${e?.id}`);if(A){let B=JSON.parse(A);n(B)}else n([])}catch(A){console.error("Error loading groups:",A),n([])}},C=A=>{try{localStorage.setItem(`student-groups-${e?.id}`,JSON.stringify(A)),n(A)}catch(B){console.error("Error saving groups:",B),r("Failed to Save Group","Unable to save group. Please try again.")}},[S,k]=(0,Do.useState)([]),E=()=>{let A=[...o];if(g.trim()){let B=g.toLowerCase();A=A.filter(F=>F.name.toLowerCase().includes(B)||F.description.toLowerCase().includes(B))}v!=="all"&&(A=A.filter(B=>B.courseId===v)),k(A)},L=()=>{if(!b.name.trim()){r("Missing Name","Please enter a group name.");return}let A={id:Date.now().toString(),name:b.name,description:b.description,courseId:b.courseId,studentIds:b.studentIds,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};C([...o,A]),w({name:"",description:"",courseId:null,studentIds:[]}),p(!1),t("Group Created","Your student group has been created successfully.")},P=()=>{if(!f||!f.name.trim()){r("Missing Name","Please enter a group name.");return}let A=o.map(B=>B.id===f.id?{...B,...b,updatedAt:new Date().toISOString()}:B);C(A),x(null),w({name:"",description:"",courseId:null,studentIds:[]}),t("Group Updated","The group has been updated successfully.")},j=A=>{if(window.confirm("Are you sure you want to delete this group? This action cannot be undone.")){let B=o.filter(F=>F.id!==A);C(B),t("Group Deleted","The group has been deleted successfully.")}},M=A=>{b.studentIds.includes(A)?w(B=>({...B,studentIds:B.studentIds.filter(F=>F!==A)})):w(B=>({...B,studentIds:[...B.studentIds,A]}))},q=A=>{x(A),w({name:A.name,description:A.description,courseId:A.courseId,studentIds:[...A.studentIds]})},R=()=>{p(!1),x(null),w({name:"",description:"",courseId:null,studentIds:[]})},D=A=>{let B=s.filter(F=>A.studentIds.includes(F.id)).map(F=>F.email||F.id).join(",");a(`/messages?to=${encodeURIComponent(B)}`)};return d?(0,He.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900",children:(0,He.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,He.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):(0,He.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,He.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,He.jsx)("div",{className:"mb-8",children:(0,He.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,He.jsxs)("div",{children:[(0,He.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,He.jsx)(it,{className:"w-8 h-8 mr-3 text-blue-600 dark:text-blue-400"}),"Student Groups"]}),(0,He.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Organize students into groups for easier management"})]}),(0,He.jsxs)("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,He.jsx)(Ut,{className:"w-5 h-5 mr-2"}),"Create Group"]})]})}),(0,He.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:(0,He.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,He.jsx)("div",{children:(0,He.jsxs)("div",{className:"relative",children:[(0,He.jsx)(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,He.jsx)("input",{type:"text",value:g,onChange:A=>h(A.target.value),placeholder:"Search groups...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})}),(0,He.jsx)("div",{children:(0,He.jsxs)("select",{value:v,onChange:A=>m(A.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,He.jsx)("option",{value:"all",children:"All Courses"}),c.map(A=>(0,He.jsx)("option",{value:A.id,children:A.title},A.id))]})})]})}),S.length===0?(0,He.jsxs)("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-lg",children:[(0,He.jsx)(it,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),(0,He.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No groups found"}),(0,He.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:o.length===0?"Create your first student group to organize students.":"Try adjusting your search or filters."}),(0,He.jsxs)("button",{onClick:()=>p(!0),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,He.jsx)(Ut,{className:"w-5 h-5 inline mr-2"}),"Create First Group"]})]}):(0,He.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(A=>{let B=s.filter(T=>A.studentIds.includes(T.id)),F=A.courseId?c.find(T=>T.id===A.courseId):null;return(0,He.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow hover-lift",children:[(0,He.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,He.jsxs)("div",{className:"flex-1",children:[(0,He.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:A.name}),F&&(0,He.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:F.title})]}),(0,He.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,He.jsx)("button",{onClick:()=>q(A),className:"p-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",title:"Edit group",children:(0,He.jsx)(hn,{className:"w-4 h-4"})}),(0,He.jsx)("button",{onClick:()=>j(A.id),className:"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 transition-colors",title:"Delete group",children:(0,He.jsx)(gr,{className:"w-4 h-4"})})]})]}),A.description&&(0,He.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:A.description}),(0,He.jsxs)("div",{className:"mb-4",children:[(0,He.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,He.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Students (",B.length,")"]}),(0,He.jsxs)("button",{onClick:()=>D(A),className:"text-xs text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 flex items-center",children:[(0,He.jsx)($o,{className:"w-3 h-3 mr-1"}),"Message"]})]}),(0,He.jsxs)("div",{className:"flex flex-wrap gap-2",children:[B.slice(0,5).map(T=>(0,He.jsxs)("div",{className:"flex items-center space-x-2 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,He.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white text-xs font-medium",children:io(T.name||T.email||"U")}),(0,He.jsx)("span",{className:"text-xs text-gray-700 dark:text-gray-300 truncate max-w-[100px]",children:T.name||T.email})]},T.id)),B.length>5&&(0,He.jsxs)("div",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-lg text-xs text-gray-700 dark:text-gray-300",children:["+",B.length-5," more"]})]})]}),(0,He.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,He.jsxs)("span",{children:["Created ",new Date(A.createdAt).toLocaleDateString()]}),(0,He.jsxs)("button",{onClick:()=>a(`/students/progress?groupId=${A.id}`),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 flex items-center",children:[(0,He.jsx)(_r,{className:"w-3 h-3 mr-1"}),"View Progress"]})]})]},A.id)})}),(y||f)&&(0,He.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,He.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,He.jsxs)("div",{className:"p-6",children:[(0,He.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,He.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:f?"Edit Group":"Create Group"}),(0,He.jsx)("button",{onClick:R,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,He.jsx)(et,{className:"w-6 h-6"})})]}),(0,He.jsxs)("div",{className:"space-y-4",children:[(0,He.jsxs)("div",{children:[(0,He.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Group Name *"}),(0,He.jsx)("input",{type:"text",value:b.name,onChange:A=>w(B=>({...B,name:A.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter group name..."})]}),(0,He.jsxs)("div",{children:[(0,He.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,He.jsx)("textarea",{value:b.description,onChange:A=>w(B=>({...B,description:A.target.value})),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter group description..."})]}),(0,He.jsxs)("div",{children:[(0,He.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Course (Optional)"}),(0,He.jsxs)("select",{value:b.courseId||"",onChange:A=>w(B=>({...B,courseId:A.target.value||null})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,He.jsx)("option",{value:"",children:"No specific course"}),c.map(A=>(0,He.jsx)("option",{value:A.id,children:A.title},A.id))]})]}),(0,He.jsxs)("div",{children:[(0,He.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Select Students (",b.studentIds.length," selected)"]}),(0,He.jsx)("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-4 max-h-64 overflow-y-auto",children:s.length===0?(0,He.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No students available"}):(0,He.jsx)("div",{className:"space-y-2",children:s.map(A=>{let B=b.studentIds.includes(A.id);return(0,He.jsxs)("button",{onClick:()=>M(A.id),className:`w-full flex items-center space-x-3 p-2 rounded-lg transition-colors ${B?"bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-500":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border-2 border-transparent"}`,children:[(0,He.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium ${B?"bg-blue-600":"bg-gray-400"}`,children:io(A.name||A.email||"U")}),(0,He.jsxs)("div",{className:"flex-1 text-left",children:[(0,He.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:A.name||A.email}),A.email&&A.name&&(0,He.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:A.email})]}),B&&(0,He.jsx)(fr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]},A.id)})})})]}),(0,He.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,He.jsx)("button",{onClick:R,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,He.jsxs)("button",{onClick:f?P:L,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[f?"Update":"Create"," Group"]})]})]})]})})})]})})};var Y6=H(he());var Fo=H(se()),qv=class extends Y6.Component{constructor(r){super(r);ta(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,a){console.error("Error caught by boundary:",r,a),this.setState({error:r,errorInfo:a})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,Fo.jsx)("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center p-4",children:(0,Fo.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Fo.jsxs)("div",{className:"mb-6",children:[(0,Fo.jsx)("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Fo.jsx)(pr,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),(0,Fo.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"Something went wrong"}),(0,Fo.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"We're sorry, but something unexpected happened. Please try refreshing the page."})]}),!1,(0,Fo.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,Fo.jsxs)("button",{onClick:this.handleReset,className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 transition-colors font-medium",children:[(0,Fo.jsx)(sp,{className:"h-4 w-4 mr-2"}),"Try Again"]}),(0,Fo.jsxs)(we,{to:"/dashboard",className:"flex items-center justify-center px-4 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium",children:[(0,Fo.jsx)(ci,{className:"h-4 w-4 mr-2"}),"Go Home"]})]})]})}):this.props.children}};var Q=H(se()),sr=({children:e})=>{let{user:t}=Ge();return t?(0,Q.jsx)(Q.Fragment,{children:e}):(0,Q.jsx)(Ji,{to:"/login",replace:!0})},X6=({children:e})=>{let{user:t}=Ge();return t&&t.role==="ADMIN"?(0,Q.jsx)(Q.Fragment,{children:e}):(0,Q.jsx)(Ji,{to:"/dashboard",replace:!0})},af=({children:e})=>{let{user:t}=Ge();return t&&t.role==="TEACHER"?(0,Q.jsx)(Q.Fragment,{children:e}):(0,Q.jsx)(Ji,{to:"/home",replace:!0})},J6=({children:e})=>{let{user:t}=Ge();return t?(0,Q.jsx)(Ji,{to:"/dashboard",replace:!0}):(0,Q.jsx)(Q.Fragment,{children:e})},YQ=()=>{let{courseId:e}=ya();return(0,Q.jsx)(Qp,{courseId:e||""})},XQ=()=>{let{handleOAuthLogin:e}=Ge(),t=ht(),[r,a]=(0,Dn.useState)(null),[o,n]=(0,Dn.useState)(!0);return(0,Dn.useEffect)(()=>{(async()=>{try{let i=new URLSearchParams(window.location.search),c=i.get("code"),l=i.get("state"),d=i.get("error"),u=i.get("error_description");if(d){let h=u||d;a(h),n(!1),setTimeout(()=>{t(`/login?error=${encodeURIComponent(h)}`)},3e3);return}let g=sessionStorage.getItem("oauth_state");if(l&&g&&l!==g){a("Invalid state parameter. Possible CSRF attack."),n(!1),setTimeout(()=>{t("/login?error=invalid_state")},3e3);return}if(!c){a("Missing authorization code"),n(!1),setTimeout(()=>{t("/login?error=missing_code")},3e3);return}sessionStorage.removeItem("oauth_provider"),sessionStorage.removeItem("oauth_state"),sessionStorage.removeItem("oauth_redirect_uri"),await e("google",c,l||void 0),n(!1),t("/dashboard")}catch(i){console.error("Google OAuth login failed:",i);let c=i.response?.data?.error||i.message||"OAuth login failed";a(c),n(!1),setTimeout(()=>{t(`/login?error=${encodeURIComponent(c)}`)},3e3)}})()},[e,t]),(0,Q.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,Q.jsx)("div",{className:"text-center max-w-md mx-auto p-8",children:r?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("div",{className:"text-red-600 dark:text-red-400 mb-4 text-lg font-semibold",children:"Authentication Error"}),(0,Q.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:r}),(0,Q.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Redirecting to login..."})]}):o?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,Q.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Completing login..."}),(0,Q.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:"Please wait"})]}):null})})},JQ=()=>{let{handleOAuthLogin:e}=Ge(),t=ht(),[r,a]=(0,Dn.useState)(null),[o,n]=(0,Dn.useState)(!0);return(0,Dn.useEffect)(()=>{(async()=>{try{let i=new URLSearchParams(window.location.search),c=i.get("code"),l=i.get("state"),d=i.get("error"),u=i.get("error_description"),g=i.get("provider");if(d){let y=u||d;a(y),n(!1),setTimeout(()=>{t(`/login?error=${encodeURIComponent(y)}`)},3e3);return}let h=sessionStorage.getItem("oauth_provider"),v=g||h,m=sessionStorage.getItem("oauth_state");if(l&&m&&l!==m){a("Invalid state parameter. Possible CSRF attack."),n(!1),setTimeout(()=>{t("/login?error=invalid_state")},3e3);return}if(!c){a("Missing authorization code"),n(!1),setTimeout(()=>{t("/login?error=missing_code")},3e3);return}if(!v){a("Unable to determine OAuth provider"),n(!1),setTimeout(()=>{t("/login?error=missing_provider")},3e3);return}sessionStorage.removeItem("oauth_provider"),sessionStorage.removeItem("oauth_state"),sessionStorage.removeItem("oauth_redirect_uri"),await e(v,c,l||void 0),t("/dashboard")}catch(i){console.error("OAuth login failed:",i);let c=i.response?.data?.error||i.message||"OAuth login failed";a(c),n(!1),setTimeout(()=>{t(`/login?error=${encodeURIComponent(c)}`)},3e3)}})()},[e,t]),(0,Q.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,Q.jsx)("div",{className:"text-center max-w-md mx-auto p-8",children:r?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("div",{className:"text-red-600 dark:text-red-400 mb-4 text-lg font-semibold",children:"Authentication Error"}),(0,Q.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:r}),(0,Q.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Redirecting to login..."})]}):o?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,Q.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Completing login..."}),(0,Q.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:"Please wait"})]}):null})})};function ZQ(){let{user:e}=Ge(),{theme:t,getEffectiveTheme:r}=Td(),[a,o]=(0,Dn.useState)(!1);return(0,Dn.useEffect)(()=>{let n=localStorage.getItem("refreshToken");n&&mn(n)},[]),(0,Dn.useEffect)(()=>{if(r()==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),t==="system"&&typeof window<"u"){let s=window.matchMedia("(prefers-color-scheme: dark)"),i=()=>{r()==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return s.addEventListener("change",i),()=>{s.removeEventListener("change",i)}}},[t,r]),(0,Dn.useEffect)(()=>{if(e){_c.connect();let n=i=>{switch(console.log("WebSocket message received:",i),i.type){case"NOTIFICATION":window.addNotification?.({type:"info",title:"New Notification",message:i.data.message||"You have a new notification",duration:5e3});break;case"CHAT":window.addNotification?.({type:"info",title:"New Message",message:`New message in ${i.data.courseId||"course"}`,duration:3e3});break;case"VIDEO":i.data.action==="join"?window.addNotification?.({type:"info",title:"Video Call",message:`${i.data.userName||"Someone"} joined the video call`,duration:3e3}):i.data.action==="leave"&&window.addNotification?.({type:"info",title:"Video Call",message:`${i.data.userName||"Someone"} left the video call`,duration:3e3});break;case"MESSAGE":window.addNotification?.({type:"info",title:"New Direct Message",message:`Message from ${i.data.senderName||"someone"}`,duration:4e3});break;default:console.log("Unknown message type:",i.type)}},s=i=>{console.log("WebSocket connection:",i?"connected":"disconnected"),i?window.addNotification?.({type:"success",title:"Connected",message:"Real-time connection established",duration:2e3}):window.addNotification?.({type:"warning",title:"Disconnected",message:"Real-time connection lost. Trying to reconnect...",duration:3e3})};return _c.onMessage(n),_c.onConnectionChange(s),()=>{_c.offMessage(n),_c.offConnectionChange(s),_c.disconnect()}}},[e]),e?(0,Q.jsx)(qv,{children:(0,Q.jsx)(uT,{children:(0,Q.jsx)(gb,{children:(0,Q.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,Q.jsxs)(Qh,{children:[(0,Q.jsx)(Nt,{path:"/login",element:(0,Q.jsx)(J6,{children:(0,Q.jsx)(Y0,{})})}),(0,Q.jsx)(Nt,{path:"/register",element:(0,Q.jsx)(J6,{children:(0,Q.jsx)($1,{})})}),(0,Q.jsx)(Nt,{path:"/home",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(gL,{})})})}),(0,Q.jsx)(Nt,{path:"/dashboard",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Ji,{to:"/home",replace:!0})})}),(0,Q.jsx)(Nt,{path:"/learn",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(vL,{})})})}),(0,Q.jsx)(Nt,{path:"/discover",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(xL,{})})})}),(0,Q.jsx)(Nt,{path:"/search",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(bL,{})})})}),(0,Q.jsx)(Nt,{path:"/courses",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(aP,{})})})}),(0,Q.jsx)(Nt,{path:"/lessons",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(H6,{})})})}),(0,Q.jsx)(Nt,{path:"/courses/:id",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(aT,{})})})}),(0,Q.jsx)(Nt,{path:"/courses/:id/learn",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(iT,{})})})}),(0,Q.jsx)(Nt,{path:"/courses/:id/announcements",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(lT,{})})})}),(0,Q.jsx)(Nt,{path:"/quizzes",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(dT,{})})})}),(0,Q.jsx)(Nt,{path:"/quiz/:id",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(cT,{})})})}),(0,Q.jsx)(Nt,{path:"/analytics",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(Lk,{})})})}),(0,Q.jsx)(Nt,{path:"/students/progress",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(iN,{})})})}),(0,Q.jsx)(Nt,{path:"/courses/:courseId/students/progress",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(iN,{})})})}),(0,Q.jsx)(Nt,{path:"/admin/notifications",element:(0,Q.jsx)(X6,{children:(0,Q.jsx)(j6,{})})}),(0,Q.jsx)(Nt,{path:"/calendar",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(Rk,{})})})}),(0,Q.jsx)(Nt,{path:"/schedule",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(Rk,{})})})}),(0,Q.jsx)(Nt,{path:"/progress",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Q.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Q.jsxs)("div",{className:"mb-8",children:[(0,Q.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Progress"}),(0,Q.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Track your learning journey and achievements"})]}),(0,Q.jsx)(mT,{})]})})})})}),(0,Q.jsx)(Nt,{path:"/certificates",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(V6,{})})})}),(0,Q.jsx)(Nt,{path:"/study-groups",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Q.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Q.jsx)(Pv,{})})})})})}),(0,Q.jsx)(Nt,{path:"/courses/:courseId/forum",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(YQ,{})})})}),(0,Q.jsx)(Nt,{path:"/files",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(L6,{})})})}),(0,Q.jsx)(Nt,{path:"/messages",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(Ov,{})})})}),(0,Q.jsx)(Nt,{path:"/messages/new",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(Ov,{})})})}),(0,Q.jsx)(Nt,{path:"/messages/:userId",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(Ov,{})})})}),(0,Q.jsx)(Nt,{path:"/people",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(I6,{})})})}),(0,Q.jsx)(Nt,{path:"/assignments",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(R6,{})})})}),(0,Q.jsx)(Nt,{path:"/assignments/grade",element:(0,Q.jsx)(af,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(A6,{})})})}),(0,Q.jsx)(Nt,{path:"/gradebook",element:(0,Q.jsx)(af,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(O6,{})})})}),(0,Q.jsx)(Nt,{path:"/content-library",element:(0,Q.jsx)(af,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(K6,{})})})}),(0,Q.jsx)(Nt,{path:"/students/groups",element:(0,Q.jsx)(af,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(Q6,{})})})}),(0,Q.jsx)(Nt,{path:"/assignments/:assignmentId",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(oN,{})})})}),(0,Q.jsx)(Nt,{path:"/assignments/:assignmentId/submit",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(oN,{})})})}),(0,Q.jsx)(Nt,{path:"/admin/analytics",element:(0,Q.jsx)(X6,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(Lk,{})})})}),(0,Q.jsx)(Nt,{path:"/profile",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(M6,{})})})}),(0,Q.jsx)(Nt,{path:"/lessons/create",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(q6,{})})})}),(0,Q.jsx)(Nt,{path:"/lessons/availability",element:(0,Q.jsx)(af,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(z6,{})})})}),(0,Q.jsx)(Nt,{path:"/lessons/book",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)($6,{})})})}),(0,Q.jsx)(Nt,{path:"/calls/:contactId",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(_6,{})})}),(0,Q.jsx)(Nt,{path:"/marketing-guide",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(nN,{})})})}),(0,Q.jsx)(Nt,{path:"/earnings-report",element:(0,Q.jsx)(af,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(B6,{})})})}),(0,Q.jsx)(Nt,{path:"/revenue-growth",element:(0,Q.jsx)(sr,{children:(0,Q.jsx)(Wt,{children:(0,Q.jsx)(nN,{guideType:"revenue"})})})}),(0,Q.jsx)(Nt,{path:"/",element:(0,Q.jsx)(Ji,{to:e?"/home":"/login",replace:!0})})]}),e&&(0,Q.jsx)(fT,{isOpen:a,onClose:()=>o(!1),onToggle:()=>o(!a)})]})})})}):(0,Q.jsx)(gb,{children:(0,Q.jsxs)(Qh,{children:[(0,Q.jsx)(Nt,{path:"/auth/google/callback",element:(0,Q.jsx)(XQ,{})}),(0,Q.jsx)(Nt,{path:"/oauth/callback",element:(0,Q.jsx)(JQ,{})}),(0,Q.jsx)(Nt,{path:"/login",element:(0,Q.jsx)(Y0,{})}),(0,Q.jsx)(Nt,{path:"/register",element:(0,Q.jsx)($1,{})}),(0,Q.jsx)(Nt,{path:"/forgot-password",element:(0,Q.jsx)(mL,{})}),(0,Q.jsx)(Nt,{path:"/reset-password",element:(0,Q.jsx)(pL,{})}),(0,Q.jsx)(Nt,{path:"*",element:(0,Q.jsx)(Y0,{})})]})})}var Z6=ZQ;var tD=H(se());try{let e=document.getElementById("root");if(!e)throw new Error("Root element not found");eD.default.createRoot(e).render((0,tD.jsx)(Z6,{}))}catch(e){console.error("Main.tsx: Failed to render app:",e);let t=document.getElementById("root");t&&(t.innerHTML=`
      <div style="padding: 20px; font-family: sans-serif;">
        <h1>Application Error</h1>
        <p>Failed to load the application. Please check the console for details.</p>
        <pre style="background: #f5f5f5; padding: 10px; border-radius: 4px; overflow: auto;">${e instanceof Error?e.message:String(e)}</pre>
        <p style="margin-top: 20px; color: #666;">Check the browser console for more details.</p>
      </div>
    `)}})();
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-shim.production.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js:
  (**
   * @license React
   * use-sync-external-store-shim/with-selector.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

quill/dist/quill.js:
  (*!
   * Quill Editor v1.3.7
   * https://quilljs.com/
   * Copyright (c) 2014, Jason Chen
   * Copyright (c) 2013, salesforce.com
   *)

@remix-run/router/dist/router.js:
  (**
   * @remix-run/router v1.23.0
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

react-router/dist/index.js:
  (**
   * React Router v6.30.1
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

react-router-dom/dist/index.js:
  (**
   * React Router DOM v6.30.1
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)
*/
